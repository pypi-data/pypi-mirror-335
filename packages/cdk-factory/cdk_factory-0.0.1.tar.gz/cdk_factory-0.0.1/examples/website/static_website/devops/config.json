{
    "workload": {
        "name": "geekcafe-example",
        "region": "us-east-1",
        "description": "General info about this app/workload",
        "primary_domain": "example.com",
        "management": {
            "account": "11111111111",
            "region": "us-east-1",
            "hosted_zone_id": "zone_id"
        },
        "devops": {
            "account_name": "geekcafe-sandbox",
            "account": "328553401036",
            "region": "us-east-1",
            "code_repository": {
                "name": "geekcafe/cdk-factory",
                "type": "connector_arn",
                "connector_arn": "arn:aws:codeconnections:us-east-1:328553401036:connection/564e4daf-ccc8-4cbe-8414-39640c3e3e58"
            },
            "code_artifact": {
                "logins": [
                    "aws codeartifact login --tool pip --domain {domain} --repository {repository} --region {region}"
                ]
            },
            "commands": [
                {
                    "name": "cdk_synth",
                    "commands": [],
                    "file": "./commands/cdk_synth.sh"
                }
            ]
        },
        "stacks": [
            {
                "name": "web-site-bucket",
                "module": "bucket_stack",
                "enabled": true,
                "bucket": {
                    "name": "website-cdn",
                    "fully_qualified_name": "{{workload-name}}-{{deployment-name}}-website-cdn",
                    "exists": false
                }
            },
            {
                "name": "web-site",
                "module": "static_website_stack",
                "enabled": true,
                "bucket": {
                    "name": "website-cdn",
                    "fully_qualified_name": "{{workload-name}}-{{deployment-name}}-website-cdn",
                    "exists": true
                },
                "src": {
                    "location": "file_system",
                    "path": "../src/www"
                },
                "accounts": [
                    {
                        "account": "328553401036",
                        "environments": [
                            {
                                "environment": "dev",
                                "dns": {
                                    "hosted_zone_id": "Z05642272AJK83SGL7G88",
                                    "hosted_zone_name": "sandbox.geekcafe.com",
                                    "aliases": [
                                        "dev.sandbox.geekcafe.com",
                                        "www.dev.sandbox.geekcafe.com"
                                    ]
                                },
                                "cert": {
                                    "domain_name": "dev.sandbox.geekcafe.com",
                                    "alternate_names": [
                                        "*.dev.sandbox.geekcafe.com"
                                    ]
                                }
                            }                            
                        ]
                    }
                ]
            }
        ],
        "pipelines": [
            {
                "name": "static-site-dev-pipeline",
                "branch": "develop",
                "enabled": false,
                "stages": [
                    {
                        "name": "bucket",
                        "stacks": [
                            "web-site-bucket"
                        ]
                    },
                    {
                        "name": "website1",
                        "stacks": [
                            "web-site"
                        ]
                    }
                ],
                "deployments": [
                    {
                        "name": "dev",
                        "waves": [
                            "bucket",
                            "website"
                        ]
                    }
                ]
            }
        ],
        "deployments": [
            {
                "name": "dev",
                "environment": "dev",
                "account": "328553401036",
                "region": "us-east-1",
                "mode": "stack",
                "stacks": [
                    "web-site-bucket"
                ],
                "enabled": true
            },
            {
                "name": "static-site-dev-deployment",
                "environment": "dev",
                "account": "328553401036",
                "region": "us-east-1",
                "mode": "pipeline",
                "pipeline": "static-site-dev-pipeline",
                "enabled": true
            }
        ]
    }
}