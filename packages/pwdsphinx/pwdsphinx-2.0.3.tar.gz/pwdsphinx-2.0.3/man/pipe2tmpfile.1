.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "pipe2tmpfile" "1" "" "" "simple tool that allows commands that expect files to work with data coming through a pipe"
.SH NAME
pipe2tmpfile(1) \- simple tool that allows commands that expect files to
work with data coming through a pipe
.SH SYNOPSIS
.IP
.EX
echo input | pipe2tmpfile <command> \[at]\[at]keyfile\[at]\[at]
.EE
.PP
\f[CR]command\f[R] will run with a temporary file containing the content
\f[CR]input\f[R].
.SH DESCRIPTION
This is a simple tool that converts the output of a pipe into a
temporary file and runs the command replacing the token
\f[CR]\[at]\[at]keyfile\[at]\[at]\f[R] with the filename of temporary
file, which gets deleted after the command finishes running.
A simple example to sign a file using a minisig key stored in sphinx:
.SH EXAMPLE
.IP
.EX
  getpwd \f[B]|\f[R] env/bin/sphinx get minisig://user1 minisign\-test\-key \f[B]|\f[R] pipe2tmpfile minisign \-S \-s \[at]\[at]keyfile\[at]\[at] \-m filetosign
.EE
.PP
uses minisign to sign the file \f[CR]filetosign\f[R] using the key
fetched from sphinx.
.SH SECURITY CONSIDERATIONS
Since the output of sphinx is generally sensitive it is advised to not
write it to permanent storage.
Thus pipe2tmpfile tries to store it in a tmpfs, by default under
\f[CR]/run/user/$(id \-u)\f[R], however users can provide an alternative
path to store these files by setting the environment variable
\f[CR]keyroot\f[R].
.PP
The temporary files are deleted after the execution of the command.
.SH REPORTING BUGS
https://github.com/stef/pwdsphinx/issues/
.SH AUTHOR
Written by Stefan Marsiske.
.SH COPYRIGHT
Copyright Â© 2024 Stefan Marsiske.
License GPLv3+: GNU GPL version 3 or later \c
.UR https://gnu.org/licenses/gpl.html
.UE \c
\&.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
.SH SEE ALSO
\f[CR]sphinx(1)\f[R]
