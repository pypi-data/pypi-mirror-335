(self.webpackChunkpret=self.webpackChunkpret||[]).push([[894],{155:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,l=[],c=!1,u=-1;function f(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s&&s[u].run();u=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||c||a(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},784:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=784,e.exports=t},894:function(e,t,r){"use strict";var n="/";r.r(t),r.d(t,{loadPyodide:function(){return ne},version:function(){return re}}),e=r.hmd(e);var i=r(155),o=Object.defineProperty,a=(e,t)=>o(e,"name",{value:t,configurable:!0}),s=r(784);function l(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e){return e.charAt(0).toUpperCase()+e.substring(1)}function u(e){return function(){return this[e]}}a(l,"_isNumber"),a(c,"_capitalize"),a(u,"_getter");var f,d,m=["isConstructor","isEval","isNative","isToplevel"],p=["columnNumber","lineNumber"],y=["fileName","functionName","source"],h=m.concat(p,y,["args"],["evalOrigin"]);function w(e){if(e)for(var t=0;t<h.length;t++)void 0!==e[h[t]]&&this["set"+c(h[t])](e[h[t]])}for(a(w,"StackFrame"),w.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof w)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new w(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",r=this.getColumnNumber()||"",n=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+r+")":"[eval]:"+t+":"+r:n?n+" ("+e+":"+t+":"+r+")":e+":"+t+":"+r}},w.fromString=a((function(e){var t=e.indexOf("("),r=e.lastIndexOf(")"),n=e.substring(0,t),i=e.substring(t+1,r).split(","),o=e.substring(r+1);if(0===o.indexOf("@"))var a=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),s=a[1],l=a[2],c=a[3];return new w({functionName:n,args:i||void 0,fileName:s,lineNumber:l||void 0,columnNumber:c||void 0})}),"StackFrame$$fromString"),f=0;f<m.length;f++)w.prototype["get"+c(m[f])]=u(m[f]),w.prototype["set"+c(m[f])]=function(e){return function(t){this[e]=!!t}}(m[f]);for(d=0;d<p.length;d++)w.prototype["get"+c(p[d])]=u(p[d]),w.prototype["set"+c(p[d])]=function(e){return function(t){if(!l(t))throw new TypeError(e+" must be a Number");this[e]=Number(t)}}(p[d]);for(g=0;g<y.length;g++)w.prototype["get"+c(y[g])]=u(y[g]),w.prototype["set"+c(y[g])]=function(e){return function(t){this[e]=String(t)}}(y[g]);var g,v=w;function b(){var e=/^\s*at .*(\S+:\d+|\(native\))/m,t=/^(eval@)?(\[native code])?$/;return{parse:a((function(t){if(t.stack&&t.stack.match(e))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")}),"ErrorStackParser$$parse"),extractLocation:a((function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]}),"ErrorStackParser$$extractLocation"),parseV8OrIE:a((function(t){return t.stack.split("\n").filter((function(t){return!!t.match(e)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),r=t.match(/ (\(.+\)$)/);t=r?t.replace(r[0],""):t;var n=this.extractLocation(r?r[1]:t),i=r&&t||void 0,o=["eval","<anonymous>"].indexOf(n[0])>-1?void 0:n[0];return new v({functionName:i,fileName:o,lineNumber:n[1],columnNumber:n[2],source:e})}),this)}),"ErrorStackParser$$parseV8OrIE"),parseFFOrSafari:a((function(e){return e.stack.split("\n").filter((function(e){return!e.match(t)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new v({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=e.match(t),n=r&&r[1]?r[1]:void 0,i=this.extractLocation(e.replace(t,""));return new v({functionName:n,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}),"ErrorStackParser$$parseFFOrSafari")}}a(b,"ErrorStackParser");var E,S,O,F,k,T,L,N,x,R=new b,_="object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node&&!i.browser,D=_&&typeof e.exports<"u"&&typeof s<"u"&&typeof n<"u",A=_&&!D,I=(globalThis.Bun,typeof Deno<"u"),P=!_&&!I,j=P&&"object"==typeof window&&"object"==typeof document&&"function"==typeof document.createElement&&"object"==typeof sessionStorage&&"function"!=typeof importScripts,$=P&&"function"==typeof importScripts&&"object"==typeof self;async function U(){if(!_||(E=(await import("node:url")).default,F=await import("node:fs"),k=await import("node:fs/promises"),O=(await import("node:vm")).default,S=await import("node:path"),L=S.sep,typeof s<"u"))return;let e={fs:F,crypto:await import("node:crypto"),ws:await import("ws"),child_process:await import("node:child_process")};globalThis.require=function(t){return e[t]}}function M(e,t){return S.resolve(t||".",e)}function C(e,t){return void 0===t&&(t=location),new URL(e,t).toString()}function H(e,t){return e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?{response:fetch(e)}:{binary:k.readFile(e).then((e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength)))}}function W(e,t){let r=new URL(e,location);return{response:fetch(r,t?{integrity:t}:{})}}async function z(e,t){let{response:r,binary:n}=N(e,t);if(n)return n;let i=await r;if(!i.ok)throw new Error(`Failed to load '${e}': request failed.`);return new Uint8Array(await i.arrayBuffer())}if("object"==typeof navigator&&"string"==typeof navigator.userAgent&&-1==navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Safari"),a(U,"initNodeModules"),a(M,"node_resolvePath"),a(C,"browser_resolvePath"),T=_?M:C,_||(L="/"),a(H,"node_getBinaryResponse"),a(W,"browser_getBinaryResponse"),N=_?H:W,a(z,"loadBinaryFile"),j)x=a((async e=>await import(e)),"loadScript");else if($)x=a((async e=>{try{globalThis.importScripts(e)}catch(t){if(!(t instanceof TypeError))throw t;await import(e)}}),"loadScript");else{if(!_)throw new Error("Cannot determine runtime environment");x=B}async function B(e){e.startsWith("file://")&&(e=e.slice(7)),e.includes("://")?O.runInThisContext(await(await fetch(e)).text()):await import(E.pathToFileURL(e).href)}async function V(e){if(_){await U();let t=await k.readFile(e,{encoding:"utf8"});return JSON.parse(t)}return await(await fetch(e)).json()}async function q(){if(D)return n;let e;try{throw new Error}catch(t){e=t}let t=R.parse(e)[0].fileName;if(_&&!t.startsWith("file://")&&(t=`file://${t}`),A){let e=await import("node:path");return(await import("node:url")).fileURLToPath(e.dirname(t))}let r=t.lastIndexOf(L);if(-1===r)throw new Error("Could not extract indexURL path from pyodide module location");return t.slice(0,r)}function Y(e){let t=e.FS,r=e.FS.filesystems.MEMFS,n=e.PATH,i={DIR_MODE:16895,FILE_MODE:33279,mount:function(e){if(!e.opts.fileSystemHandle)throw new Error("opts.fileSystemHandle is required");return r.mount.apply(null,arguments)},syncfs:async(e,t,r)=>{try{let n=i.getLocalSet(e),o=await i.getRemoteSet(e),a=t?o:n,s=t?n:o;await i.reconcile(e,a,s),r(null)}catch(e){r(e)}},getLocalSet:e=>{let r=Object.create(null);function i(e){return"."!==e&&".."!==e}function o(e){return t=>n.join2(e,t)}a(i,"isRealDir"),a(o,"toAbsolute");let s=t.readdir(e.mountpoint).filter(i).map(o(e.mountpoint));for(;s.length;){let e=s.pop(),n=t.stat(e);t.isDir(n.mode)&&s.push.apply(s,t.readdir(e).filter(i).map(o(e))),r[e]={timestamp:n.mtime,mode:n.mode}}return{type:"local",entries:r}},getRemoteSet:async e=>{let t=Object.create(null),r=await J(e.opts.fileSystemHandle);for(let[o,a]of r)"."!==o&&(t[n.join2(e.mountpoint,o)]={timestamp:"file"===a.kind?(await a.getFile()).lastModifiedDate:new Date,mode:"file"===a.kind?i.FILE_MODE:i.DIR_MODE});return{type:"remote",entries:t,handles:r}},loadLocalEntry:e=>{let n=t.lookupPath(e).node,i=t.stat(e);if(t.isDir(i.mode))return{timestamp:i.mtime,mode:i.mode};if(t.isFile(i.mode))return n.contents=r.getFileDataAsTypedArray(n),{timestamp:i.mtime,mode:i.mode,contents:n.contents};throw new Error("node type not supported")},storeLocalEntry:(e,r)=>{if(t.isDir(r.mode))t.mkdirTree(e,r.mode);else{if(!t.isFile(r.mode))throw new Error("node type not supported");t.writeFile(e,r.contents,{canOwn:!0})}t.chmod(e,r.mode),t.utime(e,r.timestamp,r.timestamp)},removeLocalEntry:e=>{var r=t.stat(e);t.isDir(r.mode)?t.rmdir(e):t.isFile(r.mode)&&t.unlink(e)},loadRemoteEntry:async e=>{if("file"===e.kind){let t=await e.getFile();return{contents:new Uint8Array(await t.arrayBuffer()),mode:i.FILE_MODE,timestamp:t.lastModifiedDate}}if("directory"===e.kind)return{mode:i.DIR_MODE,timestamp:new Date};throw new Error("unknown kind: "+e.kind)},storeRemoteEntry:async(e,r,i)=>{let o=e.get(n.dirname(r)),a=t.isFile(i.mode)?await o.getFileHandle(n.basename(r),{create:!0}):await o.getDirectoryHandle(n.basename(r),{create:!0});if("file"===a.kind){let e=await a.createWritable();await e.write(i.contents),await e.close()}e.set(r,a)},removeRemoteEntry:async(e,t)=>{await e.get(n.dirname(t)).removeEntry(n.basename(t)),e.delete(t)},reconcile:async(e,r,o)=>{let a=0,s=[];Object.keys(r.entries).forEach((function(e){let n=r.entries[e],i=o.entries[e];(!i||t.isFile(n.mode)&&n.timestamp.getTime()>i.timestamp.getTime())&&(s.push(e),a++)})),s.sort();let l=[];if(Object.keys(o.entries).forEach((function(e){r.entries[e]||(l.push(e),a++)})),l.sort().reverse(),!a)return;let c="remote"===r.type?r.handles:o.handles;for(let t of s){let r=n.normalize(t.replace(e.mountpoint,"/")).substring(1);if("local"===o.type){let e=c.get(r),n=await i.loadRemoteEntry(e);i.storeLocalEntry(t,n)}else{let e=i.loadLocalEntry(t);await i.storeRemoteEntry(c,r,e)}}for(let t of l)if("local"===o.type)i.removeLocalEntry(t);else{let r=n.normalize(t.replace(e.mountpoint,"/")).substring(1);await i.removeRemoteEntry(c,r)}}};e.FS.filesystems.NATIVEFS_ASYNC=i}a(B,"nodeLoadScript"),a(V,"loadLockFile"),a(q,"calculateDirname"),a(Y,"initializeNativeFS");var J=a((async e=>{let t=[];async function r(e){for await(let n of e.values())t.push(n),"directory"===n.kind&&await r(n)}a(r,"collect"),await r(e);let n=new Map;n.set(".",e);for(let r of t){let t=(await e.resolve(r)).join("/");n.set(t,r)}return n}),"getFsHandles");function G(e){let t={noImageDecoding:!0,noAudioDecoding:!0,noWasmDecoding:!1,preRun:ee(e),quit(e,r){throw t.exited={status:e,toThrow:r},r},print:e.stdout,printErr:e.stderr,arguments:e.args,API:{config:e},locateFile:t=>e.indexURL+t,instantiateWasm:te(e.indexURL)};return t}function K(e){return function(t){try{t.FS.mkdirTree(e)}catch(t){console.error(`Error occurred while making a home directory '${e}':`),console.error(t),console.error("Using '/' for a home directory instead"),e="/"}t.FS.chdir(e)}}function Q(e){return function(t){Object.assign(t.ENV,e)}}function X(e){return t=>{for(let r of e)t.FS.mkdirTree(r),t.FS.mount(t.FS.filesystems.NODEFS,{root:r},r)}}function Z(e){let t=z(e);return e=>{let r=e._py_version_major(),n=e._py_version_minor();e.FS.mkdirTree("/lib"),e.FS.mkdirTree(`/lib/python${r}.${n}/site-packages`),e.addRunDependency("install-stdlib"),t.then((t=>{e.FS.writeFile(`/lib/python${r}${n}.zip`,t)})).catch((e=>{console.error("Error occurred while installing the standard library:"),console.error(e)})).finally((()=>{e.removeRunDependency("install-stdlib")}))}}function ee(e){let t;return t=null!=e.stdLibURL?e.stdLibURL:e.indexURL+"python_stdlib.zip",[Z(t),K(e.env.HOME),Q(e.env),X(e._node_mounts),Y]}function te(e){let{binary:t,response:r}=N(e+"pyodide.asm.wasm");return function(e,n){return async function(){try{let i;i=r?await WebAssembly.instantiateStreaming(r,e):await WebAssembly.instantiate(await t,e);let{instance:o,module:a}=i;typeof WasmOffsetConverter<"u"&&(wasmOffsetConverter=new WasmOffsetConverter(wasmBinary,a)),n(o,a)}catch(e){console.warn("wasm instantiation failed!"),console.warn(e)}}(),{}}}a(G,"createSettings"),a(K,"createHomeDirectory"),a(Q,"setEnvironment"),a(X,"mountLocalDirectories"),a(Z,"installStdlib"),a(ee,"getFileSystemInitializationFuncs"),a(te,"getInstantiateWasmFunc");var re="0.26.2";async function ne(e={}){var t,r;await U();let n=e.indexURL||await q();n=T(n),n.endsWith("/")||(n+="/"),e.indexURL=n;let i={fullStdLib:!1,jsglobals:globalThis,stdin:globalThis.prompt?globalThis.prompt:void 0,lockFileURL:n+"pyodide-lock.json",args:[],_node_mounts:[],env:{},packageCacheDir:n,packages:[],enableRunUntilComplete:!1,checkAPIVersion:!0},o=Object.assign(i,e);(t=o.env).HOME??(t.HOME="/home/pyodide"),(r=o.env).PYTHONINSPECT??(r.PYTHONINSPECT="1");let a,s=G(o),l=s.API;if(l.lockFilePromise=V(o.lockFileURL),"function"!=typeof _createPyodideModule){let e=`${o.indexURL}pyodide.asm.js`;await x(e)}if(e._loadSnapshot){let t=await e._loadSnapshot;a=ArrayBuffer.isView(t)?t:new Uint8Array(t),s.noInitialRun=!0,s.INITIAL_MEMORY=a.length}let c,u=await _createPyodideModule(s);if(s.exited)throw s.exited.toThrow;if(e.pyproxyToStringRepr&&l.setPyProxyToStringMethod(!0),l.version!==re&&o.checkAPIVersion)throw new Error(`Pyodide version does not match: '${re}' <==> '${l.version}'. If you updated the Pyodide version, make sure you also updated the 'indexURL' parameter passed to loadPyodide.`);u.locateFile=e=>{throw new Error("Didn't expect to load any more file_packager files!")},a&&(c=l.restoreSnapshot(a));let f=l.finalizeBootstrap(c);return l.sys.path.insert(0,l.config.env.HOME),f.version.includes("dev")||l.setCdnUrl(`https://cdn.jsdelivr.net/pyodide/v${f.version}/full/`),l._pyodide.set_excepthook(),await l.packageIndexReady,l.initializeStreams(o.stdin,o.stdout,o.stderr),f}a(ne,"loadPyodide")}}]);