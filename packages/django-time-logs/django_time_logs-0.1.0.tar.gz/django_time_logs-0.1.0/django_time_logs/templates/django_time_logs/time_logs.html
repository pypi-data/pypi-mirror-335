{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Time Logger{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <body>
    {% block content %}
    <nav class="navbar navbar-expand-lg border-bottom border-body">
      <div class="container-fluid" style="max-width: 100%;">
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          
          <form class="d-flex" role="search" action="" method="GET">
            <!-- <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button> -->
            <div class="col-md-2 col-lg-2 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="status">Select Titles</label> -->
                  <input type="text" class="form-control selectpicker" list="statuses" name="title" id="status" placeholder="Select Title">
                  
                  <datalist id="statuses">
                      {% for api in titles %}
                      <option value="{{ api.title }}"
                      {% if request.GET.status == api.title %}value="selected"{% endif %}
                      >{{ api.title }}</option>
                      {% endfor %}
                  </datalist>
                  
              </div>
          </div>
          
          
          <div class="col-md-1 col-lg-1 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="duration">Select Duration</label> -->
                  <input type="text" class="form-control selectpicker" name="duration" id="duration" placeholder="Duration">
              </div>
          </div>
  
          <div class="col-md-2 col-lg-2 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="search">Search</label> -->
                  <input type="text" class="form-control selectpicker" name="q" id="search" placeholder="Title Wildcard Search">
              </div>
          </div>
  
  
          <!-- start_date box starts here -->
          <div class="col-md-2 col-lg-2 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="start_date">From</label> -->
                  <input type="datetime-local" class="form-control date-picker" name="start_date" id="start_date" placeholder="{{start_date_placeholder}} value="{{start_date_placeholder}}">                
              </div>
          </div>
          <!-- start_date box ends here -->
          
  
          <!-- end_date box starts here -->
          <div class="col-md-2 col-lg-2 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="end_date">To</label> -->
                  <input type="datetime-local" class="form-control" name="end_date" id="end_date" placeholder="{{end_date_placeholder}}" value="{{end_date_placeholder}}">
              </div>
          </div>
          <!-- end_date box ends here -->
          <div class="col-md-1 col-lg-1 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="duration">Maximum Size</label> -->
                  <input type="text" class="form-control selectpicker" name="size" id="size" placeholder="Maximum size">
              </div>
          </div>
  
          <div class="col-md-2 col-lg-2 col-sm-12 ms-1">
              <div class="form-group">
                  <!-- <label for="sort">Sort by</label> -->
                  <input type="text" class="form-control selectpicker" list="sort" name="sort" id="status" placeholder="Sort By">
                  
                  <datalist id="sort">
                      {% for sort in sorts %}
                      <option value="{{ sort }}"
                      {% if request.GET.status == sort %}value="selected"{% endif %}
                      >{{ sort }}</option>
                      {% endfor %}
                  </datalist>
                  
              </div>
          </div>
          
          <div class="form-check col-md-1 col-lg-1 col-sm-12 ms-1">
              <input class="form-check-input" type="checkbox" id="delete" name="delete">
              <label class="form-check-label" for="delete">Delete</label>
          </div>
          
          <!-- submit button -->
          <div class="col-md-1 col-lg-1 col-sm-12">
              <div class="form-group">
                  <input type="submit" value="Search"  id="delete" class="form-control btn btn-success">
              </div>
          </div>
      </div>
          </form>
        </div>
      </div>
  </nav>

  {% if error %} {{ error }} {% endif %}


<div class="page_table mt-1 mb-5 ">
  <table id="time_logs" class="table table-striped table-sm table-bordered table-hover " style="width:100%">
      <thead class="table-dark">
          <tr>
              <th>S/N</th>
              <th>Title</th>
              <th>Duration</th>
              <th>Date Created</th>
          </tr>
      </thead>
      <tbody>
          {% for time_log in time_logs %}
          <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ time_log.title }}</td>
              <td>{{ time_log.duration }}</td>
              <td>{{ time_log.created }}</td>
          </tr>
          {% endfor %}
      </tbody>
  </table>
</div>

<!-- Pagination begins here -->
{% if time_logs.has_other_pages %}
  <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
          {% if time_logs.has_previous %}
          <li class="page-item">
              <a class="page-link" href="?page={{ time_logs.previous_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}" tabindex="-1">Previous</a>
          </li>
          {% else %}
          <li class="page-item disabled">
              <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
          </li>
          {% endif %}
          <li class="page-item"><a class="page-link">Page {{ time_logs.number }} of {{ time_logs.paginator.num_pages }}</a></li>
          {% if time_logs.has_next %}
          <li class="page-item">
              <a class="page-link" href="?page={{ time_logs.next_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{key}}={{value}}{% endif %}{% endfor %}">Next</a>
          </li>
          {% else %}
          <li class="page-item disabled">
              <a class="page-link" href="#" aria-disabled="true">Next</a>
          </li>
          {% endif %}
      </ul>
  </nav>
{% endif %}
<!-- End of pagination -->
    {% endblock %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>