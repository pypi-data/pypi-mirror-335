
<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>masterpiece.mqtt &#8212; masterpiece  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../../_static/masterpiece.css?v=7a3aeb84" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="https://unpkg.com/mermaid@10.2.0/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          masterpiece</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../masterpiece/index.html">Masterpiece  Documentation</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <h1>Source code for masterpiece.mqtt</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Callable</span>

<span class="kn">from</span> <span class="nn">.masterpiece</span> <span class="kn">import</span> <span class="n">MasterPiece</span>


<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>


<div class="viewcode-block" id="MqttMsg">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.MqttMsg">[docs]</a>
<span class="k">class</span> <span class="nc">MqttMsg</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract base class for MQTT messages.&quot;&quot;&quot;</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">payload</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The payload of the MQTT message.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@payload</span><span class="o">.</span><span class="n">setter</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">payload</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the payload of the MQTT message.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">topic</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The topic of the MQTT message.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@topic</span><span class="o">.</span><span class="n">setter</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">topic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the topic of the MQTT message.&quot;&quot;&quot;</span>
        <span class="k">pass</span></div>



<div class="viewcode-block" id="Mqtt">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt">[docs]</a>
<span class="k">class</span> <span class="nc">Mqtt</span><span class="p">(</span><span class="n">MasterPiece</span><span class="p">,</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract base class for MQTT brokers.</span>

<span class="sd">    This class provides the foundation for implementing MQTT clients that</span>
<span class="sd">    interact with a broker, handling the connection, subscription, and</span>
<span class="sd">    message publishing.</span>

<span class="sd">    Note: Subclasses should implement the abstract methods to provide</span>
<span class="sd">    the actual behavior for connecting to an MQTT server, subscribing</span>
<span class="sd">    to topics, and handling the network loop. This class implies multi-threading,</span>
<span class="sd">    as the network loop should typically run in its own thread to handle</span>
<span class="sd">    incoming and outgoing MQTT messages concurrently.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">connected_flag</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span>
    <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1883</span>
    <span class="n">keepalive</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span>
    <span class="n">bind_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">_not_implemented</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Subclasses must implement this method.&quot;</span>

<div class="viewcode-block" id="Mqtt.__init__">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.__init__">[docs]</a>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize the MQTT base class with the given name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): The name to identify this instance of the MQTT client.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.connect_to_server">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.connect_to_server">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">connect_to_server</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">host</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1883</span><span class="p">,</span>
        <span class="n">keepalive</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">60</span><span class="p">,</span>
        <span class="n">bind_address</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Connect to the MQTT server.</span>

<span class="sd">        This method establishes a connection to the MQTT broker. It is expected</span>
<span class="sd">        that subclasses provide the actual connection logic.</span>

<span class="sd">        Args:</span>
<span class="sd">            host (str, optional): The host address of the MQTT broker. Defaults to &quot;localhost&quot;.</span>
<span class="sd">            port (int, optional): The port number for the MQTT broker. Defaults to 1883.</span>
<span class="sd">            keepalive (int, optional): The keep-alive time, in seconds. Defaults to 60.</span>
<span class="sd">            bind_address (str, optional): The local network address to bind to. Defaults to &quot;&quot;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: 0 if the connection is successful, non-zero values indicate errors.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.disconnect">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.disconnect">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disconnect from the MQTT broker.</span>

<span class="sd">        This method should gracefully disconnect the client from the MQTT broker.</span>
<span class="sd">        The subclass should implement the actual disconnection logic.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.subscribe">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.subscribe">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">subscribe</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">qos</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Subscribe to the given MQTT topic.</span>

<span class="sd">        This method subscribes the client to a specific topic and will listen for</span>
<span class="sd">        messages published to that topic. The QoS (Quality of Service) level can</span>
<span class="sd">        be set for the subscription.</span>

<span class="sd">        Args:</span>
<span class="sd">            topic (str): The MQTT topic to subscribe to.</span>
<span class="sd">            qos (int, optional): The Quality of Service level for the subscription. Defaults to 0.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.loop_stop">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.loop_stop">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">loop_stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the MQTT network loop.</span>

<span class="sd">        This method should stop the MQTT client&#39;s network loop, preventing further</span>
<span class="sd">        message dispatching or processing. It is commonly used when the client</span>
<span class="sd">        needs to shut down or stop receiving messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.publish">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.publish">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">publish</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topic</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">qos</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">retain</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Publish a message to a given MQTT topic.</span>

<span class="sd">        This method sends a message to the MQTT broker. It is expected that</span>
<span class="sd">        subclasses implement the logic for message publishing.</span>

<span class="sd">        Args:</span>
<span class="sd">            topic (str): The topic to which the message will be published.</span>
<span class="sd">            msg (str): The message to be published.</span>
<span class="sd">            qos (int, optional): The Quality of Service level for the message. Defaults to 0.</span>
<span class="sd">            retain (bool, optional): If True, the message will be retained by the broker. Defaults to False.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.loop_start">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.loop_start">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">loop_start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the MQTT network loop.</span>

<span class="sd">        This method should start the network loop in a separate thread to handle</span>
<span class="sd">        the asynchronous delivery of messages. The loop will handle incoming and</span>
<span class="sd">        outgoing messages as well as reconnections if the connection is lost.</span>

<span class="sd">        Note: Since the MQTT network loop typically runs in a separate thread,</span>
<span class="sd">              subclasses should ensure thread-safety for any shared resources.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


<div class="viewcode-block" id="Mqtt.loop_forever">
<a class="viewcode-back" href="../../masterpiece/index.html#masterpiece.Mqtt.loop_forever">[docs]</a>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">loop_forever</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Run the MQTT network loop indefinitely.</span>

<span class="sd">        This method blocks and runs the MQTT network loop forever. It handles</span>
<span class="sd">        all incoming and outgoing messages in a non-blocking manner.</span>

<span class="sd">        Note: This is a blocking call. If this method is called, the client</span>
<span class="sd">              will keep running until explicitly stopped. It is commonly</span>
<span class="sd">              used for long-running MQTT clients in production environments.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">MqttMsg</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Callback handler for receiving MQTT messages.</span>

<span class="sd">        This method defines the callback function that will be called whenever</span>
<span class="sd">        a new message arrives on a subscribed topic.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Callable[[object, Any, MqttMsg], None]: The function that handles incoming messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span>

    <span class="nd">@on_message</span><span class="o">.</span><span class="n">setter</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="n">MqttMsg</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the message handler, a method to be called when new messages are published.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Callable): Python method to be called on arrival of messages.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Callback handler for successful connections to the broker.</span>

<span class="sd">        This method defines the callback function that will be called when</span>
<span class="sd">        the client successfully connects to the MQTT broker.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Callable[[object, Any, int, int], None]: The function that handles successful connection events.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span>

    <span class="nd">@on_connect</span><span class="o">.</span><span class="n">setter</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">object</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the connection handler, a method to be called on successful connection.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Callable): Python method to be called when the client successfully connects.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Callback handler for disconnect events.</span>

<span class="sd">        This method defines the callback function that will be called when</span>
<span class="sd">        the client disconnects from the MQTT broker.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Callable[[Any, Any, int], None]: The function that handles disconnect events.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span>

    <span class="nd">@on_disconnect</span><span class="o">.</span><span class="n">setter</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">on_disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="n">Any</span><span class="p">,</span> <span class="n">Any</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="kc">None</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the disconnect handler, a method to be called when the client disconnects.</span>

<span class="sd">        Args:</span>
<span class="sd">            value (Callable): Python method to be called on disconnect.</span>

<span class="sd">        Raises:</span>
<span class="sd">            NotImplementedError: If this method is not implemented by the subclass.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_not_implemented</span><span class="p">)</span></div>

</pre></div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2024, juha meskanen.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.4.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>