(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1500],{50697:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/integrations/[id]",function(){return n(327)}])},67991:function(e,t,n){"use strict";n.d(t,{Od:function(){return o},QZ:function(){return a}});var i=n(27378);let a=e=>{let{items:t,selected:n,onChange:i}=e,a=t.every(e=>n.includes(e.id))&&!!t.length;return{allSelected:a,someSelected:t.some(e=>n.includes(e.id))&&!!t.length,handleToggleAll:()=>{a?i([]):i(t.map(e=>e.id))},handleToggleSelection:e=>{n.includes(e)?i(n.filter(t=>t!==e)):i([...n,e])}}},o=e=>{let{initialSelected:t,initialExcluded:n,initialAllSelected:a,itemCount:o}=e,[s,l]=(0,i.useState)(t),[r,c]=(0,i.useState)(n),[d,u]=(0,i.useState)(a||s.length===o),m=!!s.length||!!r.length;return{selected:s,excluded:r,allSelected:d,someSelected:m,handleToggleAll:()=>{d?(c([]),r.length||u(!1)):(l([]),u(!0))},handleToggleItemSelected:e=>{if(d)c(r.includes(e)?r.filter(t=>t!==e):[...r,e]);else{let t=s.includes(e)?s.filter(t=>t!==e):[...s,e];l(t),t.length===o&&u(!0)}}}}},79494:function(e,t,n){"use strict";var i=n(24246),a=n(56351);t.Z=e=>{let{title:t,icon:n,type:o,...s}=e;return(0,i.jsx)(a.wpx,{size:"small",type:o,"data-testid":"action-".concat(t),icon:n,iconPosition:"start",...s,children:t})}},327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return el}});var i=n(24246),a=n(56351),o=n(86677),s=n(7617),l=n(77213),r=n(77830),c=n(58754),d=n(94725),u=n(45216),m=n(7621),x=n(92222),g=n(59003),h=n(27378),p=n(18225);let f=(0,a.IUT)({displayName:"MonitorIcon",viewBox:"0 0 12 12",path:(0,i.jsx)("path",{d:"M1.33333 2.21875C1.15 2.21875 1 2.37344 1 2.5625V5.65625H3.66667C3.84167 5.65625 4.00417 5.75078 4.09583 5.90762L4.62708 6.8207L5.88542 4.22324C5.96667 4.05566 6.13125 3.94609 6.3125 3.93965C6.49375 3.9332 6.66667 4.02773 6.76042 4.18887L7.61458 5.65625H8.83333C9.11042 5.65625 9.33333 5.88613 9.33333 6.17188C9.33333 6.45762 9.11042 6.6875 8.83333 6.6875H7.33333C7.15833 6.6875 6.99583 6.59297 6.90417 6.43613L6.37292 5.52305L5.11458 8.12051C5.03333 8.28809 4.86875 8.39766 4.6875 8.4041C4.50625 8.41055 4.33333 8.31602 4.23958 8.15488L3.38542 6.6875H1V9.4375C1 9.62656 1.15 9.78125 1.33333 9.78125H10.6667C10.85 9.78125 11 9.62656 11 9.4375V2.5625C11 2.37344 10.85 2.21875 10.6667 2.21875H1.33333ZM0 2.5625C0 1.8041 0.597917 1.1875 1.33333 1.1875H10.6667C11.4021 1.1875 12 1.8041 12 2.5625V9.4375C12 10.1959 11.4021 10.8125 10.6667 10.8125H1.33333C0.597917 10.8125 0 10.1959 0 9.4375V2.5625Z",fill:"currentColor"})});var j=n(14481),y=n(72625),_=n(70675),b=n(812),v=e=>{let{defaultSuccessMsg:t,defaultErrorMsg:n}=e,i=(0,a.pmc)();return{toastResult:e=>{(0,b.D4)(e)?i({status:"error",description:(0,b.e$)(e.error,n)}):i({status:"success",description:t})}}},C=n(8133),S=n(46628),k=n(67991),w=n(91613);let R=(0,x.Cl)();var T=e=>{let{items:t,totalItemCount:n,selected:o,excluded:s,allSelected:l,someSelected:r,moreLoading:c,handleToggleSelection:d,handleToggleAll:u,onMoreClick:m}=e,f=t.map(e=>({id:e,isSelected:o.includes(e),isExcluded:s.includes(e)})),y=(0,h.useMemo)(()=>[R.display({id:"select",cell:e=>{let{row:t}=e;return(0,i.jsx)(j.k,{isChecked:t.original.isSelected||l&&!t.original.isExcluded,onChange:()=>d(t.original.id),dataTestId:"".concat(t.original.id,"-checkbox")})},header:()=>(0,i.jsx)(j.k,{isChecked:l,isIndeterminate:r,onChange:u,dataTestId:"select-all-checkbox"}),size:1}),R.accessor(e=>e.id,{id:"id",cell:e=>(0,i.jsx)(j.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(j.Rr,{value:"Scope",...e})})],[d,u,l,r]),_=(0,g.b7)({getCoreRowModel:(0,x.sC)(),getRowId:e=>e.id,manualPagination:!0,data:f,columns:y,columnResizeMode:"onChange"});return(0,i.jsx)(a.kCb,{w:"full",direction:"column",maxH:"lg",children:(0,i.jsx)(j.ZK,{tableInstance:_,onRowClick:e=>d(e.id),footer:!!m&&(0,i.jsx)(j.vr,{totalColumns:2,children:(0,i.jsx)(a.kCb,{justify:"center",children:c?(0,i.jsx)(p.Z,{size:"xs"}):(0,i.jsxs)(a.kCb,{align:"center",children:[(0,i.jsxs)(a.xvT,{fontSize:"xs",mr:4,children:["Showing ",t.length," of ",n]}),(0,i.jsx)(a.wpx,{onClick:m,size:"small","data-testid":"load-more-btn",children:"Load more..."})]})})})})})};let E={items:[],total:1,page:1,size:50,pages:0};var q=(e,t)=>{let[n,i]=(0,h.useState)(2),{data:a,isLoading:o}=(0,_.oN)({page:1,size:25,connection_config_key:e}),s=(0,h.useRef)(o),{items:l,total:r}=null!=a?a:E,c=!!(null==a?void 0:a.pages)&&n>a.pages,[d,u]=(0,h.useState)(l);(0,h.useEffect)(()=>{s.current=o,u(l)},[o,l]),(0,h.useEffect)(()=>{let e=setTimeout(()=>{s.current&&t&&t()},5e3);return()=>clearTimeout(e)},[]);let[m,{isLoading:x,isFetching:g}]=(0,_.j3)(),p=x||g||o,f=async()=>{var t,a;if(c)return;let o=await m({connection_config_key:e,size:25,page:n+1});o.isError||(i(n+1),u([...d,...null!==(a=null===(t=o.data)||void 0===t?void 0:t.items)&&void 0!==a?a:[]]))};return{databases:d,totalDatabases:r,fetchMore:f,initialIsLoading:o,isLoading:p,reachedEnd:c}},M=e=>{var t;let{monitor:n,isEditing:o,isSubmitting:s,integrationKey:l,onSubmit:r,onClose:c}=e,d=(0,a.pmc)(),{databases:u,totalDatabases:m,fetchMore:x,reachedEnd:g,isLoading:h,initialIsLoading:f}=q(l,()=>{r({...n,databases:[]}),d({...S.MA,status:"info",description:"Loading resources is taking longer than expected. The monitor has been saved and is tracking all available resources. You can return later to limit its scope if needed"}),c()}),j=null!==(t=null==n?void 0:n.databases)&&void 0!==t?t:[],{selected:y,excluded:_,allSelected:b,someSelected:v,handleToggleItemSelected:C,handleToggleAll:R}=(0,k.Od)({initialSelected:j,initialExcluded:[],initialAllSelected:o&&!j.length,itemCount:m}),E=!b&&0===y.length;return f?(0,i.jsx)(p.Z,{my:12}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.kCb,{p:4,direction:"column",children:[(0,i.jsxs)(a.kCb,{direction:"row",mb:4,gap:1,align:"center",children:[(0,i.jsx)(a.xvT,{fontSize:"sm",children:"Select projects to monitor"}),(0,i.jsx)(w.Z,{label:"Selecting a project will monitor all current and future datasets within that project."})]}),(0,i.jsx)(T,{items:u,totalItemCount:m,selected:y,excluded:_,allSelected:b,someSelected:v,moreLoading:h,handleToggleSelection:C,handleToggleAll:R,onMoreClick:g?void 0:x})]}),(0,i.jsxs)("div",{className:"mt-4 flex w-full justify-between",children:[(0,i.jsx)(a.wpx,{onClick:c,children:"Cancel"}),(0,i.jsx)(a.ua7,{label:"Select one or more projects to save",isDisabled:!E,children:(0,i.jsx)(a.wpx,{onClick:()=>{r({...n,excluded_databases:_,databases:b?[]:y})},loading:s,type:"primary","data-testid":"save-btn",disabled:E,children:"Save"})})]})]})},L=n(19508),D=n(96063),N=n(34090),A=n(59389),Z=n(97181),O=n(40324),z=n(21702),I=e=>{var t,n;let{monitor:s,integrationOption:l,isSubmitting:r,databasesAvailable:c,onClose:d,onAdvance:u,onSubmit:m}=e,x=!!s,{query:g}=(0,o.useRouter)(),h=Array.isArray(g.id)?g.id[0]:g.id,p=A.Ry().shape({name:A.Z_().required().label("Name"),execution_frequency:A.Z_().nullable().label("Execution frequency"),execution_start_date:A.hT().nullable().label("Execution start date")}),f=(null==s?void 0:s.execution_start_date)?(0,L.D)(s.execution_start_date):Date.now(),j={name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",execution_start_date:(0,D.WU)(f,"yyyy-MM-dd'T'HH:mm"),execution_frequency:null!==(n=null==s?void 0:s.execution_frequency)&&void 0!==n?n:z.hV.MONTHLY},y=(0,b.MM)(z.hV);return(0,i.jsx)(N.J9,{initialValues:j,enableReinitialize:!0,onSubmit:e=>{let t=e.execution_frequency!==z.hV.NOT_SCHEDULED?{execution_frequency:e.execution_frequency,execution_start_date:new Date(e.execution_start_date).toISOString()}:{execution_frequency:z.hV.NOT_SCHEDULED,execution_start_date:void 0},n=x?{...s,...t,name:e.name}:{...t,name:e.name,connection_config_key:h,classify_params:{num_samples:25,num_threads:1}};l.identifier===z.Rj.DYNAMODB&&(n.datasource_params={single_dataset:!1}),c?u(n):m(n)},validationSchema:p,children:e=>{let{values:t,isValid:n,resetForm:o}=e;return(0,i.jsx)(N.l0,{children:(0,i.jsxs)(a.gCW,{alignItems:"start",spacing:6,mt:4,children:[(0,i.jsx)(O.j0,{name:"name",id:"name",label:"Name",isRequired:!0,variant:"stacked"}),(0,i.jsx)(Z.d,{name:"execution_frequency",id:"execution_frequency",tooltip:"Interval to run the monitor automatically after the start date",options:y,label:"Automatic execution frequency",layout:"stacked"}),(0,i.jsx)(O.YL,{name:"execution_start_date",label:"Automatic execution start time",disabled:t.execution_frequency===z.hV.NOT_SCHEDULED,id:"execution_start_date"}),(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)(a.wpx,{onClick:()=>{o(),d()},children:"Cancel"}),(0,i.jsx)(a.wpx,{htmlType:"submit",type:"primary",disabled:!n,loading:r,"data-testid":"next-btn",children:c?"Next":"Save"})]})]})})}})},V=n(8411),H=n(3968),P=n(64781),U=n(60325);let W=A.Ry().shape({name:A.Z_().required().label("Name"),execution_frequency:A.Z_().nullable().label("Execution frequency"),execution_start_date:A.hT().nullable().label("Execution start date"),datasource_params:A.Ry().shape({locations:A.IX().label("Locations"),exclude_domains:A.IX().label("Exclude domains"),sitemap_url:A.Z_().nullable().url().label("Sitemap URL")})});var Y=e=>{var t,n,s;let{monitor:l,url:r,onClose:c,onSubmit:d}=e,{query:u}=(0,o.useRouter)(),m=Array.isArray(u.id)?u.id[0]:u.id,x=(null==l?void 0:l.execution_start_date)?(0,L.D)(l.execution_start_date):Date.now(),{data:g,isLoading:h}=(0,P.gT)(),p=[...(0,U.TK)(null!==(t=null==g?void 0:g.locations)&&void 0!==t?t:[]),...(0,U.TK)(null!==(n=null==g?void 0:g.location_groups)&&void 0!==n?n:[])].map(e=>({value:e,label:V.Z8[e]})),f={name:(null==l?void 0:l.name)||"",execution_frequency:(null==l?void 0:l.execution_frequency)||z.hV.MONTHLY,execution_start_date:(0,D.WU)(x,"yyyy-MM-dd'T'HH:mm"),url:r,connection_config_key:m,datasource_params:null!==(s=null==l?void 0:l.datasource_params)&&void 0!==s?s:{locations:[]}},j=async e=>{let t=e.execution_frequency!==z.hV.NOT_SCHEDULED?{execution_frequency:e.execution_frequency,execution_start_date:new Date(e.execution_start_date).toISOString()}:{execution_frequency:z.hV.NOT_SCHEDULED,execution_start_date:void 0};d({...l,...e,...t,key:(null==l?void 0:l.key)||(0,H.E)(e.name),classify_params:(null==l?void 0:l.classify_params)||{},datasource_params:e.datasource_params||{},connection_config_key:m})};return(0,i.jsxs)(a.jqI,{vertical:!0,className:"pt-4",children:[(0,i.jsx)(a.xuv,{p:4,mb:4,border:"1px solid",borderColor:"gray.200",bgColor:"gray.50",borderRadius:"md",children:(0,i.jsx)(a.xvT,{fontSize:"sm",children:"This monitor allows you to simulate and verify user consent actions, such as 'accept,' 'reject,' or 'opt-out,' on consent experiences. For each detected activity, the monitor will record whether it occurred before or after the configured user actions, ensuring compliance with user consent choices."})}),(0,i.jsx)(N.J9,{initialValues:f,enableReinitialize:!0,onSubmit:j,validationSchema:W,children:e=>{let{values:t,resetForm:n}=e;return(0,i.jsx)(N.l0,{children:(0,i.jsxs)(a.jqI,{vertical:!0,gap:"middle",children:[(0,i.jsx)(O.j0,{name:"name",id:"name",label:"Name",isRequired:!0,variant:"stacked"}),(0,i.jsx)(O.j0,{name:"datasource_params.sitemap_url",id:"sitemap_url",label:"Sitemap URL",variant:"stacked"}),(0,i.jsx)(Z.d,{mode:"tags",name:"datasource_params.exclude_domains",placeholder:"Enter domains to exclude",id:"exclude_domains",label:"Exclude domains",options:[],open:!1,layout:"stacked"}),(0,i.jsx)(O.j0,{name:"url",id:"url",label:"URL",isRequired:!0,disabled:!0,variant:"stacked"}),(0,i.jsx)(Z.d,{mode:"multiple",isRequired:!0,name:"datasource_params.locations",id:"locations",label:"Locations",loading:h,options:p,optionFilterProp:"label",tooltip:"Specify the region(s) to include in the scan. The monitor will scan the same URL across these locations to identify tracking technologies, such as cookies served by ad tech vendors.",layout:"stacked"}),(0,i.jsx)(Z.d,{name:"execution_frequency",id:"execution_frequency",options:(0,b.MM)(z.hV),label:"Automatic execution frequency",layout:"stacked"}),(0,i.jsx)(O.YL,{name:"execution_start_date",label:"Automatic execution start time",disabled:t.execution_frequency===z.hV.NOT_SCHEDULED,id:"execution_start_date",tooltip:"Set the start time for the scan. For optimal performance and minimal disruption, schedule scans during periods of low traffic."}),(0,i.jsxs)(a.jqI,{className:"mt-2 justify-between",children:[(0,i.jsx)(a.wpx,{onClick:()=>{n(),c()},children:"Cancel"}),(0,i.jsx)(a.wpx,{type:"primary",htmlType:"submit","data-testid":"save-btn",children:"Save"})]})]})})}})]})},F=n(31883),K=e=>{let{isOpen:t,onClose:n,formStep:o,onAdvance:s,monitor:l,isEditing:r,integration:c,integrationOption:d}=e,[u,{isLoading:m}]=(0,_.Fy)(),{data:x}=(0,_.oN)({page:1,size:25,connection_config_key:c.key}),g=!!x&&!!x.total,h=(0,a.pmc)(),{toastResult:f}=v({defaultSuccessMsg:"Monitor ".concat(r?"updated":"created"," successfully"),defaultErrorMsg:"A problem occurred while ".concat(r?"updating":"creating"," this monitor")}),j=async e=>{let t;let i=setTimeout(()=>{t||(h({...S.MA,status:"info",description:"Saving this monitor is taking longer than expected. Fides will continue processing it in the background, and you can check back later to view the updates."}),n())},5e3);(t=await u(e))&&(clearTimeout(i),f(t),(0,F.D4)(t)||n())};return d.identifier===z.Rj.WEBSITE?(0,i.jsx)(C.Z,{title:(null==l?void 0:l.name)?"Configure ".concat(l.name):"Configure website monitor",isOpen:t,onClose:n,children:(0,i.jsx)(Y,{monitor:l,url:c.secrets.url,onClose:n,onSubmit:j})}):(0,i.jsxs)(C.Z,{title:(null==l?void 0:l.name)?"Configure ".concat(l.name):"Configure discovery monitor",isOpen:t,onClose:n,children:[0===o&&(0,i.jsx)(I,{monitor:l,onClose:n,onAdvance:s,onSubmit:j,isSubmitting:m,databasesAvailable:g,integrationOption:d}),1===o&&(l?(0,i.jsx)(M,{monitor:l,isEditing:r,isSubmitting:m,onSubmit:j,onClose:n,integrationKey:c.key}):(0,i.jsx)(p.Z,{}))]})},B=n(58452),G=n(79494),X=e=>{let{monitorId:t,onEditClick:n}=e,[o]=(0,_.Sb)(),{toastResult:s}=v({defaultErrorMsg:"A problem occurred deleting this monitor",defaultSuccessMsg:"Monitor deleted successfully"}),[l,{isLoading:r}]=(0,_.V9)(),{toastResult:c}=v({defaultErrorMsg:"A problem occurred initiating monitor execution",defaultSuccessMsg:"Monitor execution successfully started"}),d=async()=>{s(await o({monitor_config_id:t}))},{isOpen:u,onOpen:m,onClose:x}=(0,a.qY0)(),g=async()=>{c(await l({monitor_config_id:t}))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.Z,{isOpen:u,onClose:x,onConfirm:d,title:"Delete monitor",message:"Are you sure you want to delete this discovery monitor?",continueButtonText:"Delete",isCentered:!0}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(a.ua7,{label:"Edit",children:(0,i.jsx)(a.wpx,{onClick:n,size:"small",icon:(0,i.jsx)(a.dY8,{}),"data-testid":"edit-monitor-btn","aria-label":"Edit monitor"})}),(0,i.jsx)(a.ua7,{label:"Delete",children:(0,i.jsx)(a.wpx,{onClick:m,size:"small",icon:(0,i.jsx)(a.pJl,{}),"aria-label":"Delete monitor","data-testid":"delete-monitor-btn"})}),(0,i.jsx)(G.Z,{onClick:g,title:"Scan",loading:r})]})]})};let J=e=>{let{row:t,getValue:n}=e,[a]=(0,_.Fy)(),o=async e=>a({...t.original,enabled:e}),s=n();return(0,i.jsx)(y.S1,{enabled:s,onToggle:o,title:"Disabling monitor",message:"You are about to disable this monitor. If you continue, it will no longer scan automatically."})},$={items:[],total:0,page:1,size:50,pages:0},Q=(0,x.Cl)(),ee=e=>{let{onAddClick:t}=e;return(0,i.jsx)(a.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",children:(0,i.jsxs)(a.gCW,{children:[(0,i.jsx)(a.xvT,{fontSize:"md",fontWeight:"600",children:"No monitors"}),(0,i.jsx)(a.xvT,{fontSize:"sm",children:'You have not configured any data discovery monitors. Click "Add monitor" to configure data discovery now.'}),(0,i.jsx)(a.wpx,{onClick:t,type:"primary",children:"Add monitor"})]})})};var et=e=>{let{integration:t,integrationOption:n}=e,{PAGE_SIZES:o,pageSize:s,setPageSize:l,onPreviousPageClick:r,isPreviousPageDisabled:c,onNextPageClick:d,isNextPageDisabled:u,startRange:m,endRange:b,pageIndex:v,setTotalPages:C}=(0,j.oi)(),{isLoading:S,isFetching:k,data:w}=(0,_.Fu)({page:v,size:s,connection_config_key:t.key}),R=(0,a.qY0)(),[T,E]=(0,h.useState)(void 0),[q,M]=(0,h.useState)(!1),[L,D]=(0,h.useState)(0),N=e=>{E(e),M(!0),R.onOpen()},A=null!=w?w:$,{items:Z,total:O,pages:I}=(0,h.useMemo)(()=>A,[A]);(0,h.useEffect)(()=>{C(I)},[I,C]);let V=(0,h.useMemo)(()=>[Q.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(j.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(j.Rr,{value:"Name",...e})}),Q.accessor(e=>e.databases,{id:"projects",cell:e=>0===e.getValue().length?(0,i.jsx)(j.G3,{value:"All projects"}):(0,i.jsx)(j.WP,{suffix:"Projects",value:e.getValue(),...e,cellState:{isExpanded:!0}}),header:e=>(0,i.jsx)(j.Rr,{value:"Scope",...e})}),Q.accessor(e=>e.execution_frequency,{id:"frequency",cell:e=>{var t;return(0,i.jsx)(j.G3,{value:null!==(t=e.getValue())&&void 0!==t?t:"Not scheduled"})},header:e=>(0,i.jsx)(j.Rr,{value:"Scan frequency",...e})}),Q.accessor(e=>e.last_monitored,{id:"last_monitored",cell:e=>(0,i.jsx)(y.Cy,{time:e.getValue()}),header:e=>(0,i.jsx)(j.Rr,{value:"Last scan",...e})}),Q.accessor(e=>e.enabled,{id:"status",cell:J,header:e=>(0,i.jsx)(j.Rr,{value:"Status",...e}),size:0,meta:{disableRowClick:!0}}),Q.display({id:"action",cell:e=>(0,i.jsx)(X,{onEditClick:()=>N(e.row.original),monitorId:e.row.original.key}),header:"Actions",meta:{disableRowClick:!0}})],[]),H=(0,g.b7)({getCoreRowModel:(0,x.sC)(),getGroupedRowModel:(0,x.qe)(),getExpandedRowModel:(0,x.rV)(),getRowId:e=>e.name,manualPagination:!0,data:Z,columns:V,columnResizeMode:"onChange"});return S?(0,i.jsx)(p.Z,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.xvT,{maxW:"720px",mb:6,fontSize:"sm","data-testid":"monitor-description",children:(null==n?void 0:n.identifier)===z.Rj.WEBSITE?"Configure your website monitor to identify active ad tech vendors and tracking technologies across your site. This monitor will analyze selected pages for vendor activity, compliance with privacy requirements, and data collection practices. Set your preferences below to customize the monitor frequency and scan locations.":"A data discovery monitor observes configured systems for data model changes to proactively discover and classify data risks. Monitors can observe part or all of a project, dataset, table, or API for changes and each can be assigned to a different data steward."}),(0,i.jsxs)(j.Q$,{children:[(0,i.jsx)(a.LZC,{}),(0,i.jsx)(a.wpx,{onClick:R.onOpen,icon:(0,i.jsx)(f,{}),iconPosition:"end","data-testid":"add-monitor-btn",children:"Add monitor"}),(0,i.jsx)(K,{isOpen:R.isOpen,onClose:()=>{E(void 0),M(!1),D(0),R.onClose()},formStep:L,onAdvance:e=>{E(e),D(1)},monitor:T,isEditing:q,integration:t,integrationOption:n})]}),(0,i.jsx)(j.ZK,{tableInstance:H,onRowClick:N,emptyTableNotice:(0,i.jsx)(ee,{onAddClick:R.onOpen})}),(0,i.jsx)(j.s8,{totalRows:O||0,pageSizes:o,setPageSize:l,onPreviousPageClick:r,isPreviousPageDisabled:c||k,onNextPageClick:d,isNextPageDisabled:u||k,startRange:m,endRange:b})]})},en=n(15987),ei=n(64176),ea=e=>{let{isOpen:t,onClose:n,connection:a}=e,o=(0,ei.Z)(a.connection_type);return(0,i.jsx)(C.Z,{title:"Manage integration secret",isOpen:t,onClose:n,children:(0,i.jsx)(en.Z,{connection:a,connectionOption:o,onCancel:n})})},eo=n(41553),es=n(75595),el=()=>{var e,t;let{query:n}=(0,o.useRouter)(),x=Array.isArray(n.id)?n.id[0]:n.id,{data:g,isLoading:h}=(0,d.jA)(null!=x?x:""),p=(0,ei.Z)(null==g?void 0:g.connection_type),{testConnection:f,isLoading:j,testData:y}=(0,u.Z)(g),{onOpen:_,isOpen:b,onClose:v}=(0,a.qY0)(),{overview:C,instructions:S}=(0,m.ZP)(null==g?void 0:g.connection_type),k=(0,o.useRouter)();g&&!m.jq.includes(g.connection_type)&&k.push(r.KH);let w=[{label:"Connection",content:(0,i.jsxs)(a.xuv,{maxW:"720px",children:[(0,i.jsxs)(a.kCb,{borderRadius:"md",outline:"1px solid",outlineColor:"gray.100",align:"center",p:3,children:[(0,i.jsx)(a.kCb,{flexDirection:"column",children:(0,i.jsx)(eo.Z,{testData:y})}),(0,i.jsx)(a.LZC,{}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(a.wpx,{onClick:f,loading:j,"data-testid":"test-connection-btn",children:"Test connection"}),(0,i.jsx)(a.wpx,{onClick:_,"data-testid":"manage-btn",children:"Manage"})]})]}),(0,i.jsx)(ea,{isOpen:b,onClose:v,connection:g}),C,S]})},{label:"Data discovery",content:(0,i.jsx)(et,{integration:g,integrationOption:p})}];return(0,i.jsx)(l.Z,{title:"Integrations",children:(0,i.jsxs)(c.Z,{heading:"Integrations",breadcrumbItems:[{title:"All integrations",href:r.KH},{title:null!==(t=null!==(e=null==g?void 0:g.name)&&void 0!==e?e:null==g?void 0:g.key)&&void 0!==t?t:""}],children:[(0,i.jsx)(es.Z,{integration:g,showDeleteButton:!0}),h?(0,i.jsx)(a.$jN,{}):!!g&&(0,i.jsx)(s.Z,{data:w,isLazy:!0})]})})}}},function(e){e.O(0,[8033,2780,2858,2866,9278,9255,4481,5834,5973,2888,9774,179],function(){return e(e.s=50697)}),_N_E=e.O()}]);