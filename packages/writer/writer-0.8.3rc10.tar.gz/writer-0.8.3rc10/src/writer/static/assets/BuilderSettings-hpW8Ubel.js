function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./WdsDropdownMenu-Cxc0Dcti.js","./index-B-FeWsn1.js","./index-DJXKEzhd.css","./WdsDropdownMenu-2tTk3P_q.css","./BuilderEmbeddedCodeEditor-B95MXBmu.js","./BuilderEmbeddedCodeEditor-DiDqfWdt.css","./BuilderApplicationSelect-DWkfEFhM.js","./BuilderApp-B-6jKNCq.js","./marked.esm-273vDTCT.js","./BuilderApp-B5r3uDMb.css","./instancePath-BsbOTTI8.js","./BuilderApplicationSelect-Dh1ws3Fu.css","./BuilderSettingsHandlers-CjpezsYC.js","./BuilderSettingsHandlers-DmA7Uujo.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as N,i as L,a as W,c as B,r as H,w as ke,l as fe,o as c,e as x,M as y,b as F,q as j,f as b,W as J,N as w,a3 as _e,ap as Te,n as P,x as X,y as de,t as U,z as Ce,P as ee,_ as z,aa as it,av as ze,aw as Ke,j as Y,a8 as It,G as re,E as wt,a9 as ce,K as pe,U as rt,aj as ut,ag as se,s as Z,m as be,ax as Et,D as Fe,L as le,ay as Be,ab as Xe,u as dt,v as Me,az as Qe,ak as xt,aA as Ct,af as Pe,aB as Bt,aC as $t,aD as Mt,aE as At,aF as Tt,aG as Ft,F as ue,aH as Q,am as Ot}from"./index-B-FeWsn1.js";import{B as Ge,a as Vt,u as Pt,b as Ye}from"./BuilderApp-B-6jKNCq.js";import{p as Rt}from"./instancePath-BsbOTTI8.js";import{B as Ze}from"./BuilderEmbeddedCodeEditor-B95MXBmu.js";import{marked as Lt}from"./marked.esm-273vDTCT.js";const Wt=["data-writer-id"],jt={id:"validChildrenTypes"},Dt=["value"],Nt=N({__name:"BuilderSettingsActions",setup(t){const e=L(W.core),n=L(W.builderManager),{createAndInsertComponent:l,moveComponentUp:o,moveComponentDown:s,cutComponent:i,pasteComponent:a,copyComponent:r,isAddAllowed:p,isCopyAllowed:v,isCutAllowed:h,isGoToParentAllowed:m,isPasteAllowed:u,isDeleteAllowed:g,getEnabledMoves:S,removeComponentsSubtree:k,goToParent:$}=ee(e,n);function A(){if(!V.value.isDeleteEnabled)return;const f=n.selection.value.map(I=>I.componentId);f.length!==0&&k(...f)}const E=n.firstSelectedId,T=B(()=>{var f;return(f=n.firstSelectedItem.value)==null?void 0:f.instancePath}),O=H(!1),V=H(null),M=B(()=>{const f=e.getContainableTypes(E.value),I={};return f.map(K=>{const D=e.getComponentDefinition(K);I[K]=D}),I});function C(f){const I=f.target.value,K=Object.entries(M.value).filter(([q,ae])=>ae.name==I);if(K.length==0)return;const D=K[0][0];l(D,E.value),O.value=!1}function d(){var D,q;const f=e.getComponentById(E.value);if(!f)return;const{up:I,down:K}=S(E.value);V.value={isAddEnabled:p(E.value),componentTypeName:(D=e.getComponentDefinition(f.type))==null?void 0:D.name,toolkit:(q=e.getComponentDefinition(f.type))==null?void 0:q.toolkit,isMoveUpEnabled:I,isMoveDownEnabled:K,isCopyEnabled:v(E.value),isCutEnabled:h(E.value),isPasteEnabled:u(E.value),isGoToParentEnabled:m(E.value),isDeleteEnabled:g(E.value)}}const _={desc:"Close",fn:()=>{O.value=!1}};return ke(()=>{var f;return(f=e.getComponentById(E.value))==null?void 0:f.position},async f=>{typeof f>"u"||f===null||d()},{flush:"post"}),fe(()=>{d()}),(f,I)=>{var K,D,q,ae,Ie,we,Ee,xe;return c(),x("div",{class:Ce(["BuilderSettingsActions",{collapsed:y(n).isSettingsBarCollapsed.value}]),"data-writer-id":y(E)},[y(n).isSingleSelectionActive.value?(c(),F(J,{key:0,"data-writer-tooltip":"Add child","data-writer-tooltip-placement":"left",variant:"neutral",size:"smallIcon",class:"actionButton",disabled:!((K=V.value)!=null&&K.isAddEnabled),onClick:I[0]||(I[0]=te=>{var G;return(G=V.value)!=null&&G.isAddEnabled?O.value=!0:void 0})},{default:j(()=>I[8]||(I[8]=[b("i",{class:"material-symbols-outlined"},"add",-1)])),_:1},8,["disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:1,class:"actionButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":`Move up (${y(_e)()}↑)`,disabled:!((D=V.value)!=null&&D.isMoveUpEnabled),onClick:I[1]||(I[1]=te=>{var G;return(G=V.value)!=null&&G.isMoveUpEnabled?y(o)(y(E)):void 0})},{default:j(()=>I[9]||(I[9]=[b("i",{class:"material-symbols-outlined"},"arrow_upward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:2,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Move down (${y(_e)()}↓)`,"data-writer-tooltip-placement":"left",disabled:!((q=V.value)!=null&&q.isMoveDownEnabled),onClick:I[2]||(I[2]=te=>{var G;return(G=V.value)!=null&&G.isMoveDownEnabled?y(s)(y(E)):void 0})},{default:j(()=>I[10]||(I[10]=[b("i",{class:"material-symbols-outlined"},"arrow_downward",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:3,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Cut (${y(_e)()}X)`,"data-writer-tooltip-placement":"left",disabled:!((ae=V.value)!=null&&ae.isCutEnabled),onClick:I[3]||(I[3]=te=>{var G;return(G=V.value)!=null&&G.isCutEnabled?y(i)(y(E)):void 0})},{default:j(()=>I[11]||(I[11]=[b("i",{class:"material-symbols-outlined"},"cut",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:4,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Copy (${y(_e)()}C)`,"data-writer-tooltip-placement":"left",disabled:!((Ie=V.value)!=null&&Ie.isCopyEnabled),onClick:I[4]||(I[4]=te=>{var G;return(G=V.value)!=null&&G.isCopyEnabled?y(r)(y(E)):void 0})},{default:j(()=>I[12]||(I[12]=[b("i",{class:"material-symbols-outlined"},"content_copy",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:5,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Paste (${y(_e)()}V)`,"data-writer-tooltip-placement":"left",disabled:!((we=V.value)!=null&&we.isPasteEnabled),onClick:I[5]||(I[5]=te=>{var G;return(G=V.value)!=null&&G.isPasteEnabled?y(a)(y(E)):void 0})},{default:j(()=>I[13]||(I[13]=[b("i",{class:"material-symbols-outlined"},"content_paste",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).isSingleSelectionActive.value?(c(),F(J,{key:6,class:"actionButton",variant:"neutral",size:"small","data-writer-tooltip":`Go to parent (${y(_e)()}Shift ↑)`,"data-writer-tooltip-placement":"left",disabled:!((Ee=V.value)!=null&&Ee.isGoToParentEnabled),onClick:I[6]||(I[6]=te=>{var G;return(G=V.value)!=null&&G.isGoToParentEnabled?y($)(y(E),T.value):void 0})},{default:j(()=>I[14]||(I[14]=[b("i",{class:"material-symbols-outlined"},"move_up",-1)])),_:1},8,["data-writer-tooltip","disabled"])):w("",!0),y(n).selectionStatus.value===y(Te).Multiple?(c(),F(J,{key:7,class:"actionButton",variant:"neutral",size:"small","data-automation-action":"clear-selection","data-writer-tooltip":"Clear selection","data-writer-tooltip-placement":"left",onClick:I[7]||(I[7]=te=>y(n).setSelection(null))},{default:j(()=>I[15]||(I[15]=[b("i",{class:"material-symbols-outlined"},"close",-1)])),_:1})):w("",!0),P(J,{class:"actionButton delete",variant:"neutral",size:"small","data-automation-action":"delete","data-writer-tooltip":"Delete (Del)","data-writer-tooltip-placement":"left",disabled:!((xe=V.value)!=null&&xe.isDeleteEnabled),onClick:A},{default:j(()=>I[16]||(I[16]=[b("i",{class:"material-symbols-outlined"},"delete",-1)])),_:1},8,["disabled"]),O.value?(c(),F(Ge,{key:8,"close-action":_,icon:"add","modal-title":"Add child component"},{default:j(()=>[b("input",{class:"addModalInput",type:"text",list:"validChildrenTypes",placeholder:"Component...",onChange:C},null,32),b("datalist",jt,[(c(!0),x(X,null,de(M.value,(te,G)=>(c(),x("option",{key:G,value:te.name},U(te.name),9,Dt))),128))])]),_:1})):w("",!0)],10,Wt)}}}),qt=z(Nt,[["__scopeId","data-v-ec64d80f"]]),Ut={class:"WdsTag__text"},zt=N({__name:"WdsTag",props:{text:{type:String,required:!0},closable:{type:Boolean,required:!1},size:{type:String,default:"normal"},variant:{type:String,default:"normal"}},emits:{close:()=>!0},setup(t){const e=t,n=B(()=>[`WdsTag--size-${e.size}`,`WdsTag--variant-${e.variant}`]);return(l,o)=>(c(),x("div",{class:Ce(["WdsTag",n.value])},[b("span",Ut,U(t.text),1),t.closable?(c(),x("button",{key:0,role:"button",class:"WdsTag__close",onClick:o[0]||(o[0]=it(s=>l.$emit("close"),["stop"]))},o[1]||(o[1]=[b("i",{class:"material-symbols-outlined"},"close",-1)]))):w("",!0)],2))}}),Kt=z(zt,[["__scopeId","data-v-74f62b16"]]),Gt={key:0,class:"material-symbols-outlined"},Yt={key:1,class:"BuilderSelect__trigger__multiSelectLabel"},Ht=["data-writer-tooltip"],Jt={class:"BuilderSelect__trigger__arrow"},Xt={class:"material-symbols-outlined"},Qt=N({__name:"BuilderSelect",props:ze({options:{type:Array,default:()=>[]},defaultIcon:{type:String,required:!1,default:void 0},hideIcons:{type:Boolean,required:!1},enableSearch:{type:Boolean,required:!1},enableMultiSelection:{type:Boolean,required:!1},loading:{type:Boolean,required:!1}},{modelValue:{type:[String,Array],required:!0,default:void 0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=ce(()=>pe(()=>import("./WdsDropdownMenu-Cxc0Dcti.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),n=t,l=Ke(t,"modelValue"),o=H(!1),s=Y("trigger"),i=Y("dropdown"),a=B(()=>n.enableSearch?[]:[Vt({allowedPlacements:["bottom","top"]})]),{floatingStyles:r,update:p}=Pt(s,i,{placement:"bottom",middleware:a}),v=B(()=>o.value?"keyboard_arrow_up":"expand_more"),h=B(()=>l.value?(Array.isArray(l.value)?l.value:[l.value]).filter(Boolean):[]),m=B(()=>h.value.map(E=>n.options.find(T=>T.value===E)??{value:E,label:E})),u=B(()=>l.value&&!n.options.some(E=>E.value===l.value)),g=B(()=>u.value?String(l.value):m.value.map(E=>E.label).sort().join(" / ")),S=B(()=>{var E;return u.value?"help_center":n.hideIcons?"":((E=m.value.at(0))==null?void 0:E.icon)??n.defaultIcon??"help_center"}),k=It(s);ke(k,()=>{k.value||re().then(()=>o.value=!1)},{immediate:!0});function $(E){n.enableMultiSelection||(o.value=!1),l.value=E}function A(E){Array.isArray(l.value)&&(l.value=l.value.filter(T=>T!==E))}return(E,T)=>(c(),x("div",{ref_key:"trigger",ref:s,class:"BuilderSelect"},[b("button",{class:"BuilderSelect__trigger",role:"button",onClick:T[0]||(T[0]=O=>o.value=!o.value)},[(u.value||!t.hideIcons)&&!t.enableMultiSelection?(c(),x("i",Gt,U(S.value),1)):w("",!0),t.enableMultiSelection?(c(),x("div",Yt,[(c(!0),x(X,null,de(m.value,O=>(c(),F(Kt,{key:O.value,text:O.label,closable:"",onClose:V=>A(O.value)},null,8,["text","onClose"]))),128))])):(c(),x("div",{key:2,class:"BuilderSelect__trigger__label","data-writer-tooltip-strategy":"overflow","data-writer-tooltip":g.value},U(g.value),9,Ht)),b("div",Jt,[b("i",Xt,U(v.value),1)])]),o.value?(c(),F(y(e),{key:0,ref_key:"dropdown",ref:i,"enable-search":t.enableSearch,"enable-multi-selection":t.enableMultiSelection,"hide-icons":t.hideIcons,loading:t.loading,options:t.options,selected:l.value,style:wt(y(r)),onSelect:$,onSearch:y(p)},null,8,["enable-search","enable-multi-selection","hide-icons","loading","options","selected","style","onSearch"])):w("",!0)],512))}}),Ve=z(Qt,[["__scopeId","data-v-258edec6"]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));function ve(t){return Array.isArray?Array.isArray(t):vt(t)==="[object Array]"}const Zt=1/0;function en(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Zt?"-0":e}function tn(t){return t==null?"":en(t)}function ie(t){return typeof t=="string"}function ct(t){return typeof t=="number"}function nn(t){return t===!0||t===!1||ln(t)&&vt(t)=="[object Boolean]"}function pt(t){return typeof t=="object"}function ln(t){return pt(t)&&t!==null}function ne(t){return t!=null}function Re(t){return!t.trim().length}function vt(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const on="Incorrect 'index' type",sn=t=>`Invalid value for key ${t}`,an=t=>`Pattern length exceeds max of ${t}.`,rn=t=>`Missing ${t} property in key`,un=t=>`Property 'weight' in key '${t}' must be a positive integer`,et=Object.prototype.hasOwnProperty;class dn{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(l=>{let o=ft(l);this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(l=>{l.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ft(t){let e=null,n=null,l=null,o=1,s=null;if(ie(t)||ve(t))l=t,e=tt(t),n=We(t);else{if(!et.call(t,"name"))throw new Error(rn("name"));const i=t.name;if(l=i,et.call(t,"weight")&&(o=t.weight,o<=0))throw new Error(un(i));e=tt(i),n=We(i),s=t.getFn}return{path:e,id:n,weight:o,src:l,getFn:s}}function tt(t){return ve(t)?t:t.split(".")}function We(t){return ve(t)?t.join("."):t}function cn(t,e){let n=[],l=!1;const o=(s,i,a)=>{if(ne(s))if(!i[a])n.push(s);else{let r=i[a];const p=s[r];if(!ne(p))return;if(a===i.length-1&&(ie(p)||ct(p)||nn(p)))n.push(tn(p));else if(ve(p)){l=!0;for(let v=0,h=p.length;v<h;v+=1)o(p[v],i,a+1)}else i.length&&o(p,i,a+1)}};return o(t,ie(e)?e.split("."):e,0),l?n:n[0]}const pn={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vn={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},fn={location:0,threshold:.6,distance:100},mn={useExtendedSearch:!1,getFn:cn,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var R={...vn,...pn,...fn,...mn};const hn=/[^ ]+/g;function yn(t=1,e=3){const n=new Map,l=Math.pow(10,e);return{get(o){const s=o.match(hn).length;if(n.has(s))return n.get(s);const i=1/Math.pow(s,.5*t),a=parseFloat(Math.round(i*l)/l);return n.set(s,a),a},clear(){n.clear()}}}class Je{constructor({getFn:e=R.getFn,fieldNormWeight:n=R.fieldNormWeight}={}){this.norm=yn(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,l)=>{this._keysMap[n.id]=l})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ie(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();ie(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,l=this.size();n<l;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!ne(e)||Re(e))return;let l={v:e,i:n,n:this.norm.get(e)};this.records.push(l)}_addObject(e,n){let l={i:n,$:{}};this.keys.forEach((o,s)=>{let i=o.getFn?o.getFn(e):this.getFn(e,o.path);if(ne(i)){if(ve(i)){let a=[];const r=[{nestedArrIndex:-1,value:i}];for(;r.length;){const{nestedArrIndex:p,value:v}=r.pop();if(ne(v))if(ie(v)&&!Re(v)){let h={v,i:p,n:this.norm.get(v)};a.push(h)}else ve(v)&&v.forEach((h,m)=>{r.push({nestedArrIndex:m,value:h})})}l.$[s]=a}else if(ie(i)&&!Re(i)){let a={v:i,n:this.norm.get(i)};l.$[s]=a}}}),this.records.push(l)}toJSON(){return{keys:this.keys,records:this.records}}}function mt(t,e,{getFn:n=R.getFn,fieldNormWeight:l=R.fieldNormWeight}={}){const o=new Je({getFn:n,fieldNormWeight:l});return o.setKeys(t.map(ft)),o.setSources(e),o.create(),o}function gn(t,{getFn:e=R.getFn,fieldNormWeight:n=R.fieldNormWeight}={}){const{keys:l,records:o}=t,s=new Je({getFn:e,fieldNormWeight:n});return s.setKeys(l),s.setIndexRecords(o),s}function Ae(t,{errors:e=0,currentLocation:n=0,expectedLocation:l=0,distance:o=R.distance,ignoreLocation:s=R.ignoreLocation}={}){const i=e/t.length;if(s)return i;const a=Math.abs(l-n);return o?i+a/o:a?1:i}function _n(t=[],e=R.minMatchCharLength){let n=[],l=-1,o=-1,s=0;for(let i=t.length;s<i;s+=1){let a=t[s];a&&l===-1?l=s:!a&&l!==-1&&(o=s-1,o-l+1>=e&&n.push([l,o]),l=-1)}return t[s-1]&&s-l>=e&&n.push([l,s-1]),n}const he=32;function bn(t,e,n,{location:l=R.location,distance:o=R.distance,threshold:s=R.threshold,findAllMatches:i=R.findAllMatches,minMatchCharLength:a=R.minMatchCharLength,includeMatches:r=R.includeMatches,ignoreLocation:p=R.ignoreLocation}={}){if(e.length>he)throw new Error(an(he));const v=e.length,h=t.length,m=Math.max(0,Math.min(l,h));let u=s,g=m;const S=a>1||r,k=S?Array(h):[];let $;for(;($=t.indexOf(e,g))>-1;){let M=Ae(e,{currentLocation:$,expectedLocation:m,distance:o,ignoreLocation:p});if(u=Math.min(M,u),g=$+v,S){let C=0;for(;C<v;)k[$+C]=1,C+=1}}g=-1;let A=[],E=1,T=v+h;const O=1<<v-1;for(let M=0;M<v;M+=1){let C=0,d=T;for(;C<d;)Ae(e,{errors:M,currentLocation:m+d,expectedLocation:m,distance:o,ignoreLocation:p})<=u?C=d:T=d,d=Math.floor((T-C)/2+C);T=d;let _=Math.max(1,m-d+1),f=i?h:Math.min(m+d,h)+v,I=Array(f+2);I[f+1]=(1<<M)-1;for(let D=f;D>=_;D-=1){let q=D-1,ae=n[t.charAt(q)];if(S&&(k[q]=+!!ae),I[D]=(I[D+1]<<1|1)&ae,M&&(I[D]|=(A[D+1]|A[D])<<1|1|A[D+1]),I[D]&O&&(E=Ae(e,{errors:M,currentLocation:q,expectedLocation:m,distance:o,ignoreLocation:p}),E<=u)){if(u=E,g=q,g<=m)break;_=Math.max(1,2*m-g)}}if(Ae(e,{errors:M+1,currentLocation:m,expectedLocation:m,distance:o,ignoreLocation:p})>u)break;A=I}const V={isMatch:g>=0,score:Math.max(.001,E)};if(S){const M=_n(k,a);M.length?r&&(V.indices=M):V.isMatch=!1}return V}function kn(t){let e={};for(let n=0,l=t.length;n<l;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<l-n-1}return e}class ht{constructor(e,{location:n=R.location,threshold:l=R.threshold,distance:o=R.distance,includeMatches:s=R.includeMatches,findAllMatches:i=R.findAllMatches,minMatchCharLength:a=R.minMatchCharLength,isCaseSensitive:r=R.isCaseSensitive,ignoreLocation:p=R.ignoreLocation}={}){if(this.options={location:n,threshold:l,distance:o,includeMatches:s,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:r,ignoreLocation:p},this.pattern=r?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const v=(m,u)=>{this.chunks.push({pattern:m,alphabet:kn(m),startIndex:u})},h=this.pattern.length;if(h>he){let m=0;const u=h%he,g=h-u;for(;m<g;)v(this.pattern.substr(m,he),m),m+=he;if(u){const S=h-he;v(this.pattern.substr(S),S)}}else v(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:l}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return l&&(g.indices=[[0,e.length-1]]),g}const{location:o,distance:s,threshold:i,findAllMatches:a,minMatchCharLength:r,ignoreLocation:p}=this.options;let v=[],h=0,m=!1;this.chunks.forEach(({pattern:g,alphabet:S,startIndex:k})=>{const{isMatch:$,score:A,indices:E}=bn(e,g,S,{location:o+k,distance:s,threshold:i,findAllMatches:a,minMatchCharLength:r,includeMatches:l,ignoreLocation:p});$&&(m=!0),h+=A,$&&E&&(v=[...v,...E])});let u={isMatch:m,score:m?h/this.chunks.length:1};return m&&l&&(u.indices=v),u}}class me{constructor(e){this.pattern=e}static isMultiMatch(e){return nt(e,this.multiRegex)}static isSingleMatch(e){return nt(e,this.singleRegex)}search(){}}function nt(t,e){const n=t.match(e);return n?n[1]:null}class Sn extends me{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class In extends me{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const l=e.indexOf(this.pattern)===-1;return{isMatch:l,score:l?0:1,indices:[0,e.length-1]}}}class wn extends me{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class En extends me{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class xn extends me{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Cn extends me{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class yt extends me{constructor(e,{location:n=R.location,threshold:l=R.threshold,distance:o=R.distance,includeMatches:s=R.includeMatches,findAllMatches:i=R.findAllMatches,minMatchCharLength:a=R.minMatchCharLength,isCaseSensitive:r=R.isCaseSensitive,ignoreLocation:p=R.ignoreLocation}={}){super(e),this._bitapSearch=new ht(e,{location:n,threshold:l,distance:o,includeMatches:s,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:r,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class gt extends me{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,l;const o=[],s=this.pattern.length;for(;(l=e.indexOf(this.pattern,n))>-1;)n=l+s,o.push([l,n-1]);const i=!!o.length;return{isMatch:i,score:i?0:1,indices:o}}}const je=[Sn,gt,wn,En,Cn,xn,In,yt],lt=je.length,Bn=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,$n="|";function Mn(t,e={}){return t.split($n).map(n=>{let l=n.trim().split(Bn).filter(s=>s&&!!s.trim()),o=[];for(let s=0,i=l.length;s<i;s+=1){const a=l[s];let r=!1,p=-1;for(;!r&&++p<lt;){const v=je[p];let h=v.isMultiMatch(a);h&&(o.push(new v(h,e)),r=!0)}if(!r)for(p=-1;++p<lt;){const v=je[p];let h=v.isSingleMatch(a);if(h){o.push(new v(h,e));break}}}return o})}const An=new Set([yt.type,gt.type]);class Tn{constructor(e,{isCaseSensitive:n=R.isCaseSensitive,includeMatches:l=R.includeMatches,minMatchCharLength:o=R.minMatchCharLength,ignoreLocation:s=R.ignoreLocation,findAllMatches:i=R.findAllMatches,location:a=R.location,threshold:r=R.threshold,distance:p=R.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:l,minMatchCharLength:o,findAllMatches:i,ignoreLocation:s,location:a,threshold:r,distance:p},this.pattern=n?e:e.toLowerCase(),this.query=Mn(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:l,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let s=0,i=[],a=0;for(let r=0,p=n.length;r<p;r+=1){const v=n[r];i.length=0,s=0;for(let h=0,m=v.length;h<m;h+=1){const u=v[h],{isMatch:g,indices:S,score:k}=u.search(e);if(g){if(s+=1,a+=k,l){const $=u.constructor.type;An.has($)?i=[...i,...S]:i.push(S)}}else{a=0,s=0,i.length=0;break}}if(s){let h={isMatch:!0,score:a/s};return l&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const De=[];function Fn(...t){De.push(...t)}function Ne(t,e){for(let n=0,l=De.length;n<l;n+=1){let o=De[n];if(o.condition(t,e))return new o(t,e)}return new ht(t,e)}const Oe={AND:"$and",OR:"$or"},qe={PATH:"$path",PATTERN:"$val"},Ue=t=>!!(t[Oe.AND]||t[Oe.OR]),On=t=>!!t[qe.PATH],Vn=t=>!ve(t)&&pt(t)&&!Ue(t),ot=t=>({[Oe.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function _t(t,e,{auto:n=!0}={}){const l=o=>{let s=Object.keys(o);const i=On(o);if(!i&&s.length>1&&!Ue(o))return l(ot(o));if(Vn(o)){const r=i?o[qe.PATH]:s[0],p=i?o[qe.PATTERN]:o[r];if(!ie(p))throw new Error(sn(r));const v={keyId:We(r),pattern:p};return n&&(v.searcher=Ne(p,e)),v}let a={children:[],operator:s[0]};return s.forEach(r=>{const p=o[r];ve(p)&&p.forEach(v=>{a.children.push(l(v))})}),a};return Ue(t)||(t=ot(t)),l(t)}function Pn(t,{ignoreFieldNorm:e=R.ignoreFieldNorm}){t.forEach(n=>{let l=1;n.matches.forEach(({key:o,norm:s,score:i})=>{const a=o?o.weight:null;l*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(e?1:s))}),n.score=l})}function Rn(t,e){const n=t.matches;e.matches=[],ne(n)&&n.forEach(l=>{if(!ne(l.indices)||!l.indices.length)return;const{indices:o,value:s}=l;let i={indices:o,value:s};l.key&&(i.key=l.key.src),l.idx>-1&&(i.refIndex=l.idx),e.matches.push(i)})}function Ln(t,e){e.score=t.score}function Wn(t,e,{includeMatches:n=R.includeMatches,includeScore:l=R.includeScore}={}){const o=[];return n&&o.push(Rn),l&&o.push(Ln),t.map(s=>{const{idx:i}=s,a={item:e[i],refIndex:i};return o.length&&o.forEach(r=>{r(s,a)}),a})}class Se{constructor(e,n={},l){this.options={...R,...n},this.options.useExtendedSearch,this._keyStore=new dn(this.options.keys),this.setCollection(e,l)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof Je))throw new Error(on);this._myIndex=n||mt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ne(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let l=0,o=this._docs.length;l<o;l+=1){const s=this._docs[l];e(s,l)&&(this.removeAt(l),l-=1,o-=1,n.push(s))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:l,includeScore:o,shouldSort:s,sortFn:i,ignoreFieldNorm:a}=this.options;let r=ie(e)?ie(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Pn(r,{ignoreFieldNorm:a}),s&&r.sort(i),ct(n)&&n>-1&&(r=r.slice(0,n)),Wn(r,this._docs,{includeMatches:l,includeScore:o})}_searchStringList(e){const n=Ne(e,this.options),{records:l}=this._myIndex,o=[];return l.forEach(({v:s,i,n:a})=>{if(!ne(s))return;const{isMatch:r,score:p,indices:v}=n.searchIn(s);r&&o.push({item:s,idx:i,matches:[{score:p,value:s,norm:a,indices:v}]})}),o}_searchLogical(e){const n=_t(e,this.options),l=(a,r,p)=>{if(!a.children){const{keyId:h,searcher:m}=a,u=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(r,h),searcher:m});return u&&u.length?[{idx:p,item:r,matches:u}]:[]}const v=[];for(let h=0,m=a.children.length;h<m;h+=1){const u=a.children[h],g=l(u,r,p);if(g.length)v.push(...g);else if(a.operator===Oe.AND)return[]}return v},o=this._myIndex.records,s={},i=[];return o.forEach(({$:a,i:r})=>{if(ne(a)){let p=l(n,a,r);p.length&&(s[r]||(s[r]={idx:r,item:a,matches:[]},i.push(s[r])),p.forEach(({matches:v})=>{s[r].matches.push(...v)}))}}),i}_searchObjectList(e){const n=Ne(e,this.options),{keys:l,records:o}=this._myIndex,s=[];return o.forEach(({$:i,i:a})=>{if(!ne(i))return;let r=[];l.forEach((p,v)=>{r.push(...this._findMatches({key:p,value:i[v],searcher:n}))}),r.length&&s.push({idx:a,item:i,matches:r})}),s}_findMatches({key:e,value:n,searcher:l}){if(!ne(n))return[];let o=[];if(ve(n))n.forEach(({v:s,i,n:a})=>{if(!ne(s))return;const{isMatch:r,score:p,indices:v}=l.searchIn(s);r&&o.push({score:p,key:e,value:s,idx:i,norm:a,indices:v})});else{const{v:s,n:i}=n,{isMatch:a,score:r,indices:p}=l.searchIn(s);a&&o.push({score:r,key:e,value:s,norm:i,indices:p})}return o}}Se.version="7.0.0";Se.createIndex=mt;Se.parseIndex=gn;Se.config=R;Se.parseQuery=_t;Fn(Tn);const jn={class:"BuilderTemplateInput"},Dn=["id"],Nn=["value"],qn={key:2,class:"fieldStateAutocomplete",tabindex:"-1"},Un=["value","onClick"],zn={class:"prop"},Kn={class:"type"},Gn=N({__name:"BuilderTemplateInput",props:{inputId:{type:String,required:!1,default:void 0},value:{type:String,required:!1,default:void 0},multiline:{type:Boolean,required:!1},variant:{type:String,required:!1,default:void 0},type:{type:String,required:!1,default:void 0},options:{type:Object,required:!1,default:void 0},placeholder:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0}},emits:["input","update:value"],setup(t,{expose:e,emit:n}){const l=n,o=t,s=L(W.core),i=rt([]),a=H(null);e({focus:()=>{var A;return(A=a.value)==null?void 0:A.focus()}});function r(A,E){return E.reduce((T,O)=>T==null?void 0:T[O],A)}const p=A=>{var f,I;let E=((f=a.value)==null?void 0:f.value)??"";const{selectionStart:T,selectionEnd:O}=((I=a.value)==null?void 0:I.getSelection())??{},V=E.slice(0,T),M=h(V);if(M===null)return;const d=M.at(-1).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")+"$",_=V.replace(new RegExp(d),A);E=_+E.slice(O),l("input",{target:{value:E}}),l("update:value",E),i.value=[],a.value.focus(),re(()=>{a.value.setSelectionEnd(_.length),a.value.setSelectionStart(_.length)})},v=A=>A===null?"null":A===void 0?"undefined":typeof A,h=A=>{if((o.type??"template")==="state")return A.split(".");const E=A.match(/@\{([^}{@]*)$/);return E?((E==null?void 0:E[1])??"").split("."):null},m=A=>A.replace(/\\/g,"\\\\").replace(/\./g,"\\."),u=A=>{l("input",A),l("update:value",A.target.value),g()},g=()=>{var I,K;const{selectionStart:A,selectionEnd:E}=((I=a.value)==null?void 0:I.getSelection())??{},T=(K=a.value)==null?void 0:K.value;if(!(A===E)){i.value=[];return}const V=T.slice(0,A),M=h(V);if(M===null){i.value=[];return}const C=M.at(-1),d=M.slice(0,-1),_=Object.entries(r(s.userState.value,d)??{}).map(([D,q])=>({text:m(D),type:v(q)})),f=new Se(_,{findAllMatches:!0,includeMatches:!0,keys:["text"]});if(C===""){i.value=_;return}i.value=f.search(C).map(D=>{const{item:q}=D;return q})};let S;function k(){S=setTimeout(()=>{i.value=[],S=null},300)}function $(){S&&(clearTimeout(S),S=null)}return(A,E)=>{const T=ut("capture-tabs");return c(),x("div",jn,[o.multiline?w("",!0):(c(),x(X,{key:0},[P(se,{ref_key:"input",ref:a,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",placeholder:o.placeholder,list:o.options?`list-${o.inputId}`:void 0,invalid:t.error!==void 0,onInput:u,onBlur:k},null,8,["model-value","placeholder","list","invalid"]),o.options?(c(),x("datalist",{key:0,id:`list-${o.inputId}`},[(c(!0),x(X,null,de(t.options,(O,V)=>(c(),x("option",{key:V,value:V},[O.toLowerCase()!==V.toLowerCase()?(c(),x(X,{key:0},[Z(U(O),1)],64)):w("",!0)],8,Nn))),128))],8,Dn)):w("",!0)],64)),o.multiline?be((c(),F(Et,{key:1,ref_key:"input",ref:a,variant:o.variant,"model-value":o.value,autocorrect:"off",autocomplete:"off",spellcheck:"false",rows:"3",placeholder:o.placeholder,invalid:t.error!==void 0,onInput:u},null,8,["variant","model-value","placeholder","invalid"])),[[T]]):w("",!0),i.value.length?(c(),x("div",qn,[(c(!0),x(X,null,de(i.value,(O,V)=>(c(),x("button",{key:V,class:"fieldStateAutocompleteOption",value:V,onFocusout:k,onFocusin:$,onClick:()=>p(O.text)},[b("span",zn,U(O.text),1),b("span",Kn,U(O.type),1)],40,Un))),128))])):w("",!0)])}}}),oe=z(Gn,[["__scopeId","data-v-9e979551"]]),Yn=N({__name:"WdsTab",props:{disabled:{type:Boolean},selected:{type:Boolean}},emits:{click:()=>!0},setup(t){return(e,n)=>(c(),x("button",{class:Ce(["WdsTab",{"WdsTab--disabled":t.disabled,"WdsTab--selected":t.selected}]),type:"button",onClick:n[0]||(n[0]=l=>e.$emit("click"))},[Fe(e.$slots,"default",{},void 0,!0)],2))}}),Hn=z(Yn,[["__scopeId","data-v-333dd4cb"]]),Jn={class:"WdsTabs"},Xn=N({__name:"WdsTabs",props:ze({tabs:{type:Array,required:!0}},{modelValue:{type:String},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=Ke(t,"modelValue");return(n,l)=>(c(),x("div",Jn,[(c(!0),x(X,null,de(t.tabs,o=>(c(),F(Hn,{key:o.value,disabled:o.disabled,selected:o.value===e.value,onClick:s=>e.value=o.value},{default:j(()=>[Z(U(o.label),1)]),_:2},1032,["disabled","selected","onClick"]))),128))]))}}),ge=z(Xn,[["__scopeId","data-v-26cb79f9"]]),$e=Object.freeze([{label:"Default",value:"default"},{label:"CSS",value:"css"},{label:"Pick",value:"pick"}]),Qn=["data-automation-key"],Zn={key:0,class:"main"},el={key:0,class:"pickerContainer"},tl=N({__name:"BuilderFieldsAlign",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},direction:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=Y("rootEl"),s=Y("pickerEl"),i=Y("freehandInputEl"),a=[{key:"start",label:"Left",match:d=>d=="start",default:"start",icon:"format_align_left"},{key:"center",label:"Center",match:d=>d=="center",default:"center",icon:"format_align_center"},{key:"end",label:"Right",match:d=>d=="end",default:"end",icon:"format_align_right"}],r=[{key:"start",label:"Top",match:d=>d=="start",default:"start",icon:"vertical_align_top"},{key:"center",label:"Center",match:d=>d=="center",default:"center",icon:"vertical_align_center"},{key:"end",label:"Bottom",match:d=>d=="end",default:"end",icon:"vertical_align_bottom"}],p={pick:s,css:i,default:null},v=t,{componentId:h,fieldKey:m,direction:u}=le(v),g=B(()=>e.getComponentById(h.value)),S=B(()=>u.value=="vertical"?r:u.value=="horizontal"?a:r),k=B(()=>S.value.map(d=>({value:d.key,label:d.label,icon:d.icon}))),$=B(()=>{const d=g.value.content[m.value];for(const _ in S.value)if(d&&S.value[_].match(d))return S.value[_].key;return null}),A=B(()=>{const d=g.value.content[m.value];return d||""}),T=H((()=>{if(!A.value)return"default";for(const d in S.value)if(S.value[d].match(A.value))return"pick";return"css"})()),O=()=>{var _;const d=(_=p[T.value])==null?void 0:_.value;d&&(d.focus(),typeof d.selectionStart=="number"&&(d.selectionStart=d.selectionEnd=d.value.length))},V=async d=>{T.value!=d&&(T.value=d,await re(),O(),d==="default"&&l(g.value.id,m.value,void 0))},M=d=>{for(const _ in S.value)if(S.value[_].key==d){const f=S.value[_].default;g.value.content[m.value]=f,l(g.value.id,m.value,f)}},C=d=>{l(g.value.id,m.value,d.target.value)};return fe(()=>{o.value.addEventListener("focus",O)}),Be(()=>{o.value.removeEventListener("focus",O)}),(d,_)=>(c(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsAlign",tabindex:"-1","data-automation-key":v.fieldKey},[P(ge,{tabs:y($e),"model-value":T.value,"onUpdate:modelValue":V},null,8,["tabs","model-value"]),T.value=="pick"||T.value=="css"?(c(),x("div",Zn,[T.value=="pick"?(c(),x("div",el,[P(Ve,{ref_key:"pickerEl",ref:s,"model-value":$.value,options:k.value,"onUpdate:modelValue":M},null,8,["model-value","options"])])):w("",!0),T.value=="css"?(c(),F(oe,{key:1,ref_key:"freehandInputEl",ref:i,value:g.value.content[y(m)],error:t.error,onInput:C},null,8,["value","error"])):w("",!0)])):w("",!0)],8,Qn))}}),st=z(tl,[["__scopeId","data-v-9e7be285"]]),nl=["data-automation-key"],ll={key:0,class:"main"},ol={key:0,class:"pickerContainer"},sl=["value"],al=N({__name:"BuilderFieldsColor",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=Y("rootEl"),s=Y("pickerEl"),i=Y("freehandInputEl"),a={pick:s,css:i,default:null},r=t,{componentId:p,fieldKey:v}=le(r),h=B(()=>e.getComponentById(p.value)),u=H((()=>{const $=h.value.content[v.value];return $?/#[A-Fa-f0-9]{6}/.test($)?"pick":"css":"default"})()),g=()=>{var A;const $=(A=a[u.value])==null?void 0:A.value;$&&($.focus(),typeof $.selectionStart=="number"&&($.selectionStart=$.selectionEnd=$.value.length))},S=async $=>{u.value!=$&&(u.value=$,await re(),g(),$==="default"&&l(h.value.id,v.value,void 0))},k=$=>l(h.value.id,v.value,$.target.value);return fe(()=>{o.value.addEventListener("focus",g)}),Be(()=>{o.value.removeEventListener("focus",g)}),($,A)=>(c(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsColor",tabindex:"-1","data-automation-key":y(v)},[P(ge,{tabs:y($e),"model-value":u.value,"onUpdate:modelValue":S},null,8,["tabs","model-value"]),u.value=="pick"||u.value=="css"?(c(),x("div",ll,[u.value=="pick"?(c(),x("div",ol,[b("input",{ref_key:"pickerEl",ref:s,type:"color",value:h.value.content[y(v)],onInput:k},null,40,sl)])):w("",!0),u.value=="css"?(c(),F(oe,{key:1,ref_key:"freehandInputEl",ref:i,value:h.value.content[y(v)],error:t.error,onInput:k},null,8,["value","error"])):w("",!0)])):w("",!0)],8,nl))}}),il=z(al,[["__scopeId","data-v-335d2cc7"]]),rl=N({__name:"BuilderFieldsObject",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=t,{componentId:s,fieldKey:i}=le(o),a=B(()=>e.getComponentById(s.value)),r=v=>{l(a.value.id,i.value,v)},p=B(()=>{const{type:v}=a.value;return e.getComponentDefinition(v).fields[i.value]});return(v,h)=>{var m;return c(),F(oe,{class:"BuilderFieldsObject","data-automation-key":o.fieldKey,multiline:"",variant:"code",value:a.value.content[y(i)],placeholder:(m=p.value)==null?void 0:m.default,error:t.error,onInput:h[0]||(h[0]=u=>r(u.target.value))},null,8,["data-automation-key","value","placeholder","error"])}}}),bt=z(rl,[["__scopeId","data-v-7749ae31"]]),ul=["data-automation-key"],dl=["onClick"],cl={class:"formAdd"},pl=N({__name:"BuilderFieldsKeyValue",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},instancePath:{type:Array,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=t,{componentId:s,fieldKey:i}=le(o),a=B(()=>e.getComponentById(s.value)),r=Y("rootEl"),p=Y("assistedKeyEl"),v=H(null),h=H({}),m=H({key:"",value:""}),u=[{label:"Static List",value:"assisted"},{label:"JSON",value:"freehand"}],{getEvaluatedFields:g}=dt(e),S=B(()=>g(o.instancePath)[i.value].value),k=async T=>{v.value!=T&&(v.value=T,v.value=="assisted"&&$(),await re())},$=()=>{h.value=S.value??{}},A=()=>{const{key:T,value:O}=m.value;T===""||O===""||(h.value={...h.value,[T]:O},l(a.value.id,i.value,JSON.stringify(h.value,null,2)),m.value={key:"",value:""},p.value.focus())},E=T=>{const O=h.value;if(delete O[T],h.value=O,Object.keys(h.value).length==0){l(a.value.id,i.value,void 0);return}l(a.value.id,i.value,JSON.stringify(h.value,null,2))};return ke(()=>{var T;return(T=a.value)==null?void 0:T.content[i.value]},async()=>{!a.value||!S.value||(h.value=S.value)}),fe(async()=>{S.value?(h.value=S.value,k("assisted")):k("freehand")}),(T,O)=>(c(),x("div",{ref_key:"rootEl",ref:r,class:"BuilderFieldsOptions",tabindex:"-1","data-automation-key":o.fieldKey},[P(ge,{class:"BuilderFieldsOptions__tabs",tabs:u,"model-value":v.value,"onUpdate:modelValue":k},null,8,["model-value"]),v.value=="assisted"?(c(),x(X,{key:0},[b("div",{class:Ce(["staticList",{"staticList--invalid":t.error!==void 0}])},[(c(!0),x(X,null,de(h.value,(V,M)=>(c(),x("div",{key:M,class:"entry"},[b("div",null,U(M)+" · "+U(V),1),b("button",{variant:"subtle",onClick:C=>E(M)},O[2]||(O[2]=[b("i",{class:"material-symbols-outlined"},"delete",-1)]),8,dl)]))),128))],2),b("div",cl,[P(oe,{ref_key:"assistedKeyEl",ref:p,class:"inputKey",placeholder:"Type a key...",value:m.value.key,"onUpdate:value":O[0]||(O[0]=V=>m.value.key=V),onKeydown:Xe(A,["enter"])},null,8,["value"]),P(oe,{class:"inputValue",placeholder:"Type a value...",value:m.value.value,"onUpdate:value":O[1]||(O[1]=V=>m.value.value=V),onKeydown:Xe(A,["enter"])},null,8,["value"]),b("button",{onClick:A},O[3]||(O[3]=[b("i",{class:"material-symbols-outlined"},"add",-1),Z("Add ")]))])],64)):w("",!0),v.value=="freehand"?(c(),F(bt,{key:1,"component-id":a.value.id,"field-key":y(i),error:t.error},null,8,["component-id","field-key","error"])):w("",!0)],8,ul))}}),vl=z(pl,[["__scopeId","data-v-810ae0d0"]]),fl=["data-automation-key"],ml={key:0,class:"main"},hl={key:0,class:"pickerContainer"},yl={class:"BuilderFieldsPadding__options"},gl=N({__name:"BuilderFieldsPadding",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=Y("rootEl"),s=Y("pickerEl"),i=Y("freehandInputEl"),a=Y("fixedEl"),r=[{key:"all_sides",label:"All sides",match:_=>_.split(" ").length==1&&_.endsWith("px"),default:()=>A.value?A.value[0]:"0px"},{key:"XY sides",label:"XY sides",match:_=>_.split(" ").length==2&&_.endsWith("px"),default:()=>A.value?A.value[2]+" "+A.value[0]:"0px 0px"},{key:"Per side",label:"Per side",match:_=>_.split(" ").length==4&&_.endsWith("px"),default:()=>A.value?[A.value[3],A.value[1],A.value[2],A.value[0]].join(" "):"0px 0px 0px 0px"}],p={pick:s,css:i,default:null},v=t,{componentId:h,fieldKey:m}=le(v),u=B(()=>e.getComponentById(h.value)),g=B(()=>r.map(_=>({value:_.key,label:_.label,icon:"padding"}))),S=B(()=>{const _=u.value.content[m.value];for(const f in r)if(_&&r[f].match(_))return r[f].key;return null}),k=B(()=>{const _=u.value.content[m.value];return _||""}),$=B(()=>{const _=A.value;return _?[_[0].substring(0,_[0].length-2),_[1].substring(0,_[1].length-2),_[2].substring(0,_[2].length-2),_[3].substring(0,_[3].length-2)]:["0","0","0","0"]}),A=B(()=>{const _=u.value.content[m.value];if(_){const f=_.split(" ");if(f.length==1&&f[0].endsWith("px"))return[f[0],f[0],f[0],f[0]];if(f.length==2&&f[0].endsWith("px")&&f[0].endsWith("px"))return[f[1],f[1],f[0],f[0]];if(f.length==4&&f[0].endsWith("px")&&f[1].endsWith("px")&&f[2].endsWith("px")&&f[3].endsWith("px"))return[f[3],f[1],f[0],f[2]]}else return null;return null}),T=H((()=>{if(!k.value)return"default";for(const _ in r)if(r[_].match(k.value))return"pick";return"css"})()),O=()=>{var f;const _=(f=p[T.value])==null?void 0:f.value;_&&(_.focus(),typeof _.selectionStart=="number"&&(_.selectionStart=_.selectionEnd=_.value.length))},V=async _=>{T.value!=_&&(T.value=_,await re(),O(),_==="default"&&l(u.value.id,m.value,void 0))},M=_=>{for(const f in r)if(r[f].key==_){const I=r[f].default();u.value.content[m.value]=I,l(u.value.id,m.value,I)}re(()=>{var f;(f=a.value)==null||f.focus()})},C=_=>{l(u.value.id,m.value,_.target.value)},d=(_,f,I)=>{const K=Number(_),D=u.value.content[m.value];if(f=="all_sides")l(u.value.id,m.value,K+"px");else if(f=="XY sides"){const q=D.split(" ");I=="x"?q[1]=K+"px":I=="y"&&(q[0]=K+"px"),l(u.value.id,m.value,q.join(" "))}else if(f=="Per side"){const q=D.split(" ");I=="top"?q[0]=K+"px":I=="right"?q[1]=K+"px":I=="bottom"?q[2]=K+"px":I=="left"&&(q[3]=K+"px"),l(u.value.id,m.value,q.join(" "))}};return fe(()=>{o.value.addEventListener("focus",O)}),Be(()=>{o.value.removeEventListener("focus",O)}),(_,f)=>(c(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsPadding",tabindex:"-1","data-automation-key":v.fieldKey},[P(ge,{tabs:y($e),"model-value":T.value,"onUpdate:modelValue":V},null,8,["tabs","model-value"]),T.value=="pick"||T.value=="css"?(c(),x("div",ml,[T.value=="pick"?(c(),x("div",hl,[P(Ve,{ref_key:"pickerEl",ref:s,"model-value":S.value,options:g.value,"onUpdate:modelValue":M},null,8,["model-value","options"]),b("div",yl,[S.value=="all_sides"?(c(),x(X,{key:0},[f[7]||(f[7]=b("i",null,"All",-1)),P(se,{ref_key:"fixedEl",ref:a,type:"number","model-value":$.value[0],"onUpdate:modelValue":f[0]||(f[0]=I=>d(I,S.value))},null,8,["model-value"]),f[8]||(f[8]=b("div",null,"px",-1))],64)):w("",!0),S.value=="XY sides"?(c(),x(X,{key:1},[f[9]||(f[9]=b("i",null,"X",-1)),P(se,{type:"number","model-value":$.value[0],"onUpdate:modelValue":f[1]||(f[1]=I=>d(I,S.value,"x"))},null,8,["model-value"]),f[10]||(f[10]=b("div",null,"px",-1)),f[11]||(f[11]=b("i",null,"Y",-1)),P(se,{type:"number","model-value":$.value[2],"onUpdate:modelValue":f[2]||(f[2]=I=>d(I,S.value,"y"))},null,8,["model-value"]),f[12]||(f[12]=b("div",null,"px",-1))],64)):w("",!0),S.value=="Per side"?(c(),x(X,{key:2},[f[13]||(f[13]=b("i",null,"Left",-1)),P(se,{type:"number","model-value":$.value[0],"onUpdate:modelValue":f[3]||(f[3]=I=>d(I,S.value,"left"))},null,8,["model-value"]),f[14]||(f[14]=b("div",null,"px",-1)),f[15]||(f[15]=b("i",null,"Right",-1)),P(se,{type:"number","model-value":$.value[1],"onUpdate:modelValue":f[4]||(f[4]=I=>d(I,S.value,"right"))},null,8,["model-value"]),f[16]||(f[16]=b("div",null,"px",-1)),f[17]||(f[17]=b("i",null,"Top",-1)),P(se,{type:"number","model-value":$.value[2],"onUpdate:modelValue":f[5]||(f[5]=I=>d(I,S.value,"top"))},null,8,["model-value"]),f[18]||(f[18]=b("div",null,"px",-1)),f[19]||(f[19]=b("i",null,"Bottom",-1)),P(se,{type:"number","model-value":$.value[3],"onUpdate:modelValue":f[6]||(f[6]=I=>d(I,S.value,"bottom"))},null,8,["model-value"]),f[20]||(f[20]=b("div",null,"px",-1))],64)):w("",!0)])])):w("",!0),T.value=="css"?(c(),F(oe,{key:1,ref_key:"freehandInputEl",ref:i,value:u.value.content[y(m)],error:t.error,onInput:C},null,8,["value","error"])):w("",!0)])):w("",!0)],8,fl))}}),_l=z(gl,[["__scopeId","data-v-05404a5b"]]),bl=["data-automation-key"],kl={key:0,class:"main"},Sl={key:0,class:"pickerContainer"},Il={class:"param"},wl={class:"header"},El=["value"],xl={class:"param"},Cl={class:"header"},Bl=["value"],$l={class:"param"},Ml={class:"header"},Al=["value"],Tl={class:"param"},Fl={class:"header"},Ol=["value"],Vl={class:"param"},Pl=["value"],Rl=N({__name:"BuilderFieldsShadow",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=Y("rootEl"),s=Y("freehandInputEl"),i=Y("paramOffsetXEl"),a=Y("paramOffsetYEl"),r=Y("paramBlurRadiusEl"),p=Y("paramSpreadRadiusEl"),v=Y("paramColorEl"),h={pick:i,css:s,default:null},m=t,{componentId:u,fieldKey:g}=le(m),S=B(()=>e.getComponentById(u.value)),k=/^(?<offsetX>[0-9]+)px (?<offsetY>[0-9]+)px (?<blurRadius>[0-9]+)px (?<spreadRadius>[0-9-]+)px (?<color>#[A-Fa-f0-9]{6})$/,A=H((()=>{const C=S.value.content[g.value];return C?k.test(C)?"pick":"css":"default"})()),E=()=>{var d;const C=(d=h[A.value])==null?void 0:d.value;C&&(C.focus(),typeof C.selectionStart=="number"&&(C.selectionStart=C.selectionEnd=C.value.length))},T=async C=>{A.value!=C&&(A.value=C,await re(),E(),C==="default"&&l(S.value.id,g.value,void 0))},O=()=>{const C=i.value.value,d=a.value.value,_=r.value.value,f=p.value.value,I=v.value.value,K=`${C}px ${d}px ${_}px ${f}px ${I}`;l(S.value.id,g.value,K)},V=C=>{l(S.value.id,g.value,C.target.value)},M=B(()=>{var _;const C=S.value.content[g.value];return(_=C==null?void 0:C.match(k))==null?void 0:_.groups});return fe(()=>{o.value.addEventListener("focus",E)}),Be(()=>{o.value.removeEventListener("focus",E)}),(C,d)=>{var _,f,I,K,D,q,ae,Ie,we,Ee,xe,te,G;return c(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsShadow",tabindex:"-1","data-automation-key":m.fieldKey},[P(ge,{tabs:y($e),"model-value":A.value,"onUpdate:modelValue":T},null,8,["tabs","model-value"]),A.value=="pick"||A.value=="css"?(c(),x("div",kl,[A.value=="pick"?(c(),x("div",Sl,[b("div",Il,[b("div",wl,[d[0]||(d[0]=b("div",{class:"name"},"Offset X",-1)),be(b("div",{class:"value"},U((_=M.value)==null?void 0:_.offsetX)+"px ",513),[[Me,(f=M.value)==null?void 0:f.offsetX]])]),b("input",{ref_key:"paramOffsetXEl",ref:i,type:"range",min:"0",max:"32",value:(I=M.value)==null?void 0:I.offsetX,onInput:O},null,40,El)]),b("div",xl,[b("div",Cl,[d[1]||(d[1]=b("div",{class:"name"},"Offset Y",-1)),be(b("div",{class:"value"},U((K=M.value)==null?void 0:K.offsetY)+"px ",513),[[Me,(D=M.value)==null?void 0:D.offsetY]])]),b("input",{ref_key:"paramOffsetYEl",ref:a,type:"range",min:"0",max:"32",value:(q=M.value)==null?void 0:q.offsetY,onInput:O},null,40,Bl)]),b("div",$l,[b("div",Ml,[d[2]||(d[2]=b("div",{class:"name"},"Blur radius",-1)),be(b("div",{class:"value"},U((ae=M.value)==null?void 0:ae.blurRadius)+"px ",513),[[Me,(Ie=M.value)==null?void 0:Ie.blurRadius]])]),b("input",{ref_key:"paramBlurRadiusEl",ref:r,type:"range",min:"0",max:"32",value:(we=M.value)==null?void 0:we.blurRadius,onInput:O},null,40,Al)]),b("div",Tl,[b("div",Fl,[d[3]||(d[3]=b("div",{class:"name"},"Spread radius",-1)),be(b("div",{class:"value"},U((Ee=M.value)==null?void 0:Ee.spreadRadius)+"px ",513),[[Me,(xe=M.value)==null?void 0:xe.spreadRadius]])]),b("input",{ref_key:"paramSpreadRadiusEl",ref:p,type:"range",min:"-16",max:"32",value:(te=M.value)==null?void 0:te.spreadRadius,onInput:O},null,40,Ol)]),b("div",Vl,[d[4]||(d[4]=b("div",{class:"header"},[b("div",{class:"name"},"Color")],-1)),b("input",{ref_key:"paramColorEl",ref:v,type:"color",value:(G=M.value)==null?void 0:G.color,onInput:O},null,40,Pl)])])):w("",!0),A.value=="css"?(c(),F(oe,{key:1,ref_key:"freehandInputEl",ref:s,value:S.value.content[y(g)],error:t.error,onInput:V},null,8,["value","error"])):w("",!0)])):w("",!0)],8,bl)}}}),Ll=z(Rl,[["__scopeId","data-v-3d00b12a"]]),Wl=["data-automation-key"],jl=N({__name:"BuilderFieldsText",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=t,{componentId:s,fieldKey:i}=le(o),a=B(()=>e.getComponentById(s.value)),r=B(()=>{const{type:u}=a.value;return e.getComponentDefinition(u).fields[i.value]}),p=B(()=>`${o.componentId}-${o.fieldKey}`),v={uiComponents:()=>{const u=e.getComponents(void 0,{sortedByPosition:!0}).filter(S=>e.isChildOf("root",S.id)),g={};return u.forEach(S=>{g[S.id]=S.id}),g},uiComponentsWithEvents:()=>e.getComponents(void 0,{sortedByPosition:!0}).filter(u=>e.isChildOf("root",u.id)).filter(u=>!!e.getComponentDefinition(u.type).events).reduce((u,g)=>(u[g.id]=g.id,u),{}),eventTypes:(u,g)=>{var E;const S=(E=u.getComponentById(g).content)==null?void 0:E.refComponentId,k=e.getComponentById(S);if(!k)return{};const $=u.getComponentDefinition(k.type);return Object.fromEntries(Object.keys($.events??{}).map(T=>[T,T]))}},h=B(()=>{const u=r.value;return u.options?typeof u.options=="function"?u.options(e,s.value):typeof u.options=="string"?v==null?void 0:v[u.options](e,s.value):u.options:{}}),m=u=>{l(a.value.id,i.value,u.target.value)};return(u,g)=>{var S,k;return c(),x("div",{class:"BuilderFieldsText","data-automation-key":o.fieldKey},[!r.value.control||r.value.control==y(Qe).Text?(c(),F(oe,{key:0,class:"content","input-id":p.value,value:a.value.content[y(i)],placeholder:(S=r.value)==null?void 0:S.default,options:h.value,error:t.error,onInput:m},null,8,["input-id","value","placeholder","options","error"])):r.value.control==y(Qe).Textarea?(c(),F(oe,{key:1,multiline:"",variant:"text",class:"content","input-id":p.value,value:a.value.content[y(i)],placeholder:(k=r.value)==null?void 0:k.default,error:t.error,onInput:m},null,8,["input-id","value","placeholder","error"])):w("",!0)],8,Wl)}}}),Le=z(jl,[["__scopeId","data-v-b2fda2e3"]]),Dl=["data-automation-key"],Nl={key:0,class:"main"},ql={key:0,class:"pickerContainer"},Ul={key:0,class:"fixedContainer"},zl=N({__name:"BuilderFieldsWidth",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0}},setup(t){const e=L(W.core),n=L(W.builderManager),{setContentValue:l}=ee(e,n),o=Y("rootEl"),s=Y("pickerEl"),i=Y("freehandInputEl"),a=Y("fixedEl"),r=[{key:"fixed",label:"Fixed",match:d=>d.endsWith("px"),default:"160px"},{key:"fit-content",label:"Fit Content",match:d=>d=="fit-content",default:"fit-content"},{key:"full",label:"Full",match:d=>d=="100%",default:"100%"}],p={pick:s,css:i,default:null},v=t,{componentId:h,fieldKey:m}=le(v),u=B(()=>e.getComponentById(h.value)),g=B(()=>r.map(d=>({value:d.key,label:d.label,icon:"width"}))),S=B(()=>{const d=u.value.content[m.value];for(const _ in r)if(d&&r[_].match(d))return r[_].key;return null}),k=B(()=>{const d=u.value.content[m.value];return d||""}),$=B(()=>{const d=u.value.content[m.value];if(d){if(d.endsWith("px"))return d.substring(0,d.length-2)}else return null;return null}),E=H((()=>{if(!k.value)return"default";for(const d in r)if(r[d].match(k.value))return"pick";return"css"})()),T=()=>{var _;const d=(_=p[E.value])==null?void 0:_.value;d&&(d.focus(),typeof d.selectionStart=="number"&&(d.selectionStart=d.selectionEnd=d.value.length))},O=async d=>{E.value!=d&&(E.value=d,await re(),T(),d==="default"&&l(u.value.id,m.value,void 0))},V=d=>{for(const _ in r)if(r[_].key==d){const f=r[_].default;u.value.content[m.value]=f,l(u.value.id,m.value,f)}d=="fixed"&&re(()=>{a.value.focus()})},M=d=>{l(u.value.id,m.value,d.target.value)},C=d=>{l(u.value.id,m.value,`${d}px`)};return fe(()=>{o.value.addEventListener("focus",T)}),Be(()=>{o.value.removeEventListener("focus",T)}),(d,_)=>(c(),x("div",{ref_key:"rootEl",ref:o,class:"BuilderFieldsWidth",tabindex:"-1","data-automation-key":v.fieldKey},[P(ge,{tabs:y($e),"model-value":E.value,"onUpdate:modelValue":O},null,8,["tabs","model-value"]),E.value=="pick"||E.value=="css"?(c(),x("div",Nl,[E.value=="pick"?(c(),x("div",ql,[P(Ve,{ref_key:"pickerEl",ref:s,"model-value":S.value,options:g.value,"onUpdate:modelValue":V},null,8,["model-value","options"]),S.value=="fixed"?(c(),x("div",Ul,[P(se,{ref_key:"fixedEl",ref:a,type:"number","model-value":$.value,invalid:t.error!==void 0,"onUpdate:modelValue":C},null,8,["model-value","invalid"]),_[0]||(_[0]=b("div",null,"px",-1))])):w("",!0)])):w("",!0),E.value=="css"?(c(),F(oe,{key:1,ref_key:"freehandInputEl",ref:i,value:u.value.content[y(m)],onInput:M},null,8,["value"])):w("",!0)])):w("",!0)],8,Dl))}}),Kl=z(zl,[["__scopeId","data-v-168c4be2"]]),Gl={class:"WdsFieldWrapper colorTransformer"},Yl={class:"temporaryMissingBar"},Hl={key:0,class:"WdsFieldWrapper__title"},Jl={key:0,class:"WdsFieldWrapper__title__label"},Xl={key:0,class:"WdsFieldWrapper__title__label__unit"},Ql={class:"WdsFieldWrapper__slot"},Zl={key:1,class:"WdsFieldWrapper__error"},eo={key:2,class:"WdsFieldWrapper__hint"},to=N({__name:"WdsFieldWrapper",props:{label:{type:String,required:!1,default:void 0},unit:{type:String,required:!1,default:void 0},hint:{type:String,required:!1,default:void 0},error:{type:String,required:!1,default:void 0},isExpansible:{type:Boolean,required:!1,default:!1},helpButton:{type:[String,Boolean],required:!1,default:void 0}},emits:{helpClick:()=>!0,expand:()=>!0,shrink:()=>!0},setup(t,{emit:e}){const n=e,l=H(!1);function o(){n("expand"),l.value=!0}const s={desc:"OK",fn:()=>{l.value=!1,n("shrink")}};return(i,a)=>(c(),x("div",Gl,[l.value?(c(),x(X,{key:0},[P(xt,{actions:[s],description:t.hint,title:t.label},{default:j(()=>[Fe(i.$slots,"default",{},void 0,!0)]),_:3},8,["actions","description","title"]),b("div",Yl,[a[1]||(a[1]=Z(" Field ")),b("strong",null,U(t.label),1),a[2]||(a[2]=Z(" is open in a new window. "))])],64)):(c(),x(X,{key:1},[!l.value&&(t.label||t.helpButton)?(c(),x("div",Hl,[t.label?(c(),x("label",Jl,[Z(U(t.label),1),t.unit?(c(),x("span",Xl," : "+U(t.unit),1)):w("",!0)])):w("",!0),t.isExpansible?(c(),F(J,{key:1,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":"Expand",onClick:o},{default:j(()=>a[3]||(a[3]=[b("i",{class:"material-symbols-outlined"},"open_in_new",-1)])),_:1})):w("",!0),t.helpButton?(c(),F(J,{key:2,class:"WdsFieldWrapper__title__help",variant:"neutral",size:"smallIcon","data-writer-tooltip":typeof t.helpButton=="string"?t.helpButton:void 0,onClick:a[0]||(a[0]=r=>i.$emit("helpClick"))},{default:j(()=>a[4]||(a[4]=[b("i",{class:"material-symbols-outlined"},"help",-1)])),_:1},8,["data-writer-tooltip"])):w("",!0)])):w("",!0),b("div",Ql,[Fe(i.$slots,"default",{},void 0,!0)]),t.error?(c(),x("p",Zl,U(t.error),1)):w("",!0),t.hint?(c(),x("p",eo,U(t.hint),1)):w("",!0)],64))]))}}),ye=z(to,[["__scopeId","data-v-6ccdf720"]]);function no(t,e){const n=H(!1),l=H(),o=Ct(`useListResources(${e})`,Array.isArray),s=rt(o.value??[]);async function i(){n.value=!0,l.value=void 0;try{s.value=await t.sendListResourcesRequest(e),o.value=s.value}catch(a){l.value=a,s.value=[]}finally{n.value=!1}}return{data:Pe(s),isLoading:Pe(n),error:Pe(l),load:i}}const lo={class:"BuilderGraphSelect--text"},oo=N({__name:"BuilderGraphSelect",props:ze({enableMultiSelection:{type:Boolean,required:!1}},{modelValue:{type:[String,Array],required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=ce({loader:()=>pe(()=>Promise.resolve().then(()=>He),void 0,import.meta.url),loadingComponent:Ye}),n=L(W.core),l=Ke(t,"modelValue"),{load:o,data:s,isLoading:i}=no(n,"graphs");fe(o);const a=B(()=>s.value.map(p=>({label:p.name,detail:p.description,value:p.id})).sort((p,v)=>p.label.localeCompare(v.label))),r=B({get(){return l.value===void 0?"":typeof l.value=="string"?l.value:l.value.join(",")},set(p){l.value=p.split(",")}});return(p,v)=>(c(),x("div",lo,[y(s).length>0||y(i)?(c(),F(y(e),{key:0,modelValue:l.value,"onUpdate:modelValue":v[0]||(v[0]=h=>l.value=h),options:a.value,"hide-icons":"","enable-search":"",loading:y(i),"enable-multi-selection":t.enableMultiSelection},null,8,["modelValue","options","loading","enable-multi-selection"])):(c(),F(se,{key:1,modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=h=>r.value=h)},null,8,["modelValue"]))]))}}),kt=z(oo,[["__scopeId","data-v-49f88fdf"]]),so=Object.freeze(Object.defineProperty({__proto__:null,default:kt},Symbol.toStringTag,{value:"Module"})),ao=["data-automation-key"],io={class:"tools"},ro=["onClick"],uo={class:"toolName"},co={class:"addToolForm"},po={class:"addToolFormActions"},vo=N({__name:"BuilderFieldsTools",props:{componentId:{},fieldKey:{}},setup(t){const e=ce(()=>pe(()=>import("./BuilderEmbeddedCodeEditor-B95MXBmu.js").then(M=>M.a),__vite__mapDeps([4,1,2,5]),import.meta.url)),n=L(W.core),l=L(W.builderManager),{setContentValue:o}=ee(n,l),i={isShown:!1,type:"function",name:"new_tool",code:`
{
	"description": "Gets info for an employee, given an employee id",
    "parameters": {
      "id": {"type": "string", "description": "Id of the employee"}
    }
}
`.trim(),graphIds:""},a=H(i),r=B(()=>{switch(a.value.type){case"function":return!a.value.code;case"graph":return!a.value.graphIds;default:return!0}}),p=B({get:()=>a.value.graphIds.split(","),set(M){a.value={...a.value,graphIds:M.join(",")}}}),v=t,{componentId:h,fieldKey:m}=le(v),u=B(()=>n.getComponentById(h.value)),g=B(()=>{let M={};try{M=JSON.parse(u.value.content[m.value])}catch{M={}}return M});function S(){a.value={...i,isShown:!0}}function k(){const{type:M,code:C,graphIds:d}=a.value;if(M=="function")return{...JSON.parse(C),type:M};if(M=="graph"){const _=d.split(",").map(f=>f.trim());return{type:M,graph_ids:_}}throw"Unexpected tool type."}function $(M){let C=[];const{originalName:d,name:_}=M;return _||C.push("The name cannot be empty."),Object.keys(g.value).includes(_)&&!(d||d==_)&&C.push("An existing tool with the specified name already exists."),C}function A(){const M=$(a.value);if(M.length>0){M.forEach(alert);return}let C;try{C=k()}catch{alert("Incorrect tool definition");return}const d=JSON.stringify({...g.value,...a.value.originalName?{[a.value.originalName]:void 0}:{},[a.value.name]:C});o(u.value.id,m.value,d),a.value.isShown=!1}function E(M,C){var _;const{type:d}=C;if(d=="function")return{isShown:!0,type:"function",originalName:M,name:M,graphIds:"",code:JSON.stringify(C,void 0,2)};if(d=="graph")return{isShown:!0,type:"graph",originalName:M,name:M,graphIds:(_=C.graph_ids)==null?void 0:_.join(","),code:""};throw"Unexpected tool type;"}function T(M){var d;const C=(d=g.value)==null?void 0:d[M];C&&(a.value=E(M,C))}function O(M){const C=JSON.stringify({...g.value,[M]:void 0});o(u.value.id,m.value,C)}const V={desc:"Close",fn:()=>{a.value.isShown=!1}};return(M,C)=>(c(),x("div",{class:"BuilderFieldsTools colorTransformer","data-automation-key":v.fieldKey},[b("div",io,[(c(!0),x(X,null,de(g.value,(d,_)=>(c(),x("div",{key:_,class:"tool",onClick:f=>T(_)},[b("div",uo,U(_),1),P(J,{variant:"primary",size:"small",class:"delete",onClick:it(f=>O(_),["stop"])},{default:j(()=>C[4]||(C[4]=[b("i",{class:"material-symbols-outlined"},"delete",-1)])),_:2},1032,["onClick"])],8,ro))),128))]),P(J,{size:"small",onClick:S},{default:j(()=>C[5]||(C[5]=[b("i",{class:"material-symbols-outlined"},"add",-1),Z(" Add tool")])),_:1}),a.value.isShown?(c(),F(Ge,{key:0,"close-action":V,icon:"add","modal-title":"Add tool","allow-overflow":""},{default:j(()=>[b("div",co,[P(ye,{label:"Tool type"},{default:j(()=>[P(Bt,{modelValue:a.value.type,"onUpdate:modelValue":C[0]||(C[0]=d=>a.value.type=d)},{default:j(()=>C[6]||(C[6]=[b("option",{value:"function"},"Function",-1),b("option",{value:"graph"},"Knowledge graph",-1)])),_:1},8,["modelValue"])]),_:1}),P(ye,{label:"Tool name"},{default:j(()=>[P(se,{modelValue:a.value.name,"onUpdate:modelValue":C[1]||(C[1]=d=>a.value.name=d)},null,8,["modelValue"])]),_:1}),a.value.type=="function"?(c(),F(ye,{key:0,"frame-slot":!0,label:"Function tool definition"},{default:j(()=>[P(y(e),{modelValue:a.value.code,"onUpdate:modelValue":C[2]||(C[2]=d=>a.value.code=d),variant:"minimal",language:"json"},null,8,["modelValue"])]),_:1})):w("",!0),a.value.type=="graph"?(c(),F(ye,{key:1,label:"Graph id(s)",hint:"Specify the id of the knowledge graph you want to use. If multiple, separate the ids using commas."},{default:j(()=>[P(kt,{modelValue:p.value,"onUpdate:modelValue":C[3]||(C[3]=d=>p.value=d),"enable-multi-selection":""},null,8,["modelValue"])]),_:1})):w("",!0)]),b("div",po,[P(J,{".disabled":r.value,onClick:A},{default:j(()=>C[7]||(C[7]=[Z("Save")])),_:1},40,[".disabled"])])]),_:1})):w("",!0)],8,ao))}}),fo=z(vo,[["__scopeId","data-v-1fe365f0"]]),mo=N({__name:"BuilderFieldsCode",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},isExpanded:{type:Boolean,required:!0}},setup(t){const e=ce({loader:()=>pe(()=>import("./BuilderEmbeddedCodeEditor-B95MXBmu.js").then(v=>v.a),__vite__mapDeps([4,1,2,5]),import.meta.url),loadingComponent:Ye}),n=L(W.core),l=L(W.builderManager),{setContentValue:o}=ee(n,l),s=t,{componentId:i,fieldKey:a}=le(s),r=B(()=>n.getComponentById(i.value)),p=H(r.value.content[a.value]);return ke(p,v=>{o(r.value.id,a.value,v)}),(v,h)=>(c(),F(y(e),{modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=m=>p.value=m),language:"python",variant:t.isExpanded?"full":"minimal",class:"BuilderFieldsCode"},null,8,["modelValue","variant"]))}}),ho=z(mo,[["__scopeId","data-v-65363ed2"]]),yo=["data-automation-key"],go=N({__name:"BuilderFieldsWorkflowKey",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(t){const e=ce(()=>pe(()=>Promise.resolve().then(()=>He),void 0,import.meta.url)),n=L(W.core),l=L(W.builderManager),{setContentValue:o}=ee(n,l),s=t,{componentId:i,fieldKey:a}=le(s),r=B(()=>n.getComponentById(i.value)),p=B({get:()=>{var u;return((u=r.value)==null?void 0:u.content[s.fieldKey])??""},set:u=>o(r.value.id,a.value,u)}),v=B(()=>{const u=new Set;for(const k of n.getComponents("workflows_root"))k.content.key&&u.add(k.content.key);const g=[...u].sort((k,$)=>k.localeCompare($)).map(k=>({value:k,label:k,icon:"linked_services"})),S=[{value:"",label:"(No workflow)",icon:"block"},...g];if(!S.some(k=>k.value===p.value)){const k=p.value;S.push({value:k,label:k})}return S}),h=B(()=>{const u=n.getComponents("workflows_root").find(g=>g.content.key===p.value);return u==null?void 0:u.id});function m(){h.value&&(l.setSelection(h.value,null,"click"),n.setActivePageId(h.value))}return(u,g)=>(c(),x("div",{class:"BuilderFieldsWorkflowKey","data-automation-key":s.fieldKey},[P(y(e),{modelValue:p.value,"onUpdate:modelValue":g[0]||(g[0]=S=>p.value=S),options:v.value},null,8,["modelValue","options"]),h.value?(c(),F(J,{key:0,variant:"neutral",size:"smallIcon","data-writer-tooltip":"Jump to the workflow",onClick:m},{default:j(()=>g[1]||(g[1]=[b("i",{class:"material-symbols-outlined"},"jump_to_element",-1)])),_:1})):w("",!0)],8,yo))}}),_o=z(go,[["__scopeId","data-v-8cf315f2"]]),bo=["data-automation-key"],ko=N({__name:"BuilderFieldsHandler",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0}},setup(t){const e=ce(()=>pe(()=>Promise.resolve().then(()=>He),void 0,import.meta.url)),n=L(W.core),l=L(W.builderManager),{setContentValue:o}=ee(n,l),s=t,{componentId:i,fieldKey:a}=le(s),r=B(()=>n.getComponentById(i.value)),p=B({get:()=>{var h;return((h=r.value)==null?void 0:h.content[s.fieldKey])??""},set:h=>o(r.value.id,a.value,h)}),v=B(()=>{const h=n.userFunctions.value.map(u=>u.name).sort((u,g)=>u.localeCompare(g)).map(u=>({value:u,label:u,icon:"function"})),m=[{value:"",label:"(No handler)",icon:"block"},...h];if(!m.some(u=>u.value===p.value)){const u=p.value;m.push({value:u,label:u})}return m});return(h,m)=>(c(),x("div",{class:"BuilderFieldsHandler","data-automation-key":s.fieldKey},[P(y(e),{modelValue:p.value,"onUpdate:modelValue":m[0]||(m[0]=u=>p.value=u),options:v.value},null,8,["modelValue","options"])],8,bo))}}),So=["data-automation-key"],at=N({__name:"BuilderFieldsWriterResourceId",props:{componentId:{type:String,required:!0},fieldKey:{type:String,required:!0},error:{type:String,required:!1,default:void 0},resourceType:{type:String,required:!0}},setup(t){const e=ce(()=>pe(()=>import("./BuilderApplicationSelect-DWkfEFhM.js"),__vite__mapDeps([6,1,2,7,8,9,10,4,5,11]),import.meta.url)),n=ce(()=>pe(()=>Promise.resolve().then(()=>so),void 0,import.meta.url)),l=L(W.core),o=L(W.builderManager),{setContentValue:s}=ee(l,o),i=t,{componentId:a,fieldKey:r}=le(i),p=B(()=>l.getComponentById(a.value)),v=B(()=>i.resourceType==="graph"?n:e),h=B({get:()=>p.value.content[i.fieldKey]??"",set(m){s(p.value.id,r.value,String(m))}});return(m,u)=>(c(),x("div",{class:"BuilderFieldsWriterApplicationId","data-automation-key":i.fieldKey},[(c(),F($t(v.value),{modelValue:h.value,"onUpdate:modelValue":u[0]||(u[0]=g=>h.value=g)},null,8,["modelValue"]))],8,So))}});function Io(t,e){const{getEvaluatedFields:n}=dt(t),l=B(()=>{var a;const s=(a=e.value.at(-1))==null?void 0:a.componentId;if(s===void 0)return{};const i=t.getComponentById(s);return i?t.getComponentDefinition(i.type).fields??{}:{}}),o=B(()=>n(e.value));return B(()=>Object.entries(l.value).reduce((s,[i,a])=>{const r=o.value[i].value;return s[i]=wo(a,r),s},{}))}function wo(t,e){let n=t.validator;if(n===void 0&&typeof t.options=="object"&&t.options!==null&&Object.keys(t.options).length>0&&(n=Mt(Object.keys(t.options))),n===void 0)return;const l=At(n);if(!(l(e)||l.errors===void 0))return xo(l.errors)}function Eo(t){var n;if(t.keyword==="format"&&Object.values(Tt).includes(t.params.format))return Ft[t.params.format].errorMessage;let e="";return t.instancePath&&(e+=`${t.instancePath} `),e+=t.message,Array.isArray((n=t.params)==null?void 0:n.allowedValues)&&(e+=`: ${t.params.allowedValues.join(", ")}`),e}function xo(t){return t.map(Eo).join(`
`)}const Co={key:0,class:"BuilderSettingsProperties"},Bo={key:0,class:"BuilderSettingsProperties__category__title"},$o=N({__name:"BuilderSettingsProperties",setup(t){const e=L(W.core),n=L(W.builderManager),l=H(new Set),o=B(()=>{var u,g;return Rt((g=(u=n.firstSelectedItem)==null?void 0:u.value)==null?void 0:g.instancePath)}),s=B(()=>e.getComponentById(n.firstSelectedId.value)),i=B(()=>{const{type:u}=s.value;return e.getComponentDefinition(u)}),a=B(()=>{var u;return(u=i.value)==null?void 0:u.fields}),r=Io(e,o),p=B(()=>[ue.General,ue.Style,ue.Tools].filter(u=>{var g;return(g=v.value[u])==null?void 0:g.length})),v=B(()=>{const u=Object.entries(a.value);return{[ue.General]:u.filter(([S,k])=>!k.category||k.category==ue.General),[ue.Style]:u.filter(([S,k])=>k.category==ue.Style),[ue.Tools]:u.filter(([S,k])=>k.category==ue.Tools)}});function h(u){l.value.add(u)}function m(u){l.value.delete(u)}return(u,g)=>y(n).isSingleSelectionActive&&a.value?(c(),x("div",Co,[(c(!0),x(X,null,de(p.value,S=>(c(),x("div",{key:S,class:"BuilderSettingsProperties__category"},[v.value[S].length>0?(c(),x("h4",Bo,U(S),1)):w("",!0),(c(!0),x(X,null,de(v.value[S],([k,$])=>(c(),x("div",{key:k,class:"BuilderSettingsProperties__category__field"},[P(ye,{label:S==="Tools"?void 0:$.name??k,hint:$.desc,unit:$.type,error:y(r)[k],"is-expansible":$.type==y(Q).Code,onExpand:A=>h(k),onShrink:A=>m(k)},{default:j(()=>[$.type==y(Q).Color?(c(),F(il,{key:0,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).Shadow?(c(),F(Ll,{key:1,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).KeyValue?(c(),F(vl,{key:2,"field-key":k,"component-id":s.value.id,"instance-path":o.value,error:y(r)[k]},null,8,["field-key","component-id","instance-path","error"])):w("",!0),$.type==y(Q).Text||$.type==y(Q).Boolean?(c(),F(Le,{key:3,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).WorkflowKey?(c(),F(_o,{key:4,"field-key":k,"component-id":s.value.id},null,8,["field-key","component-id"])):w("",!0),$.type==y(Q).Handler?(c(),F(ko,{key:5,"field-key":k,"component-id":s.value.id},null,8,["field-key","component-id"])):w("",!0),$.type==y(Q).Number?(c(),F(Le,{key:6,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).IdKey?(c(),F(Le,{key:7,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).Object?(c(),F(bt,{key:8,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).Width?(c(),F(Kl,{key:9,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).HAlign?(c(),F(st,{key:10,direction:"horizontal","field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).VAlign?(c(),F(st,{key:11,direction:"vertical","field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).Padding?(c(),F(_l,{key:12,"field-key":k,"component-id":s.value.id,error:y(r)[k]},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).Tools?(c(),F(fo,{key:13,"field-key":k,"component-id":s.value.id},null,8,["field-key","component-id"])):w("",!0),$.type==y(Q).Code?(c(),F(ho,{key:14,"field-key":k,"component-id":s.value.id,"is-expanded":l.value.has(k)},null,8,["field-key","component-id","is-expanded"])):w("",!0),$.type==y(Q).WriterGraphId?(c(),F(at,{key:15,"field-key":k,"component-id":s.value.id,error:y(r)[k],"resource-type":"graph"},null,8,["field-key","component-id","error"])):w("",!0),$.type==y(Q).WriterAppId?(c(),F(at,{key:16,"field-key":k,"component-id":s.value.id,error:y(r)[k],"resource-type":"application"},null,8,["field-key","component-id","error"])):w("",!0)]),_:2},1032,["label","hint","unit","error","is-expansible","onExpand","onShrink"])]))),128))]))),128))])):w("",!0)}}),Mo=z($o,[["__scopeId","data-v-a4b9adb6"]]),Ao={class:"BuilderSectionTitle"},To={class:"material-symbols-outlined"},Fo=N({__name:"BuilderSectionTitle",props:{icon:{type:String,required:!0},label:{type:String,required:!0}},setup(t){return(e,n)=>(c(),x("div",Ao,[b("i",To,U(t.icon),1),b("h3",null,U(t.label),1)]))}}),St=z(Fo,[["__scopeId","data-v-731e03f5"]]),Oo={key:0,class:"BuilderSettingsBinding"},Vo={class:"main"},Po='Links this component to a state element, in a two-way fashion. Reference the state element directly, i.e. use "my_var" instead of "@{my_var}".',Ro=N({__name:"BuilderSettingsBinding",setup(t){const e=L(W.core),n=L(W.builderManager),{setBinding:l}=ee(e,n),o=B(()=>e.getComponentById(n.firstSelectedId.value));return(s,i)=>y(n).isSingleSelectionActive?(c(),x("div",Oo,[P(St,{icon:"link",label:"Binding"}),b("div",Vo,[P(ye,{label:"State element",hint:Po},{default:j(()=>{var a;return[P(oe,{type:"state",value:(a=o.value.binding)==null?void 0:a.stateRef,placeholder:"my_var",onInput:i[0]||(i[0]=r=>y(l)(o.value.id,r.target.value))},null,8,["value"])]}),_:1})])])):w("",!0)}}),Lo=z(Ro,[["__scopeId","data-v-51a930b8"]]),Wo={key:0,class:"BuilderSettingsVisibility"},jo={class:"main"},Do={class:"flexRow"},No=["checked"],qo='Reference a state or context element that will evaluate to true or false. Reference the element directly, i.e. use "my_var" instead of "@{my_var}".',Uo=N({__name:"BuilderSettingsVisibility",setup(t){const e=[{label:"Yes",value:"yes"},{label:"No",value:"no"},{label:"Custom",value:"custom"}],n=B({get(){const a=i.value.visible;return(a==null?void 0:a.expression)==="custom"?"custom":a===void 0||a.expression===!0?"yes":"no"},set(a){var r,p;a==="custom"?s(i.value.id,"custom",(r=i.value.visible)==null?void 0:r.binding,(p=i.value.visible)==null?void 0:p.reversed):s(i.value.id,a==="yes")}}),l=L(W.core),o=L(W.builderManager),{setVisibleValue:s}=ee(l,o),i=B(()=>l.getComponentById(o.firstSelectedId.value));return(a,r)=>y(o).isSingleSelectionActive?(c(),x("div",Wo,[P(St,{icon:"visibility",label:"Visibility"}),b("div",jo,[P(ge,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=p=>n.value=p),tabs:e},null,8,["modelValue"]),typeof i.value.visible<"u"&&i.value.visible.expression==="custom"?(c(),F(ye,{key:0,hint:qo},{default:j(()=>[P(oe,{value:i.value.visible.binding,type:"state",placeholder:"my_visibility_state_value",onInput:r[1]||(r[1]=p=>y(s)(i.value.id,"custom",p.target.value,i.value.visible.reversed))},null,8,["value"]),b("div",Do,[b("input",{type:"checkbox",checked:i.value.visible.reversed,onInput:r[2]||(r[2]=p=>y(s)(i.value.id,"custom",i.value.visible.binding,p.target.checked))},null,40,No),r[3]||(r[3]=b("span",null,"Reverse",-1))])]),_:1})):w("",!0)])])):w("",!0)}}),zo=z(Uo,[["__scopeId","data-v-23772341"]]),Ko=["data-writer-tooltip"],Go=N({__name:"BuilderCopyText",setup(t){const e=H("Copy to clipboard");function n(l){const o=l.target.textContent;navigator.clipboard.writeText(o),e.value="Copied!",setTimeout(()=>{e.value="Copy to clipboard"},1e3)}return(l,o)=>(c(),x("span",{class:"BuilderCopyText","data-writer-tooltip":e.value,onClick:n},[Fe(l.$slots,"default",{},void 0,!0)],8,Ko))}}),Yo=z(Go,[["__scopeId","data-v-46ba30f4"]]),Ho={key:0,class:"BuilderSettingsAPICode"},Jo={class:"modalContents"},Xo={class:"codeContainer"},Qo={class:"codeContainer"},Zo=N({__name:"BuilderSettingsAPICode",setup(t){const e=L(W.core),n=L(W.builderManager),l=B(()=>e.getComponentById(n.firstSelectedId.value)),o=B(()=>{var u;return((u=l.value)==null?void 0:u.type)==="workflows_workflow"}),s=B(()=>{var u;if(o.value)return(u=l.value.content)==null?void 0:u.key}),i=H(!1),a=H(""),r=H(""),p=H(!1),v={desc:"Close",fn:()=>{i.value=!1}};function h(){m(),i.value=!0}async function m(){const u=await e.hashMessage(`create_job_${s.value}`);if(p.value=!!u,!p.value)return;const g=window.location.origin+window.location.pathname;a.value=`
curl --location --request POST '${g}api/job/workflow/${s.value}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: Bearer ${u}' \\
--data '{
    "my_var": 1
}'`.trim(),r.value=`
curl --location '${g}api/job/JOB_ID' \\
--header 'Authorization: Bearer JOB_TOKEN'`.trim()}return(u,g)=>o.value?(c(),x("div",Ho,[i.value?(c(),F(Ge,{key:0,"close-action":v,icon:"code","modal-title":"API Code"},{default:j(()=>[b("div",Jo,[p.value?(c(),x(X,{key:0},[g[2]||(g[2]=Z(" The following call will create the job and provide you with a job ID and a job token. ")),b("div",Xo,[P(Ze,{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=S=>a.value=S),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),g[3]||(g[3]=Z(" Using the job ID and token obtained in the previous call, check the status of the job. You can use the code below, after replacing JOB_ID and JOB_TOKEN for the right values. ")),b("div",Qo,[P(Ze,{modelValue:r.value,"onUpdate:modelValue":g[1]||(g[1]=S=>r.value=S),class:"editor",variant:"minimal",language:"shell"},null,8,["modelValue"])]),g[4]||(g[4]=b("strong",null,"Note: For API calls to work, the --enable-jobs-api flag must be active.",-1))],64)):(c(),x(X,{key:1},[Z(" API code cannot be generated. Please make sure the environment variable WRITER_SECRET_KEY has been set up. ")],64))])]),_:1})):w("",!0),s.value?(c(),F(J,{key:1,variant:"tertiary",size:"small",onClick:h},{default:j(()=>g[5]||(g[5]=[b("i",{class:"material-symbols-outlined"}," code ",-1),Z(" Call via API")])),_:1})):(c(),F(J,{key:2,disabled:!0,variant:"tertiary",size:"small","data-writer-tooltip":`You need to specify a workflow key before this workflow can be
				used in the UI or called via API.`},{default:j(()=>g[6]||(g[6]=[b("i",{class:"material-symbols-outlined"}," code ",-1),Z(" Call via API")])),_:1}))])):w("",!0)}}),es=z(Zo,[["__scopeId","data-v-c27d3c5a"]]),ts={class:"BuilderSettingsMain"},ns={key:0,class:"warning cmc-warning"},ls=["inert"],os={class:"sections debug"},ss=N({__name:"BuilderSettingsMain",setup(t){const e=ce({loader:()=>pe(()=>import("./BuilderSettingsHandlers-CjpezsYC.js"),__vite__mapDeps([12,4,1,2,5,7,8,9,10,13]),import.meta.url),loadingComponent:Ye}),n=L(W.core),l=L(W.builderManager),o=B(()=>n.getComponentById(l.firstSelectedId.value)),s=B(()=>o.value.isCodeManaged),i=B(()=>l.isSingleSelectionActive.value?!a.value.toolkit||a.value.toolkit=="core":!1),a=B(()=>{const{type:p}=o.value;return n.getComponentDefinition(p)});ke(o,p=>{p||l.setSelection(null)});const r=B(()=>{var p;return Object.values(((p=a.value)==null?void 0:p.events)??{}).some(v=>v.bindable)});return(p,v)=>(c(),x("div",ts,[s.value?(c(),x("div",ns,v[0]||(v[0]=[b("i",{class:"material-symbols-outlined"},"warning",-1),b("span",null," This component is instantiated in code. All settings in this panel are read-only and cannot be edited. ",-1)]))):w("",!0),b("div",{class:"sections",inert:s.value},[P(Mo),i.value?(c(),x(X,{key:0},[r.value?(c(),F(Lo,{key:0})):w("",!0),P(y(e)),P(zo)],64)):w("",!0),P(es,null,{default:j(()=>v[1]||(v[1]=[Z("Execute via API")])),_:1})],8,ls),b("div",os,[b("div",null,[v[2]||(v[2]=Z(" Component id: ")),P(Yo,null,{default:j(()=>[Z(U(y(l).firstSelectedId.value),1)]),_:1})])])]))}}),as=z(ss,[["__scopeId","data-v-521c8e50"]]),is={class:"BuilderSettingsMiniDocs markdown"},rs=N({__name:"BuilderSettingsMiniDocs",props:{rawMiniDocs:{}},setup(t){const e=t,n=Lt.parse(e.rawMiniDocs);return(l,o)=>{const s=ut("dompurify-html");return be((c(),x("div",is,[Z(U(y(n)),1)])),[[s,y(n)]])}}}),us=z(rs,[["__scopeId","data-v-1129160a"]]),ds={key:0,class:"collapser"},cs={key:1,class:"titleBar"},ps=["data-writer-tooltip"],vs=N({__name:"BuilderSettings",setup(t){Ot(h=>({"3154397d":y(n).getMode()=="workflows"?"72px":"20px"}));const e=L(W.core),n=L(W.builderManager),l=H(!1),o=B(()=>e.getComponentById(n.firstSelectedId.value)),s=B(()=>n.selectionStatus.value===Te.Multiple?!0:n.isSettingsBarCollapsed.value),i=B(()=>n.selection.value.length);function a(){n.isSettingsBarCollapsed.value=!n.isSettingsBarCollapsed.value}const r=B(()=>{const{type:h}=o.value;return e.getComponentDefinition(h)}),p=B(()=>{var h,m;return(m=(h=r.value)==null?void 0:h.docs)==null?void 0:m.trim()});ke(o,h=>{h||n.setSelection(null)});const v=()=>{l.value=!l.value};return(h,m)=>y(n).selectionStatus.value!==y(Te).None?(c(),x("div",{key:0,class:Ce(["BuilderSettings",{"BuilderSettings--collapsed":s.value,"BuilderSettings--miniDocActive":l.value}])},[y(n).isSingleSelectionActive.value?(c(),x("div",ds,[s.value?(c(),F(J,{key:0,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Expand settings","data-automation-action":"expand-settings",onClick:a},{default:j(()=>m[0]||(m[0]=[b("i",{class:"material-symbols-outlined"},"settings",-1)])),_:1})):(c(),F(J,{key:1,class:"collapserButton",size:"smallIcon",variant:"neutral","data-writer-tooltip-placement":"left","data-writer-tooltip":"Collapse settings","data-automation-action":"collapse-settings",onClick:a},{default:j(()=>m[1]||(m[1]=[b("i",{class:"material-symbols-outlined"},"double_arrow",-1)])),_:1}))])):w("",!0),y(n).isSingleSelectionActive?(c(),x("div",cs,[b("div",null,U(r.value.name),1),p.value?(c(),F(J,{key:0,inert:s.value,class:"collapserButton",size:"small",variant:"neutral","data-writer-tooltip-placement":"top","data-writer-tooltip":"Toggle mini docs",onClick:v},{default:j(()=>m[2]||(m[2]=[b("i",{class:"material-symbols-outlined"},"info",-1)])),_:1},8,["inert"])):w("",!0)])):w("",!0),y(n).selectionStatus.value===y(Te).Multiple?(c(),x("div",{key:2,class:"BuilderSettings__selectionCount","data-writer-tooltip-placement":"left","data-writer-tooltip":`${i.value} components selected`},[b("p",null,U(i.value),1)],8,ps)):w("",!0),l.value&&p.value&&!s.value?(c(),F(us,{key:3,class:"miniDocs","raw-mini-docs":p.value},null,8,["raw-mini-docs"])):w("",!0),P(qt,{class:"actions"}),P(as,{inert:s.value,class:"main"},null,8,["inert"])],2)):w("",!0)}}),fs=z(vs,[["__scopeId","data-v-5f4ca1b6"]]),bs=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"}));export{Ve as B,ye as W,He as a,bs as b,no as u};
