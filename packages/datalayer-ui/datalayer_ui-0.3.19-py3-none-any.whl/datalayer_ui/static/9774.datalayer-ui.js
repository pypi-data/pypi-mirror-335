"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9774],{39774:(e,t,s)=>{s.r(t),s.d(t,{CellEdit:()=>A,default:()=>L});var n=s(16909),i=s(46744),r=s(97663),o=s(88625),a=s(15358),l=s(82176),c=s(68110),d=s(43275),u=s(85730),h=s(68495),p=s(35928),m=s(45741),g=s(19459),_=s(76411),x=s(52925),y=s(1213),w=s(47011);const f=()=>{const{getSpaceDatasets:e,refreshSpaceDatasets:t}=(0,m.Y)(),s=(0,g.qX)(),i=(0,x.gQ)(),r=s.layout().space,o=s.layout().organization,[a,l]=(0,n.useState)(e()),c=a.filter((e=>e.public)),u=a.filter((e=>!e.public));return(0,n.useEffect)((()=>{r&&t(r,o).then((t=>{t.success&&l(e())}))}),[r]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(_.S,{showDividers:!0,role:"menu",children:[(0,w.jsxs)(_.S.Group,{children:[(0,w.jsx)(_.S.GroupHeading,{children:"My public datasets"}),c.map((e=>(0,w.jsxs)(_.S.Item,{onClick:t=>{t.preventDefault(),i.setDataset("cell",e)},children:[(0,w.jsx)(_.S.LeadingVisual,{children:(0,w.jsx)(d.VHe,{})}),e.name,(0,w.jsx)(_.S.Description,{children:(0,y.A)(e.description)})]},e.id))),0===c.length&&(0,w.jsx)(_.S.Item,{disabled:!0,children:"No public dataset"})]}),(0,w.jsxs)(_.S.Group,{children:[(0,w.jsx)(_.S.GroupHeading,{children:"My private datasets"}),u.map((e=>(0,w.jsxs)(_.S.Item,{onClick:t=>{t.preventDefault(),i.setDataset("cell",e)},children:[(0,w.jsx)(_.S.LeadingVisual,{children:(0,w.jsx)(d.VHe,{})}),e.name,(0,w.jsx)(_.S.Description,{children:(0,y.A)(e.description)})]},e.id))),0===u.length&&(0,w.jsx)(_.S.Item,{disabled:!0,children:"No private dataset"})]})]})})};var j=s(44860),C=s(79424),v=s(88567),b=s(99979),S=s(19613),k=s(68804),E=s(36283),I=s(17154),M=s(60706);const $=e=>{const{cell:t}=e,s=((0,h.s)(),t.outputshotUrl||t.outputshotData);return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(M.Zb,{border:!0,rounded:"medium",shadow:"medium",sx:{maxWidth:360},children:[(0,w.jsx)(M.Zb.Header,{title:"Cell",description:(0,y.A)(t.name,100)}),(0,w.jsx)(M.Zb.Image,{height:200,image:s}),(0,w.jsx)(M.Zb.Content,{children:(0,w.jsx)(I.Z,{color:"fg.muted",children:(0,y.A)(t.description,100)})})]})})},D=(0,b.g)((0,S.k)((()=>Promise.all([s.e(5136),s.e(2)]).then(s.bind(s,30002))))),O=()=>{const{cell:e,update:t}=(0,k.$q)();if(!e)return(0,w.jsx)(w.Fragment,{});const{updateCell:s}=(0,m.Y)(),{space:i,showBackdrop:r,triggerItemsRefresh:o,hideBackdrop:a}=(0,E.E_)(),{enqueueToast:d}=(0,p.p)(),[u,h]=(0,n.useState)(!1),[g,_]=(0,n.useState)({name:e.name,description:e.description}),[x,y]=(0,n.useState)({name:!0,description:!0});return(0,n.useEffect)((()=>{y({...x,name:void 0===g.name?void 0:g.name.length>2,description:void 0===g.description?void 0:g.description.length>2})}),[g]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(l.Z,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr"},children:[(0,w.jsxs)(l.Z,{sx:{label:{marginTop:2}},children:[(0,w.jsxs)(j.Z,{children:[(0,w.jsx)(j.Z.Label,{children:"Name"}),(0,w.jsx)(C.Z,{block:!0,value:g.name,onChange:e=>{_((t=>({...t,name:e.target.value}))),t({name:e.target.value})}}),!1===x.name&&(0,w.jsx)(j.Z.Validation,{variant:"error",children:"Name must have more than 2 characters."})]}),(0,w.jsxs)(j.Z,{children:[(0,w.jsx)(j.Z.Label,{children:"Description"}),(0,w.jsx)(v.ZP,{block:!0,value:g.description,onChange:e=>{_((t=>({...t,description:e.target.value}))),t({description:e.target.value})}}),!1===x.description&&(0,w.jsx)(j.Z.Validation,{variant:"error",children:"Description must have more than 2 characters."})]}),(0,w.jsx)(j.Z,{sx:{marginTop:3},children:(0,w.jsxs)(l.Z,{display:"flex",children:[(0,w.jsx)(c.r,{variant:"primary",disabled:u||!x.name||!x.description,onClick:()=>{e?.outputshotData.length>3e5?d(`Output screenshot is too large (actual size is ${e?.outputshotData.length}, the maximum allowed is 300000)`,{variant:"error"}):(r(),h(!0),s({id:e?.id,name:e?.name,description:e?.description,source:e.source,outputshotUrl:e.outputshotUrl,outputshotData:e?.outputshotUrl?void 0:e?.outputshotData,spaceId:i?.id}).then((s=>{if(h(!1),s.success){const s={...e,public:e.public,description:e.description,source:e.source,outputshotUrl:e.outputshotUrl,outputshotData:e.outputshotData};o(),t(s),d("The cell is successfully updated.",{variant:"success"})}})).finally((()=>{h(!1),a()})))},children:u?"Updating cell...":"Update cell"}),(0,w.jsx)(l.Z,{ml:3,children:(0,w.jsx)(D,{})})]})})]}),(0,w.jsx)(l.Z,{ml:3,children:(0,w.jsx)($,{cell:e})})]})})};var T=s(30810);const Z=e=>{const{source:t,outputshotRef:s,cellId:n}=e;return(0,w.jsx)(l.Z,{ref:s,style:{marginTop:"8px"},children:(0,w.jsx)(T.b,{startDefaultKernel:!0,source:t,id:n,autoStart:!0,showToolbar:!1})})},A=()=>{const{cellId:e}=(0,r.UO)();if(!e)return(0,w.jsx)(w.Fragment,{});const t=(0,u.a)(),s=(0,g.qX)(),_=s.layout().space,x=s.cell().cell,y=(0,o.N)(),j=(0,h.s)(),{enqueueToast:C}=(0,p.p)(),{getCell:v,refreshCell:b,cloneCell:S}=(0,m.Y)(),[k,E]=(0,n.useState)(),[I,M]=(0,n.useState)(!1),$=(0,n.useMemo)((()=>(0,n.createRef)()),[]);(0,n.useEffect)((()=>{const t=document.getElementById("right-panel-id"),n=(0,i.createPortal)((0,w.jsx)(f,{}),t);return s.layout().setRightPortal({portal:n,pinned:!1}),b(e).then((t=>{if(t.success){const t=v(e);t?(E(t.source),s.cell().update(t),s.layout().setItem(t),E(t.source)):j("/")}})),()=>{s.layout().setItem(void 0)}}),[e]);const D=(0,n.useCallback)((async n=>{y({title:"Are you sure?",content:"Please confirm you want to clone this cell in your private library."}).then((n=>{n&&S(e).then((e=>{e.success&&(C(e.message,{variant:"success"}),s.layout().triggerItemsRefresh(),j(`/${t?.handle}/library/cells`))}))}))}),[y,x]);return(0,w.jsx)(w.Fragment,{children:x&&k&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(a.m,{role:"header","aria-label":"Cell Editor",children:[(0,w.jsx)(a.m.TitleArea,{variant:"subtitle",children:(0,w.jsx)(a.m.Title,{children:"Cell Editor"})}),(0,w.jsxs)(a.m.Actions,{children:[(0,w.jsx)(l.Z,{children:I?(0,w.jsx)(c.r,{variant:"invisible",size:"small",onClick:()=>M(!1),children:"Hide details"}):(0,w.jsx)(c.r,{variant:"invisible",size:"small",onClick:()=>M(!0),children:"Show details"})}),(0,w.jsx)(l.Z,{ml:1,children:t&&_&&(0,w.jsx)(c.r,{variant:"invisible",size:"small",leadingVisual:d.jcu,onClick:D,children:"Clone"})})]})]}),(0,w.jsxs)(l.Z,{children:[I&&(0,w.jsx)(l.Z,{children:(0,w.jsx)(O,{})}),(0,w.jsx)(l.Z,{children:(0,w.jsx)(Z,{source:k,outputshotRef:$,cellId:x?.id})})]})]})})},L=A},30810:(e,t,s)=>{s.d(t,{b:()=>P});var n=s(47011),i=s(16909),r=s(31877),o=s(70994),a=s(98403),l=s(82628),c=s(94910),d=s(54362),u=s(59913),h=s(30148),p=s(48078),m=s(99619),g=s(74608),_=s(40489),x=s(29907),y=s(40393),w=s(39265),f=s(44066),j=s(3202),C=s(30102),v=s(2585),b=s(4632),S=s(37371),k=s(19316),E=s(9706),I=s(83504),M=s(38465),$=s(35348),D=s(80601),O=s(11982),T=s(90793);const Z="completer:invoke",A="completer:select";var L=s(28676);class R{_id;_outputs;_cell;_kernel;_panel;_sessionContext;_type;constructor(e){const{id:t,type:s,source:n,outputs:i,serverSettings:r,kernel:o,boxOptions:a}=e;this._id=t,this._outputs=i,this._kernel=o,this._type=s,this.setupCell(s,n,r,o,a)}setupCell(e="code",t,n,i,o){const a=i.kernelManager??new k.KernelManager({serverSettings:n}),l=i.sessionManager??new k.SessionManager({serverSettings:n,kernelManager:a}),c=i.kernelSpecManager??new k.KernelSpecManager({serverSettings:n}),M=i?{id:i.id,shouldStart:!1,autoStartDefault:!1,shutdownOnDispose:!1}:{name:"python",shouldStart:!0,autoStartDefault:!0,shutdownOnDispose:!0};this._sessionContext=new p.B({name:i?.path,path:i?.path,sessionManager:l,specsManager:c,type:"python",kernelPreference:M}),this._sessionContext._initialize=async()=>{const e=this._sessionContext.sessionManager;await e.ready,await e.refreshRunning();const t=(0,u.sE)(e.running(),(e=>e.kernel?.id===this._kernel.id));if(t)try{const s=e.connectTo({model:t,kernelConnectionOptions:{handleComms:!0}});this._sessionContext._handleNewSession(s)}catch(e){return this._sessionContext._handleSessionError(e),Promise.reject(e)}return await this._sessionContext._startIfNecessary()};const L=new x.Ie;for(const e of x.Ie.getDefaultThemes())L.addTheme(e);const R=new x.BE;for(const e of x.BE.getDefaultLanguages())R.addLanguage(e);R.addLanguage({name:"ipythongfm",mime:"text/x-ipythongfm",load:async()=>(await Promise.all([s.e(534),s.e(1891),s.e(8159),s.e(5863)]).then(s.bind(s,75863))).markdown({codeLanguages:e=>R.findBest(e)})});const P=new x.E1(R),K=new h.H;document.addEventListener("keydown",(e=>{const t=document.activeElement;t&&t.closest(".dla-Jupyter-Cell")===this._cell.node&&K.processKeydownEvent(e)}),!0);const V=new b.D({initialFactories:S.Nf,latexTypesetter:new y.U,markdownParser:(0,T.Z)(R)}),B=new $.U({loader:O.V});V.addFactory({safe:!1,mimeTypes:[D.w],createRenderer:e=>new D.Z(e,B)},0),B.registerWithKernel(i.connection);const N=new x.rM({extensions:(()=>{const e=new x.C9;for(const t of x.C9.getDefaultExtensions({themes:L}))e.addExtension(t);return e.addExtension({name:"shared-model-binding",factory:e=>{const t=e.model.sharedModel;return x.C9.createImmutableExtension((0,x.Zw)({ytext:t.ysource,undoManager:t.undoManager??void 0}))}}),e})(),languages:R}),F=(0,I.e4)({cell_type:e,source:t,outputs:this._outputs,metadata:{}}),W=new r.bL.ContentFactory({editorFactory:N.newInlineEditor.bind(N)});"code"===e?this._cell=new r.O7({rendermime:V,model:new _.ro({sharedModel:F}),contentFactory:W}):"markdown"===e&&(this._cell=new r.Vh({rendermime:V,model:new _.Gr({sharedModel:F}),contentFactory:W})),this._cell.addClass("dla-Jupyter-Cell"),this._cell.initializeState(),"markdown"===this._type&&(this._cell.rendered=!1),this._sessionContext.kernelChanged.connect(((e,t)=>{const s=t.newValue;console.log("Current Jupyter Kernel Connection",s),s&&!s.handleComms&&(console.warn("Jupyter Kernel Connection does not handle Comms",s.id),s.handleComms=!0,console.log("Jupyter Kernel Connection is updated to enforce Comms support",s.handleComms)),B.registerWithKernel(s)})),this._sessionContext.kernelChanged.connect((()=>{this._sessionContext.session?.kernel?.info.then((e=>{if("code"===this._type){const t=e.language_info,s=P.getMimeTypeByLanguage(t);this._cell.model&&(this._cell.model.mimeType=s)}}))}));const U=this._cell.editor,q=new w.B,z=new f.X({editor:U,model:q}),H=new j.D,J=new C.K({context:{widget:this._cell,editor:U,session:this._sessionContext.session},providers:[H],timeout:1e3}),G=new v._({completer:z,reconciliator:J});this._sessionContext.ready.then((()=>{const e=new j.D;G.reconciliator=new C.K({context:{widget:this._cell,editor:U,session:this._sessionContext.session},providers:[e],timeout:1e3})})),this._cell.ready.then((()=>{G.editor=this._cell&&this._cell.editor})),((e,t,s,n)=>{e.addCommand(Z,{label:"Completer: Invoke",execute:()=>s.invoke()}),e.addCommand(A,{label:"Completer: Select",execute:()=>s.completer.selectActive()}),e.addCommand("run:cell",{execute:()=>{t instanceof r.O7?n.execute():t instanceof r.Vh&&(t.rendered=!0)}}),e.addKeyBinding({selector:".jp-InputArea-editor.jp-mod-completer-enabled",keys:["Tab"],command:Z}),e.addKeyBinding({selector:".jp-InputArea-editor",keys:["Shift Enter"],command:"run:cell"}),[{selector:".jp-InputArea-editor.jp-mod-completer-active",keys:["Enter"],command:A}].map((t=>e.addKeyBinding(t)))})(K,this._cell,G,this),z.hide(),z.addClass("jp-Completer-Cell"),d.$L.attach(z,document.body);const Y=new m.o8;Y.addItem("spacer",m.o8.createSpacerItem());const X=new g.hA({icon:E.Nv,onClick:()=>{"code"===this._type?this.execute():"markdown"===this._type&&(this._cell.rendered=!0)},tooltip:"Run"});Y.addItem("run",X),Y.addItem("interrupt",m.o8.createInterruptButton(this._sessionContext)),Y.addItem("restart",m.o8.createRestartButton(this._sessionContext)),Y.addItem("status",m.o8.createKernelStatusItem(this._sessionContext)),"code"===this._type&&(this._cell.outputsScrolled=!1),this._cell.activate(),this._panel=new d.jN,this._panel.direction="top-to-bottom",this._panel.spacing=0,!1!==o?.showToolbar&&this._panel.addWidget(Y),this._panel.addWidget(this._cell),!1!==o?.showToolbar&&d.jN.setStretch(Y,0),d.jN.setStretch(this._cell,1),window.addEventListener("resize",(()=>{this._panel.update()})),this._panel.update()}get panel(){return this._panel}get cell(){return this._cell}get sessionContext(){return this._sessionContext}get kernel(){return this._kernel}execute=()=>{"code"===this._type?this._execute(this._cell):"markdown"===this._type&&(this._cell.rendered=!0)};async _execute(e,t){L.y9.getState().setIsExecuting(this._id,!0);const s=e.model,n=s.sharedModel.getSource();if(!n.trim()||!this.kernel)return s.sharedModel.transact((()=>{s.clearExecution()}),!1),L.y9.getState().setIsExecuting(this._id,!1),new Promise((()=>{}));const i={cellId:s.sharedModel.getId()};t={...s.metadata,...t,...i};const{recordTiming:r}=t;let o;s.sharedModel.transact((()=>{s.clearExecution(),e.outputHidden=!1}),!1),e.setPrompt("*"),s.trusted=!0;try{const i=(0,M.h)(this._id,n,e.outputArea,this._kernel,t);if(r){const t=e=>{let t;switch(e.header.msg_type){case"status":t=`status.${e.content.execution_state}`;break;case"execute_input":t="execute_input";break;default:return!0}const n=e.header.date||(new Date).toISOString(),i=Object.assign({},s.getMetadata("execution"));return i[`iopub.${t}`]=n,s.setMetadata("execution",i),!0};e.outputArea.future.registerMessageHook(t)}else s.deleteMetadata("execution");o=e.outputArea.future;const a=await i;if(s.executionCount=a.content.execution_count,r){const e=Object.assign({},s.getMetadata("execution")),t=a.metadata.started;t&&(e["shell.execute_reply.started"]=t);const n=a.header.date;e["shell.execute_reply"]=n||(new Date).toISOString(),s.setMetadata("execution",e)}return L.y9.getState().setIsExecuting(this._id,!1),a}catch(t){if(L.y9.getState().setIsExecuting(this._id,!1),o&&!e.isDisposed&&e.outputArea.future===o&&(e.setPrompt(""),r&&o.isDisposed)){const e=Object.assign({},s.getMetadata("execution"));e.execution_failed=(new Date).toISOString(),s.setMetadata("execution",e)}throw t}}}const P=e=>{const{autoStart:t,outputs:s=[],showToolbar:d,source:u="",startDefaultKernel:h,type:p,kernel:m}=e,{defaultKernel:g,serverSettings:_}=(0,a.W$)({startDefaultKernel:h}),[x]=(0,i.useState)(e.id||(0,l.ZI)()),[y,w]=(0,i.useState)(),f=(0,L.$y)();return(0,i.useEffect)((()=>{const e=m||g;x&&_&&e&&e.ready.then((()=>{const n=new R({id:x,type:p,source:u,outputs:s,serverSettings:_,kernel:e,boxOptions:{showToolbar:d}});f.setAdapter(x,n),f.setSource(x,u),(e=>{e.cell.model.contentChanged.connect(((e,t)=>{f.setSource(x,e.sharedModel.getSource())})),e.cell instanceof r.O7&&e.cell.outputArea.outputLengthChanged?.connect(((e,t)=>{f.setOutputsCount(x,t)})),e.sessionContext.initialize().then((()=>{t&&e.cell.model&&e.execute()})),e.sessionContext.kernelChanged.connect((()=>{e.sessionContext.session?.kernel?.info.then((e=>{f.setKernelSessionAvailable(x,!0)}))}))})(n),w(n);const i=e=>{let t=e.target;for(;t&&!t.classList.contains("jp-MarkdownOutput");)t=t.parentElement;t&&t.classList.contains("jp-MarkdownOutput")&&(n.cell.rendered=!1)};return document.addEventListener("dblclick",i),()=>{document.removeEventListener("dblclick",i)}}))}),[u,g,m,_]),y?(0,n.jsx)(o.Z,{sx:{"& .dla-Jupyter-Cell":{position:"relative !important",contain:"content !important"},"& .jp-Toolbar":{height:"auto !important",position:"relative"},"& .lm-BoxPanel":{position:"relative"},"& .jp-Cell":{position:"relative"},"& .jp-CodeCell":{height:"auto !important",position:"relative"},"& .jp-MarkdownCell":{height:"auto !important",minHeight:"65px",position:"relative"},"& .jp-Cell-outputArea":{paddingBottom:"30px"},"& .jp-CodeMirrorEditor":{cursor:"text !important"}},children:(0,n.jsx)(c.Y,{children:y.panel})}):(0,n.jsx)(o.Z,{children:"Loading Jupyter Cell..."})};P.defaultProps={autoStart:!0,source:"",outputs:[],showToolbar:!0,startDefaultKernel:!0,type:"code"}},38465:(e,t,s)=>{async function n(e,t,s,n,i,r=!1,o){let a=!0;i&&Array.isArray(i.tags)&&-1!==i.tags.indexOf("raises-exception")&&(a=!1);const l=n.execute(t,{model:s.model,stopOnError:a,suppressCodeExecutionErrors:r,onExecutionPhaseChanged:o}).future;return s._onIOPub=l.onIOPub,s._onExecuteReply=l.onReply,s.future=l,l?.done}s.d(t,{h:()=>n})},35348:(e,t,s)=>{s.d(t,{U:()=>y});var n=s(54362),i=s(65643),r=s(62257),o=s(11982),a=s(57912),l=s(22005),c=s(43118),d=s(87585),u=s(4632),h=s(37371),p=s(80601),m=s(35129),g=s(97003),_=s(42159);class x extends d.$p{_viewList;constructor(e){super(),this.loader=e?.loader,this.renderMime=new u.D({initialFactories:h.Nf}),this.renderMime.addFactory({safe:!1,mimeTypes:[p.w],createRenderer:e=>new p.Z(e,this)},0),this._viewList=new Set,window.addEventListener("resize",(()=>{this._viewList.forEach((e=>{c.pB.postMessage(e.luminoWidget,n.$L.ResizeMessage.UnknownSize)}))}))}async display_view(e,t){let s;try{s=await e}catch(t){const n=`Could not create a view for ${e}`;console.error(n);const i=new(g.createErrorWidgetModel(t,n));s=new g.ErrorWidgetView({model:i}),s.render()}n.$L.attach(s.luminoWidget,t),this._viewList.add(s),s.once("remove",(()=>{this._viewList.delete(s)}))}_get_comm_info(){return Promise.resolve({})}_create_comm(e,t,s,n,i){return Promise.resolve({on_close:()=>{},on_msg:()=>{},close:()=>{}})}loadClass(e,t,s){return new Promise(((e,n)=>{"@jupyter-widgets/base"===t?e(g):"@jupyter-widgets/controls"===t?e(m):"@jupyter-widgets/output"===t?e(_):void 0!==this.loader?e(this.loader(t,s)):n(`Could not load module ${t}@${s}`)})).then((n=>n[e]?n[e]:Promise.reject(`Class ${e} not found in module ${t}@${s}`)))}renderMime;loader}class y extends x{_kernelConnection;_commRegistration;_onError;_registry;constructor(e){super(e);const t=document.createElement("script"),n=document.createElement("script");n.setAttribute("data-jupyter-widgets-cdn-only","true"),document.body.appendChild(n),t.src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js",document.body.appendChild(t),t.onload=()=>{window.define("@jupyter-widgets/base",g),window.define("@jupyter-widgets/controls",m),this._registry=new a.A,this.register=this.register.bind(this),this.registerWithKernel=this.registerWithKernel.bind(this),this._getRegistry=this._getRegistry.bind(this),this._handleCommOpen=this._handleCommOpen.bind(this),this.register({name:"@jupyter-widgets/base",version:g.JUPYTER_WIDGETS_VERSION,exports:()=>Promise.resolve().then(s.bind(s,97003))}),this.register({name:"@jupyter-widgets/controls",version:m.JUPYTER_CONTROLS_VERSION,exports:()=>Promise.resolve().then(s.bind(s,35129))})}}async _loadFromNotebook(e){const t=e.getMetadata("widgets");if(t&&t[l.r]){let e=t[l.r];e=this.filterExistingModelState(e),await this.set_state(e)}}registerWithKernel(e){this._kernelConnection=e,this._commRegistration&&this._commRegistration.dispose(),e&&e.registerCommTarget(this.comm_target_name,this._handleCommOpen)}async _handleCommOpen(e,t){const s=new i.I.services.Comm(e);await this.handle_comm_open(s,t)}_getRegistry(){return this._registry}get onError(){return this._onError}display_view(e,t){return Promise.resolve(e).then((e=>{n.$L.attach(e.luminoWidget,t),e.on("remove",(()=>{console.log("The IPyWidgets view is removed",e)}))}))}async loadClass(e,t,s){"@jupyter-widgets/base"!==t&&"@jupyter-widgets/controls"!==t||!(0,r.valid)(s)||(s=`^${s}`);let n=this._getRegistry().getAllVersions(t);const i=2===s.split(".").length?s+".0":s;if(!n){const e=await(0,o.V)(t,i),s={name:t,version:i.replaceAll("^",""),exports:{...e}};if(this.register(s),n=this._getRegistry().getAllVersions(t),!n)throw new Error(`No version of module ${t} is registered`)}const a=this._getRegistry().get(t,i);if(!a){const e=Object.keys(n);throw new Error(`Module ${t}, version ${i} is not registered, however,         ${e.join(",")} ${e.length>1?"are":"is"}`)}let l;l="function"==typeof a?await a():await a;const c=l[e];if(!c)throw new Error(`Class ${e} not found in module ${t}`);return c}callbacks(e){const t=super.callbacks(e);return Object.assign({},t,{iopub:{output:e=>this._onError.emit(e)}})}_create_comm(e,t,s,n,r){const o=this._kernelConnection?.createComm(e,t);return(s||n)&&o?.open(s,n),Promise.resolve(new i.I.services.Comm(o))}_get_comm_info(){return this._kernelConnection.requestCommInfo({target_name:this.comm_target_name}).then((e=>e.content.comms))}register(e){this._getRegistry().set(e.name,e.version,e.exports)}}},80601:(e,t,s)=>{s.d(t,{Z:()=>r,w:()=>i});var n=s(54362);const i="application/vnd.jupyter.widget-view+json";class r extends n.$L{constructor(e,t){super(),this.mimeType=e.mimeType,this._manager=t}async renderModel(e){const t=e.data[this.mimeType];if(!this._manager.has_model(t.model_id))return this.node.textContent="Error creating widget: could not find model",void this.addClass("jupyter-widgets");try{const e=await this._manager.get_model(t.model_id),s=await this._manager.create_view(e);n.$L.attach(s.luminoWidget,this.node)}catch(e){console.log("Error displaying widget"),console.log(e),this.node.textContent="Error displaying widget",this.addClass("jupyter-widgets")}}mimeType;_manager}},11982:(e,t,s)=>{s.d(t,{V:()=>a});let n="https://cdn.jsdelivr.net/npm/",i=!0;const r=document.getElementsByTagName("script");Array.prototype.forEach.call(r,(e=>{n=e.getAttribute("data-jupyter-widgets-cdn")||n,i=i&&Boolean(e.getAttribute("data-jupyter-widgets-cdn-only"))}));const o=function(e){return new Promise(((t,s)=>{const n=window.requirejs;void 0===n?s("Requirejs is needed, please ensure it is loaded on the page."):n(e,t,s)}))};function a(e,t){const s=window.requirejs;if(void 0===s)throw new Error("Requirejs is needed, please ensure it is loaded on the page.");function r(){const i={paths:{}};return i.paths[e]=function(e,t){let s=e,i="index",r=e.indexOf("/");return-1!=r&&"@"==e[0]&&(r=e.indexOf("/",r+1)),-1!=r&&(i=e.substr(r+1),s=e.substr(0,r)),"@widgetti/jupyter-react"===s&&(t=t.replace("0.4.2","0.4.1")),`${n}${s}@${t}/dist/${i}`}(e,t),s.config(i),o([`${e}`])}return i?(console.log(`Loading from ${n} for ${e}@${t}`),r()):o([`${e}`]).catch((i=>{const o=i.requireModules&&i.requireModules[0];if(o)return s.undef(o),console.log(`Falling back to ${n} for ${e}@${t}`),r()}))}},22005:(e,t,s)=>{s.d(t,{r:()=>n});const n="application/vnd.jupyter.widget-state+json"},57912:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(62257);class i{set(e,t,s){e in this._cache||(this._cache[e]=Object.create(null)),t in this._cache[e]?console.warn(`Version ${t} of key ${e} already registered.`):this._cache[e][t]=s}get(e,t){if(e in this._cache){const s=this._cache[e],i=(0,n.maxSatisfying)(Object.keys(s),t);if(null!==i)return s[i]}}getAllVersions(e){if(e in this._cache)return this._cache[e]}_cache=Object.create(null)}}}]);