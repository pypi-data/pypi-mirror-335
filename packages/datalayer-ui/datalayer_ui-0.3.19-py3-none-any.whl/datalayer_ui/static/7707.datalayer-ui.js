"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[7707],{81841:(e,t,n)=>{n.r(t),n.d(t,{NotebookPublic:()=>w,default:()=>k});var o=n(16909),i=n(97663),a=n(88625),r=n(15358),l=n(82176),s=n(34166),c=n(23363),d=n(68110),u=n(17154),h=n(43275),m=n(55484),f=n(53969),p=n(46523),g=n(85741),y=n(45741),b=n(68495),x=n(35928),C=n(19459),v=n(47011);const w=()=>{const e=(0,o.useMemo)((()=>[new m.l({factory:f.l})]),[]),t=(0,C.qX)(),n=(0,p.qL)(),w=t.iam().user,k=t.layout().space,{notebookId:U}=(0,i.UO)();if(!U)return(0,v.jsx)(v.Fragment,{});const{refreshNotebook:j,getNotebook:Z,cloneNotebook:z}=(0,y.Y)(),B=(0,b.s)(),N=(0,a.N)(),{enqueueToast:E}=(0,x.p)(),[P,S]=(0,o.useState)();(0,o.useEffect)((()=>(t.layout().showBackdrop(),j(U).then((e=>{if(e.success){const e=Z(U);e||B("/"),S(e)}})).finally((()=>{t.layout().hideBackdrop()})),()=>{S(void 0),n.reset(),t.layout().setItem(void 0)})),[U]);const _=(0,o.useCallback)((async e=>{N({title:"Are you sure?",content:"Please confirm you want to clone this notebook in your private library."}).then((e=>{e&&(t.layout().showBackdrop(),z(U).then((e=>{e.success&&(E(e.message,{variant:"success"}),t.layout().triggerItemsRefresh(),B(`/${w?.handle}/library/notebooks`))})).finally((()=>{t.layout().hideBackdrop()})))}))}),[N,P]);return P?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.m,{children:(0,v.jsxs)(l.Z,{display:"flex",children:[(0,v.jsx)(l.Z,{flex:1,children:(0,v.jsx)(s.Z,{sx:{fontSize:3},children:"Public notebook"})}),(0,v.jsx)(l.Z,{children:(0,v.jsxs)(c.Z,{children:[P&&w?.handle===P.owner.handle&&(0,v.jsx)(d.r,{variant:"invisible",size:"small",onClick:()=>B(`/${P.organization?.handle??P.owner?.handle}/${P.space?.handle}/notebooks/${P.id}`),children:"Edit"}),w&&k&&(0,v.jsx)(d.r,{variant:"default",size:"small",leadingVisual:h.jcu,onClick:_,children:"Clone"})]})})]})}),(0,v.jsx)(l.Z,{children:(0,v.jsx)(u.Z,{children:P.description})}),(0,v.jsx)(l.Z,{children:P.nbformat&&(0,v.jsx)(g.a,{id:U,height:"calc(100vh - 240px)",maxHeight:"calc(100vh - 240px)",nbformat:P.nbformat,readonly:!1,cellMetadataPanel:!1,extensions:e})})]}):(0,v.jsx)(v.Fragment,{})},k=w},23363:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(46830),i=n(51490),a=n(30586);const r=o.ZP.div.withConfig({displayName:"ButtonGroup",componentId:"sc-1gxhls1-0"})(["display:inline-flex;vertical-align:middle;isolation:isolate;&& > *:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative;border-radius:0;:first-child{border-top-left-radius:",";border-bottom-left-radius:",";}:last-child{border-top-right-radius:",";border-bottom-right-radius:",";}:focus,:active,:hover{z-index:1;}}[data-loading-wrapper]{:first-child{button,a{border-top-left-radius:",";border-bottom-left-radius:",";}}:last-child{button,a{border-top-right-radius:",";border-bottom-right-radius:",";}}}[data-loading-wrapper] > *{margin-inline-end:-1px;position:relative;border-radius:0;:focus,:active,:hover{z-index:1;}}",";"],(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),(0,i.U2)("radii.2"),a.Z)},88625:(e,t,n)=>{n.d(t,{N:()=>k,U:()=>v});var o=n(16909),i=n(71025),a=n(46830),r=n(82176),l=n(89439),s=n(60066),c=n(51490),d=n(62171),u=n(62838),h=n(84630);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(null,arguments)}const f=a.ZP.div.withConfig({displayName:"ConfirmationDialog__StyledConfirmationHeader",componentId:"sc-11fz0jh-0"})(["padding:",";display:flex;flex-direction:row;"],(0,c.U2)("space.2")),p=(0,a.ZP)(r.Z).attrs({as:"h1"}).withConfig({displayName:"ConfirmationDialog__StyledTitle",componentId:"sc-11fz0jh-1"})(["font-size:",";font-weight:",";padding:6px ",";flex-grow:1;margin:0;"],(0,c.U2)("fontSizes.3"),(0,c.U2)("fontWeights.bold"),(0,c.U2)("space.2")),g=({title:e,onClose:t,dialogLabelId:n})=>{const i=(0,o.useCallback)((()=>{t("close-button")}),[t]);return o.createElement(f,null,o.createElement(p,{id:n},e),o.createElement(d.V.CloseButton,{onClose:i}))};g.displayName="ConfirmationHeader";const y=(0,a.ZP)(r.Z).withConfig({displayName:"ConfirmationDialog__StyledConfirmationBody",componentId:"sc-11fz0jh-2"})(["font-size:",";padding:0 "," "," ",";color:",";flex-grow:1;"],(0,c.U2)("fontSizes.1"),(0,c.U2)("space.3"),(0,c.U2)("space.3"),(0,c.U2)("space.3"),(0,c.U2)("colors.fg.muted")),b=({children:e})=>o.createElement(y,null,e);b.displayName="ConfirmationBody";const x=(0,a.ZP)(r.Z).withConfig({displayName:"ConfirmationDialog__StyledConfirmationFooter",componentId:"sc-11fz0jh-3"})(["display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",";align-items:end;justify-content:end;padding:"," "," ",";"],(0,c.U2)("space.2"),(0,c.U2)("space.1"),(0,c.U2)("space.3"),(0,c.U2)("space.3")),C=({footerButtons:e})=>{const{containerRef:t}=(0,u.v)({bindKeys:s.Qw.ArrowHorizontal|s.Qw.Tab,focusInStrategy:"closest"});return o.createElement(x,{ref:t},o.createElement(d.V.Buttons,{buttons:null!=e?e:[]}))};C.displayName="ConfirmationFooter";const v=e=>{const{onClose:t,title:n,cancelButtonContent:i="Cancel",confirmButtonContent:a="OK",confirmButtonType:r="normal",children:l}=e,s="danger"===r,c=[{content:i,onClick:(0,o.useCallback)((()=>{t("cancel")}),[t]),autoFocus:s},{content:a,buttonType:r,onClick:(0,o.useCallback)((()=>{t("confirm")}),[t]),autoFocus:!s}];return o.createElement(d.V,{onClose:t,title:n,footerButtons:c,role:"alertdialog",width:"medium",renderHeader:g,renderBody:b,renderFooter:C},l)};v.displayName="ConfirmationDialog";let w=null;function k(){const{theme:e,colorMode:t,dayScheme:n,nightScheme:a}=(0,l.Fg)();return(0,o.useCallback)((r=>async function(e,t){const{content:n,...a}=t;return new Promise((t=>{w||=document.createElement("div"),w.isConnected||document.body.append(w);const r=(0,i.s)(w);r.render(o.createElement(l.f6,e,o.createElement(h.Z,null,o.createElement(v,m({},a,{onClose:e=>{r.unmount(),t("confirm"===e)}}),n))))}))}({theme:e,colorMode:t,dayScheme:n,nightScheme:a},r)),[e,t,n,a])}},94910:(e,t,n)=>{n.d(t,{Y:()=>l,Z:()=>s});var o=n(47011),i=n(16909),a=n(46744),r=n(54362);const l=e=>{const t=(0,i.useRef)(null),{children:n,id:l,height:s}=e;return(0,i.useEffect)((()=>{if(t&&t.current){try{r.$L.attach(n,t.current)}catch(e){console.warn("Exception while attaching Lumino widget.",e)}return()=>{try{(0,a.unmountComponentAtNode)(n.node),(n.isAttached||n.node.isConnected)&&(n.dispose(),r.$L.detach(n))}catch(e){}}}}),[t,n]),(0,o.jsx)("div",{id:l,ref:t,style:{height:s,minHeight:s}})};l.defaultProps={id:"lumino-id",height:"100%"};const s=l},53969:(e,t,n)=>{n.d(t,{l:()=>c});var o=n(47011),i=n(34441),a=n(70994),r=n(81158),l=n(45205),s=n(23577);function c(e){const{commands:t}=e;return(0,o.jsx)(a.Z,{className:s.UI,sx:{"& p":{marginBottom:"0 !important"}},children:(0,o.jsx)(r.r,{trailingVisual:i.o1U,size:"small",variant:"invisible",onClick:e=>{e.preventDefault(),t.execute(l.zl.run).catch((e=>{console.error("Failed to run cell.",e)}))},children:"Run"})})}},90793:(e,t,n)=>{n.d(t,{G:()=>i,Z:()=>r});var o=n(90706);const i=e=>(a.initializeMarked(e),{render:e=>new Promise(((t,n)=>{(0,o.TU)(e,((e,o)=>{e?n(e):t(o)}))}))});var a;!function(e){let t=!1;e.initializeMarked=function(e){t||(t=!0,o.TU.setOptions({gfm:!0,sanitize:!1,langPrefix:"language-",highlight:(t,n,o)=>{const i=(e,t)=>(o&&o(e,t),t);if(!n)return i(null,t);const a=document.createElement("div");try{e.highlight(t,e.findBest(n),a).then((()=>i(null,a.innerHTML))).catch((e=>i(e,t)))}catch(e){return console.error(`Failed to highlight ${n} code`,e),i(e,t)}}}))}}(a||(a={}));const r=i}}]);