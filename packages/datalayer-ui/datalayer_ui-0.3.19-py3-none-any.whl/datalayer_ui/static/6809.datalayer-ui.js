"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[6809],{18137:(e,n,t)=>{t.d(n,{E:()=>r});var r,s=t(51834),a=t(67426),i=t(16982);!function(e){function n(e,n){var r,i;const o=n(e);return o.id=e.id,o.title.label||(o.title.label=null!==(r=e.label)&&void 0!==r?r:s.Text.titleCase(o.id.trim())),e.icon&&(o.title.icon=a.zZ.resolve({icon:e.icon})),void 0!==e.mnemonic&&(o.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter((e=>!e.disabled)).sort(((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)})).map((e=>{t(e,o,n)})),o}function t(e,t,r){const{submenu:s,...a}=e;t.addItem({...a,submenu:s?n(s,r):null})}function r(e,n,s){var a;e.disabled?n.dispose():null===(a=e.items)||void 0===a||a.forEach((e=>{var a,o;const l=null==n?void 0:n.items.find(((n,t)=>{var r,s,a;return n.type===e.type&&n.command===(null!==(r=e.command)&&void 0!==r?r:"")&&(null===(s=n.submenu)||void 0===s?void 0:s.id)===(null===(a=e.submenu)||void 0===a?void 0:a.id)}));if(l&&"separator"!==e.type)if(e.disabled)n.removeItem(l);else switch(null!==(a=e.type)&&void 0!==a?a:"command"){case"command":e.command&&(i.JSONExt.deepEqual(l.args,null!==(o=e.args)&&void 0!==o?o:{})||t(e,n,s));break;case"submenu":e.submenu&&r(e.submenu,l.submenu,s)}else t(e,n,s)}))}e.createMenus=function(e,t){return e.filter((e=>!e.disabled)).sort(((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)})).map((e=>n(e,t)))},e.addContextItem=function(e,t,r){const{submenu:s,...a}=e;t.addItem({...a,submenu:s?n(s,r):null})},e.updateMenus=function(e,t,s){const a=[];return t.forEach((t=>{const i=e.find((e=>e.id===t.id));i?r(t,i,s):t.disabled||a.push(n(t,s))})),e.push(...a),a}}(r||(r={}))},86809:(e,n,t)=>{t.r(n),t.d(n,{CommandIDs:()=>V,default:()=>D});var r=t(32239),s=t(79557);function a(e,n,t,r){const{commands:s,shell:a}=e,i=Array.isArray(n)?n:[n];return{label:l("label"),caption:l("caption"),isEnabled:()=>{var e;const n=o("isEnabled");return n.length>0&&!n.some((e=>!1===e))||null!==(e=t.isEnabled)&&void 0!==e&&e},isToggled:()=>{var e;return o("isToggled").some((e=>!0===e))||null!==(e=t.isToggled)&&void 0!==e&&e},isVisible:()=>{var e;const n=o("isVisible");return n.length>0&&!n.some((e=>!1===e))||null===(e=t.isVisible)||void 0===e||e},execute:async()=>{const e=a.currentWidget,n=i.map((n=>null!==e?n.getActiveCommandId(e):null)).filter((e=>null!==e&&s.isEnabled(e)));let r=null;if(n.length>0){for(const e of n)if(r=await s.execute(e),"boolean"==typeof r&&!1===r)break}else t.execute&&(r=await s.execute(t.execute));return r}};function o(e){const n=a.currentWidget;return i.map((e=>null!==n?e.getActiveCommandId(n):null)).filter((e=>null!==e)).map((n=>s[e](n)))}function l(e){return()=>{var n;const s=o(e).map(((n,t)=>"caption"==e&&t>0?n.toLocaleLowerCase():n));switch(s.length){case 0:return null!==(n=t[e])&&void 0!==n?n:"";case 1:return s[0];default:{const e=s.some((e=>/…$/.test(e))),n=s.slice(void 0,-1).map((e=>e.replace(/…$/,""))).join(", "),t=s.slice(-1)[0].replace(/…$/,"")+(e?"…":"");return r.__("%1 and %2",n,t)}}}}}var i,o=t(21735),l=t(51313),u=t(18137),d=t(51834),c=t(55221),m=t(32826),h=t(95634),p=t(59913),_=t(54362);class b{constructor(){this._commands=new Array}add(e){if(this._commands.map((e=>e.id)).includes(e.id))throw Error(`Command ${e.id} is already defined.`);this._commands.push({isEnabled:()=>!0,rank:b.DEFAULT_RANK,...e})}getActiveCommandId(e){var n;return(null!==(n=this._commands.filter((n=>n.isEnabled(e))).sort(((e,n)=>e.rank-n.rank||(e.id<n.id?-1:1)))[0])&&void 0!==n?n:{id:null}).id}}b.DEFAULT_RANK=500;class v extends h.V{constructor(e){super(e),this.undoers={redo:new b,undo:new b},this.clearers={clearAll:new b,clearCurrent:new b},this.goToLiners=new b}}class g extends h.V{constructor(e){super(e),this.quitEntry=!1,this.closeAndCleaners=new b,this.consoleCreators=new b}get newMenu(){var e,n;return this._newMenu||(this._newMenu=null!==(n=null===(e=(0,p.sE)(this.items,(e=>{var n;return"jp-mainmenu-file-new"===(null===(n=e.submenu)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.submenu)&&void 0!==n?n:new h.V({commands:this.commands})),this._newMenu}dispose(){var e;null===(e=this._newMenu)||void 0===e||e.dispose(),super.dispose()}}class f extends h.V{constructor(e){super(e),this.getKernel=new b}}class w extends h.V{constructor(e){super(e),this.kernelUsers={changeKernel:new b,clearWidget:new b,interruptKernel:new b,reconnectToKernel:new b,restartKernel:new b,shutdownKernel:new b}}}class k extends h.V{constructor(e){super(e),this.codeRunners={restart:new b,run:new b,runAll:new b}}}class M extends h.V{constructor(e){super(e)}}class C extends h.V{constructor(e){super(e)}}class y extends h.V{constructor(e){super(e),this.editorViewers={toggleLineNumbers:new b,toggleMatchBrackets:new b,toggleWordWrap:new b}}}class A extends _.j_{constructor(e){super({forceItemsPosition:{forceX:!1,forceY:!0}}),this._items=[],this._commands=e}get editMenu(){return this._editMenu||(this._editMenu=new v({commands:this._commands,rank:2,renderer:m.q.defaultRenderer})),this._editMenu}get fileMenu(){return this._fileMenu||(this._fileMenu=new g({commands:this._commands,rank:1,renderer:m.q.defaultRenderer})),this._fileMenu}get helpMenu(){return this._helpMenu||(this._helpMenu=new f({commands:this._commands,rank:1e3,renderer:m.q.defaultRenderer})),this._helpMenu}get kernelMenu(){return this._kernelMenu||(this._kernelMenu=new w({commands:this._commands,rank:5,renderer:m.q.defaultRenderer})),this._kernelMenu}get runMenu(){return this._runMenu||(this._runMenu=new k({commands:this._commands,rank:4,renderer:m.q.defaultRenderer})),this._runMenu}get settingsMenu(){return this._settingsMenu||(this._settingsMenu=new M({commands:this._commands,rank:999,renderer:m.q.defaultRenderer})),this._settingsMenu}get viewMenu(){return this._viewMenu||(this._viewMenu=new y({commands:this._commands,rank:3,renderer:m.q.defaultRenderer})),this._viewMenu}get tabsMenu(){return this._tabsMenu||(this._tabsMenu=new C({commands:this._commands,rank:500,renderer:m.q.defaultRenderer})),this._tabsMenu}addMenu(e,n=!0,t={}){if(p.RO.firstIndexOf(this.menus,e)>-1)return;m.q.overrideDefaultRenderer(e);const r={menu:e,rank:"rank"in t?t.rank:"rank"in e?e.rank:h.j.DEFAULT_RANK},s=p.RO.upperBound(this._items,r,i.itemCmp);switch(e.disposed.connect(this._onMenuDisposed,this),p.RO.insert(this._items,s,r),this.insertMenu(s,e),e.id){case"jp-mainmenu-file":!this._fileMenu&&e instanceof g&&(this._fileMenu=e);break;case"jp-mainmenu-edit":!this._editMenu&&e instanceof v&&(this._editMenu=e);break;case"jp-mainmenu-view":!this._viewMenu&&e instanceof y&&(this._viewMenu=e);break;case"jp-mainmenu-run":!this._runMenu&&e instanceof k&&(this._runMenu=e);break;case"jp-mainmenu-kernel":!this._kernelMenu&&e instanceof w&&(this._kernelMenu=e);break;case"jp-mainmenu-tabs":!this._tabsMenu&&e instanceof C&&(this._tabsMenu=e);break;case"jp-mainmenu-settings":!this._settingsMenu&&e instanceof M&&(this._settingsMenu=e);break;case"jp-mainmenu-help":!this._helpMenu&&e instanceof f&&(this._helpMenu=e)}}dispose(){var e,n,t,r,s,a,i,o;null===(e=this._editMenu)||void 0===e||e.dispose(),null===(n=this._fileMenu)||void 0===n||n.dispose(),null===(t=this._helpMenu)||void 0===t||t.dispose(),null===(r=this._kernelMenu)||void 0===r||r.dispose(),null===(s=this._runMenu)||void 0===s||s.dispose(),null===(a=this._settingsMenu)||void 0===a||a.dispose(),null===(i=this._viewMenu)||void 0===i||i.dispose(),null===(o=this._tabsMenu)||void 0===o||o.dispose(),super.dispose()}static generateMenu(e,n,t){let r;const{id:s,label:a,rank:i}=n;switch(s){case"jp-mainmenu-file":r=new g({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-edit":r=new v({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-view":r=new y({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-run":r=new k({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-kernel":r=new w({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-tabs":r=new C({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-settings":r=new M({commands:e,rank:i,renderer:m.q.defaultRenderer});break;case"jp-mainmenu-help":r=new f({commands:e,rank:i,renderer:m.q.defaultRenderer});break;default:r=new h.V({commands:e,rank:i,renderer:m.q.defaultRenderer})}return a&&(r.title.label=t._p("menu",a)),r}_onMenuDisposed(e){this.removeMenu(e);const n=p.RO.findFirstIndex(this._items,(n=>n.menu===e));-1!==n&&p.RO.removeAt(this._items,n)}}!function(e){e.itemCmp=function(e,n){return e.rank-n.rank}}(i||(i={}));var R=t(19316),E=t(83375),x=t(85126),K=t(74260),I=t(9706),S=t(16982);const q="@jupyterlab/mainmenu-extension:plugin";var V;!function(e){e.openEdit="editmenu:open",e.undo="editmenu:undo",e.redo="editmenu:redo",e.clearCurrent="editmenu:clear-current",e.clearAll="editmenu:clear-all",e.find="editmenu:find",e.goToLine="editmenu:go-to-line",e.openFile="filemenu:open",e.closeAndCleanup="filemenu:close-and-cleanup",e.createConsole="filemenu:create-console",e.shutdown="filemenu:shutdown",e.logout="filemenu:logout",e.openKernel="kernelmenu:open",e.interruptKernel="kernelmenu:interrupt",e.reconnectToKernel="kernelmenu:reconnect-to-kernel",e.restartKernel="kernelmenu:restart",e.restartKernelAndClear="kernelmenu:restart-and-clear",e.changeKernel="kernelmenu:change",e.shutdownKernel="kernelmenu:shutdown",e.shutdownAllKernels="kernelmenu:shutdownAll",e.openView="viewmenu:open",e.wordWrap="viewmenu:word-wrap",e.lineNumbering="viewmenu:line-numbering",e.matchBrackets="viewmenu:match-brackets",e.openRun="runmenu:open",e.run="runmenu:run",e.runAll="runmenu:run-all",e.restartAndRunAll="runmenu:restart-and-run-all",e.runAbove="runmenu:run-above",e.runBelow="runmenu:run-below",e.openTabs="tabsmenu:open",e.activateById="tabsmenu:activate-by-id",e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab",e.openSettings="settingsmenu:open",e.openHelp="helpmenu:open",e.getKernel="helpmenu:get-kernel",e.openFirst="mainmenu:open-first"}(V||(V={}));const D={id:q,description:"Adds and provides the application main menu.",requires:[r.v5,K.gv],optional:[o.WW,s.r,E.O],provides:c.O,activate:async(e,n,t,r,s,i)=>{const{commands:o}=e,u=t.load("jupyterlab"),c=new A(o);c.id="jp-MainMenu",c.addClass("jp-scrollbar-tiny"),i&&(await j.loadSettingsMenu(i,(e=>{c.addMenu(e,!1,{rank:e.rank})}),(e=>A.generateMenu(o,e,u)),t),c.update());const m=d.PageConfig.getOption("quitButton").toLowerCase();c.fileMenu.quitEntry="true"===m,function(e,n,t){const r=e.commands;r.addCommand(V.undo,a(e,n.undoers.undo,{label:t.__("Undo")},t)),r.addCommand(V.redo,a(e,n.undoers.redo,{label:t.__("Redo")},t)),r.addCommand(V.clearCurrent,a(e,n.clearers.clearCurrent,{label:t.__("Clear")},t)),r.addCommand(V.clearAll,a(e,n.clearers.clearAll,{label:t.__("Clear All")},t)),r.addCommand(V.goToLine,a(e,n.goToLiners,{label:t.__("Go to Line…")},t))}(e,c.editMenu,u),function(e,n,t,r){const s=e.commands;s.addCommand(V.closeAndCleanup,{...a(e,n.closeAndCleaners,{execute:"application:close",label:r.__("Close and Shut Down"),isEnabled:!0},r),isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable}),s.addCommand(V.createConsole,a(e,n.consoleCreators,{label:r.__("New Console for Activity")},r)),s.addCommand(V.shutdown,{label:r.__("Shut Down"),caption:r.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,l.vC)({title:r.__("Shutdown confirmation"),body:r.__("Please confirm you want to shut down JupyterLab."),buttons:[l.Vq.cancelButton(),l.Vq.warnButton({label:r.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=R.ServerConnection.makeSettings(),t=d.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(e){console.log(`Failed to shutdown sessions and terminals: ${e}`)}return R.ServerConnection.makeRequest(t,{method:"POST"},n).then((e=>{if(!e.ok)throw new R.ServerConnection.ResponseError(e);{const e=document.createElement("div"),n=document.createElement("p");n.textContent=r.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=r.__("To use JupyterLab again, you will need to relaunch it."),e.appendChild(n),e.appendChild(t),(0,l.vC)({title:r.__("Server stopped"),body:new _.$L({node:e}),buttons:[]}),window.close()}})).catch((e=>{throw new R.ServerConnection.NetworkError(e)}))}}))}),s.addCommand(V.logout,{label:r.__("Log Out"),caption:r.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:!0})}})}(e,c.fileMenu,n,u),function(e,n,t){const r=e.commands;r.addCommand(V.interruptKernel,{...a(e,n.kernelUsers.interruptKernel,{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},t),icon:e=>e.toolbar?I.Br:void 0}),r.addCommand(V.reconnectToKernel,a(e,n.kernelUsers.reconnectToKernel,{label:t.__("Reconnect to Kernel")},t)),r.addCommand(V.restartKernel,{...a(e,n.kernelUsers.restartKernel,{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},t),icon:e=>e.toolbar?I.n9:void 0}),r.addCommand(V.restartKernelAndClear,a(e,[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],{label:t.__("Restart Kernel and Clear…")},t)),r.addCommand(V.changeKernel,a(e,n.kernelUsers.changeKernel,{label:t.__("Change Kernel…")},t)),r.addCommand(V.shutdownKernel,a(e,n.kernelUsers.shutdownKernel,{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},t)),r.addCommand(V.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,execute:()=>(0,l.vC)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[l.Vq.cancelButton({label:t.__("Dismiss")}),l.Vq.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept)return e.serviceManager.sessions.shutdownAll()}))})}(e,c.kernelMenu,u),function(e,n,t){const r=e.commands;r.addCommand(V.run,{...a(e,n.codeRunners.run,{label:t.__("Run Selected"),caption:t.__("Run Selected")},t),icon:e=>e.toolbar?I.Nv:void 0}),r.addCommand(V.runAll,a(e,n.codeRunners.runAll,{label:t.__("Run All"),caption:t.__("Run All")},t)),r.addCommand(V.restartAndRunAll,{...a(e,[n.codeRunners.restart,n.codeRunners.runAll],{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},t),icon:e=>e.toolbar?I.N0:void 0})}(e,c.runMenu,u),function(e,n,t){const r=e.commands;r.addCommand(V.lineNumbering,a(e,n.editorViewers.toggleLineNumbers,{label:t.__("Show Line Numbers")},t)),r.addCommand(V.matchBrackets,a(e,n.editorViewers.toggleMatchBrackets,{label:t.__("Match Brackets")},t)),r.addCommand(V.wordWrap,a(e,n.editorViewers.toggleWordWrap,{label:t.__("Wrap Words")},t))}(e,c.viewMenu,u),function(e,n,t){e.commands.addCommand(V.getKernel,a(e,n.getKernel,{label:t.__("Get Kernel"),isVisible:!1},t))}(e,c.helpMenu,u),s&&function(e,n,t,r){const s=e.commands,a=[];let i;s.addCommand(V.activateById,{label:n=>{if(void 0===n.id)return r.__("Activate a widget by its `id`.");const t=n.id||"",s=(0,p.sE)(e.shell.widgets("main"),(e=>e.id===t));return s&&s.title.label||""},isToggled:n=>{const t=n.id||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n.id||"")});let o="";s.addCommand(V.activatePreviouslyUsedTab,{label:r.__("Activate Previously Used Tab"),isEnabled:()=>!!o,execute:()=>s.execute(V.activateById,{id:o})}),t&&e.restored.then((()=>{const r=()=>{i&&!i.isDisposed&&i.dispose(),a.length=0;let t=!1;for(const n of e.shell.widgets("main"))n.id===o&&(t=!0),a.push({command:V.activateById,args:{id:n.id}});i=n.addGroup(a,1),o=t?o:""};r(),t.layoutModified.connect((()=>{r()})),t.currentChanged.connect(((e,n)=>{const t=n.oldValue;t&&(o=t.id)}))}))}(e,c.tabsMenu,s,u);const h=e=>{c.activeMenu=e,c.openActiveMenu()};return o.addCommand(V.openEdit,{label:u.__("Open Edit Menu"),execute:()=>h(c.editMenu)}),o.addCommand(V.openFile,{label:u.__("Open File Menu"),execute:()=>h(c.fileMenu)}),o.addCommand(V.openKernel,{label:u.__("Open Kernel Menu"),execute:()=>h(c.kernelMenu)}),o.addCommand(V.openRun,{label:u.__("Open Run Menu"),execute:()=>h(c.runMenu)}),o.addCommand(V.openView,{label:u.__("Open View Menu"),execute:()=>h(c.viewMenu)}),o.addCommand(V.openSettings,{label:u.__("Open Settings Menu"),execute:()=>h(c.settingsMenu)}),o.addCommand(V.openTabs,{label:u.__("Open Tabs Menu"),execute:()=>h(c.tabsMenu)}),o.addCommand(V.openHelp,{label:u.__("Open Help Menu"),execute:()=>h(c.helpMenu)}),o.addCommand(V.openFirst,{label:u.__("Open First Menu"),execute:()=>{c.activeIndex=0,c.openActiveMenu()}}),r&&(r.addItem({command:V.shutdown,category:u.__("Main Area")}),r.addItem({command:V.logout,category:u.__("Main Area")}),r.addItem({command:V.shutdownAllKernels,category:u.__("Kernel Operations")}),r.addItem({command:V.activatePreviouslyUsedTab,category:u.__("Main Area")})),e.shell.add(c,"menu",{rank:100}),c}};var j;!function(e){async function n(e){(await(0,l.vC)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[l.Vq.cancelButton(),l.Vq.okButton({label:e.__("Reload")})]})).button.accept&&location.reload()}e.loadSettingsMenu=async function(e,t,r,s){var a;const i=s.load("jupyterlab");let o=null,l={};function d(n){var t,r;l={};const s=Object.keys(e.plugins).map((n=>{var t,r;const s=null!==(r=null===(t=e.plugins[n].schema["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==r?r:[];return l[n]=s,s})).concat([null!==(r=null===(t=n["jupyter.lab.menus"])||void 0===t?void 0:t.main)&&void 0!==r?r:[]]).reduceRight(((e,n)=>x.tC.reconcileMenus(e,n,!0)),n.properties.menus.default);n.properties.menus.default=x.tC.reconcileMenus(s,n.properties.menus.default,!0).sort(((e,n)=>{var t,r;return(null!==(t=e.rank)&&void 0!==t?t:1/0)-(null!==(r=n.rank)&&void 0!==r?r:1/0)}))}e.transform(q,{compose:e=>{var n,t,r,s;o||(o=S.JSONExt.deepCopy(e.schema),d(o));const a=null!==(r=null===(t=null===(n=o.properties)||void 0===n?void 0:n.menus)||void 0===t?void 0:t.default)&&void 0!==r?r:[],i={...e.data.user,menus:null!==(s=e.data.user.menus)&&void 0!==s?s:[]},l={...e.data.composite,menus:x.tC.reconcileMenus(a,i.menus)};return e.data={composite:l,user:i},e},fetch:e=>(o||(o=S.JSONExt.deepCopy(e.schema),d(o)),{data:e.data,id:e.id,raw:e.raw,schema:o,version:e.version})});const c=await e.load(q),m=null!==(a=S.JSONExt.deepCopy(c.composite.menus))&&void 0!==a?a:[],h=new Array;u.E.createMenus(m.filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:x.tC.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}})),r).forEach((e=>{h.push(e),t(e)})),c.changed.connect((()=>{var e;const t=null!==(e=c.composite.menus)&&void 0!==e?e:[];S.JSONExt.deepEqual(m,t)||n(i)})),e.pluginChanged.connect((async(s,a)=>{var o,d,c;if(a!==q){const s=null!==(o=l[a])&&void 0!==o?o:[],p=null!==(c=null===(d=e.plugins[a].schema["jupyter.lab.menus"])||void 0===d?void 0:d.main)&&void 0!==c?c:[];if(!S.JSONExt.deepEqual(s,p))if(l[a])await n(i);else{l[a]=S.JSONExt.deepCopy(p);const e=x.tC.reconcileMenus(p,m,!1,!1).filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:x.tC.filterDisabledItems(null!==(n=e.items)&&void 0!==n?n:[])}}));u.E.updateMenus(h,e,r).forEach((e=>{t(e)}))}}}))}}(j||(j={}))},95634:(e,n,t)=>{t.d(n,{V:()=>l,j:()=>r});var r,s=t(59913),a=t(54649),i=t(59555),o=t(54362);!function(e){e.DEFAULT_RANK=100}(r||(r={}));class l extends o.v2{constructor(e){var n;super(e),this._ranks=[],this._rank=e.rank,this._includeSeparators=null===(n=e.includeSeparators)||void 0===n||n}get rank(){return this._rank}addGroup(e,n){if(0===e.length)return new a.DisposableDelegate((()=>{}));const t=null!=n?n:r.DEFAULT_RANK,s=e.map((e=>{var n;return{...e,rank:null!==(n=e.rank)&&void 0!==n?n:t}})).sort(((e,n)=>e.rank-n.rank));let i=this._ranks.findIndex((e=>s[0].rank<e));i<0&&(i=this._ranks.length);const o=[];return this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),o.push(...s.map((e=>this.insertItem(i++,e)))),this._includeSeparators&&o.push(this.insertItem(i++,{type:"separator",rank:t})),new a.DisposableDelegate((()=>{o.forEach((e=>e.dispose()))}))}addItem(e){let n=-1;return e.rank&&(n=this._ranks.findIndex((n=>e.rank<n))),n<0&&(n=this._ranks.length),this.insertItem(n,e)}clearItems(){this._ranks.length=0,super.clearItems()}dispose(){this._ranks.length=0,super.dispose()}getRankAt(e){return this._ranks[e]}insertItem(e,n){var t,a;const i=Math.max(0,Math.min(e,this._ranks.length));s.RO.insert(this._ranks,i,null!==(t=n.rank)&&void 0!==t?t:Math.max(r.DEFAULT_RANK,null!==(a=this._ranks[this._ranks.length-1])&&void 0!==a?a:r.DEFAULT_RANK));const o=super.insertItem(i,n);return new u(o,this)}removeItemAt(e){s.RO.removeAt(this._ranks,e),super.removeItemAt(e)}}class u{constructor(e,n){this._item=new WeakRef(e),this._menu=n;const t=e=>{e.disposed.disconnect(t,this),this.dispose()};this._menu.disposed.connect(t,this)}get isDisposed(){return this._isDisposed}get type(){return this._item.deref().type}get command(){return this._item.deref().command}get args(){return this._item.deref().args}get submenu(){return this._item.deref().submenu}get label(){return this._item.deref().label}get mnemonic(){return this._item.deref().mnemonic}get icon(){return this._item.deref().icon}get iconClass(){return this._item.deref().iconClass}get iconLabel(){return this._item.deref().iconLabel}get caption(){return this._item.deref().caption}get className(){return this._item.deref().className}get dataset(){return this._item.deref().dataset}get isEnabled(){return this._item.deref().isEnabled}get isToggled(){return this._item.deref().isToggled}get isVisible(){return this._item.deref().isVisible}get keyBinding(){return this._item.deref().keyBinding}dispose(){if(this._isDisposed)return;this._isDisposed=!0;const e=this._item.deref();e&&!this._menu.isDisposed&&this._menu.removeItem(e),i.Signal.clearData(this)}}}}]);