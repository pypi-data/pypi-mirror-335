"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[346],{9259:(e,r,t)=>{t.r(r),t.d(r,{Form:()=>J,Templates:()=>T,Theme:()=>U,Widgets:()=>E,default:()=>K,generateForm:()=>V,generateTemplates:()=>w,generateTheme:()=>Q,generateWidgets:()=>O});var i=t(42475),l=t(74512),a=t(61360),n=t(26053),o=t(26396);function s({uiSchema:e,registry:r,...t}){const{translateString:i}=r;return(0,l.jsx)(n.Tooltip,{"aria-label":i(a.g8.AddItemButton),children:(0,l.jsx)(n.IconButton,{variant:"primary",size:"small",icon:o.PlusIcon,"aria-label":i(a.g8.AddItemButton),...t})})}function d(e){const{children:r,disabled:t,hasToolbar:i,hasMoveDown:a,hasMoveUp:o,hasRemove:s,index:d,onDropIndexClick:c,onReorderClick:u,readonly:x,uiSchema:h,registry:m}=e,{MoveDownButton:p,MoveUpButton:y,RemoveButton:g}=m.templates.ButtonTemplates,b={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold",minWidth:0};return(0,l.jsxs)(n.Box,{sx:{display:"flex",width:"100%",flexFlow:"row wrap"},alignItems:"center",children:[(0,l.jsx)(n.Box,{sx:{flexBasis:0,flexGrow:1,maxWidth:"100%"},style:{overflow:"auto"},children:(0,l.jsx)(n.Box,{mb:2,p:2,sx:{borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},children:r})}),i&&(0,l.jsxs)(n.Box,{p:1,children:[(o||a)&&(0,l.jsx)(y,{style:b,disabled:t||x||!o,onClick:u(d,d-1),uiSchema:h,registry:m}),(o||a)&&(0,l.jsx)(p,{style:b,disabled:t||x||!a,onClick:u(d,d+1),uiSchema:h,registry:m}),s&&(0,l.jsx)(g,{style:b,disabled:t||x,onClick:c(d),uiSchema:h,registry:m})]})]})}function c(e){const{canAdd:r,disabled:t,idSchema:i,uiSchema:o,items:s,onAddClick:d,readonly:c,registry:u,required:x,schema:h,title:m}=e,p=(0,a.LI)(o),y=(0,a.t4)("ArrayFieldDescriptionTemplate",u,p),g=(0,a.t4)("ArrayFieldItemTemplate",u,p),b=(0,a.t4)("ArrayFieldTitleTemplate",u,p),{ButtonTemplates:{AddButton:f}}=u.templates;return(0,l.jsxs)(n.Box,{p:3,sx:{display:"flex",width:"100%",flexFlow:"row wrap",borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},children:[(0,l.jsx)(b,{idSchema:i,title:p.title||m,schema:h,uiSchema:o,required:x,registry:u}),(0,l.jsx)(y,{idSchema:i,description:p.description||h.description,schema:h,uiSchema:o,registry:u}),(0,l.jsxs)(n.Box,{sx:{display:"flex",width:"100%",flexFlow:"row wrap"},children:[s&&s.map((({key:e,...r})=>(0,l.jsx)(g,{...r},e))),r&&(0,l.jsx)(n.Box,{sx:{display:"flex",width:"100%",flexFlow:"row wrap"},justifyContent:"flex-end",children:(0,l.jsx)(n.Box,{sx:{flexBasis:0,flexGrow:1,maxWidth:"100%"},children:(0,l.jsx)(n.Box,{mt:2,children:(0,l.jsx)(f,{className:"array-item-add",onClick:d,disabled:t||c,uiSchema:o,registry:u})})})})]},`array-item-list-${i.$id}`)]})}function u(e){const{id:r,placeholder:t,required:i,readonly:o,disabled:s,type:d,label:c,value:u,onChange:x,onBlur:h,onFocus:m,autofocus:p,options:y,schema:g,uiSchema:b,rawErrors:f=[],formContext:j,registry:v,...C}=e,B=(0,a.TC)(g,d,y),{step:F,min:S,max:w,...T}=B,k={inputProps:{step:F,min:S,max:w,...g.examples?{list:(0,a.RS)(r)}:void 0},...T},{schemaUtils:A}=v,D=A.getDisplayLabel(g,b);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.FormControl.Label,{visuallyHidden:!D,htmlFor:r,children:c||g.title}),(0,l.jsx)(n.TextInput,{id:r,name:r,placeholder:t,autoFocus:p,required:i,disabled:s||o,...k,value:u||0===u?u:"",validationStatus:f.length>0?"error":void 0,onChange:({target:{value:e}})=>x(""===e?y.emptyValue:e),onBlur:({target:{value:e}})=>h(r,e),onFocus:({target:{value:e}})=>m(r,e),block:!0,...C,"aria-describedby":(0,a.Jx)(r,!!g.examples)}),Array.isArray(g.examples)&&(0,l.jsx)("datalist",{id:(0,a.RS)(r),children:g.examples.concat(g.default&&!g.examples.includes(g.default)?[g.default]:[]).map((e=>(0,l.jsx)("option",{value:e},e)))})]})}function x(e){const{id:r,description:t}=e;return t?(0,l.jsx)(n.Text,{id:r,as:"p",mt:1,children:t}):null}function h({errors:e,registry:r}){const{translateString:t}=r;return(0,l.jsx)(n.Box,{mb:3,sx:{borderWidth:1,borderStyle:"solid",borderColor:"border.default",borderRadius:2},children:(0,l.jsxs)(n.Box,{p:3,children:[(0,l.jsx)(n.Heading,{as:"h3",sx:{fontSize:3},children:t(a.g8.ErrorsLabel)}),(0,l.jsx)(l.Fragment,{children:e.map(((e,r)=>(0,l.jsx)(n.Flash,{variant:"danger",sx:{marginTop:2},children:e.stack},r)))})]})})}function m({uiSchema:e,color:r,title:t,icon:i,...a}){return r||(r="primary"),(0,l.jsx)(n.Tooltip,{sx:{p:1},"aria-label":r,children:(0,l.jsx)(n.IconButton,{variant:r,size:"small",icon:i,onClick:e=>e.preventDefault(),onSubmit:e=>e.preventDefault(),"aria-label":t,...a})})}function p(e){const{registry:{translateString:r}}=e;return(0,l.jsx)(m,{title:r(a.g8.CopyButton),...e,icon:o.CopyIcon})}function y(e){const{registry:{translateString:r}}=e;return(0,l.jsx)(m,{title:r(a.g8.MoveDownButton),...e,icon:o.ArrowDownIcon})}function g(e){const{registry:{translateString:r}}=e;return(0,l.jsx)(m,{title:r(a.g8.MoveUpButton),...e,icon:o.ArrowUpIcon})}function b(e){const{iconType:r,...t}=e,{registry:{translateString:i}}=t;return(0,l.jsx)(m,{title:i(a.g8.RemoveButton),...t,color:"danger",icon:o.TrashIcon})}function f(e){const{errors:r=[],idSchema:t}=e;if(0===r.length)return null;const i=(0,a.UR)(t);return(0,l.jsx)("div",{id:i,children:r.map(((e,r)=>(0,l.jsxs)(n.Text,{as:"p",mb:1,sx:{fontSize:"12px",display:"block",color:"danger.fg"},children:["â€¢"," "+e]},r)))})}function j(e){const{idSchema:r,help:t}=e;if(!t)return null;const i=(0,a.JL)(r);return(0,l.jsx)(n.FormControl.Caption,{id:i,children:t})}function v(e){const{id:r,children:t,classNames:i,style:o,disabled:s,displayLabel:d,hidden:c,label:u,onDropPropertyClick:x,onKeyChange:h,readonly:m,required:p,rawErrors:y=[],errors:g,help:b,rawDescription:f,schema:j,uiSchema:v,registry:C}=e,B=(0,a.LI)(v),F=(0,a.t4)("WrapIfAdditionalTemplate",C,B);return c?(0,l.jsx)("div",{style:{display:"none"},children:t}):(0,l.jsx)(F,{classNames:i,style:o,disabled:s,id:r,label:u,onDropPropertyClick:x,onKeyChange:h,readonly:m,required:p,schema:j,uiSchema:v,registry:C,children:(0,l.jsxs)(n.FormControl,{required:p,children:[(0,l.jsx)(n.FormControl.Label,{visuallyHidden:!0}),t,d&&f?(0,l.jsx)(n.FormControl.Caption,{id:r,children:f}):null,g,b]})})}function C(e){const{description:r,title:t,properties:i,required:o,disabled:s,readonly:d,uiSchema:c,idSchema:u,schema:x,formData:h,onAddClick:m,registry:p}=e,y=(0,a.LI)(c),g=(0,a.t4)("TitleFieldTemplate",p,y),b=(0,a.t4)("DescriptionFieldTemplate",p,y),{ButtonTemplates:{AddButton:f}}=p.templates;return(0,l.jsxs)(l.Fragment,{children:[(y.title||t)&&(0,l.jsx)(g,{id:(0,a.Vt)(u),title:t,required:o,schema:x,uiSchema:c,registry:p}),(y.description||r)&&(0,l.jsx)(b,{id:(0,a.Si)(u),description:y.description||r,schema:x,uiSchema:c,registry:p}),(0,l.jsxs)(n.Box,{sx:{display:"flex",width:"100%",flexDirection:"column",flexFlow:"row wrap"},style:{marginTop:"10px"},children:[i.map(((e,r)=>e.hidden?e.content:(0,l.jsx)(n.Box,{sx:{flexBasis:"100%",flexGrow:0,maxWidth:"100%"},mb:1,children:e.content},r))),(0,a.Rc)(x,c,h)&&(0,l.jsx)(n.Box,{sx:{display:"flex",width:"100%",flexFlow:"row wrap"},justifyContent:"flex-end",children:(0,l.jsx)(n.Box,{sx:{flexBasis:0,flexGrow:1,maxWidth:"100%"},children:(0,l.jsx)(f,{className:"object-property-expand",onClick:e=>{e.preventDefault(),m(x)()},disabled:s||d,uiSchema:c,registry:p})})})]})]})}function B({uiSchema:e}){const{submitText:r,norender:t,props:i={}}=(0,a.rF)(e);return t?null:(0,l.jsx)(n.Box,{marginTop:2,children:(0,l.jsx)(n.Button,{type:"submit",variant:"primary",...i,children:r})})}function F({id:e,title:r}){return(0,l.jsx)(n.Box,{id:e,my:2,children:(0,l.jsx)(n.Heading,{as:"h5",sx:{fontSize:1,borderBottom:"1px solid",borderColor:"border.default",paddingBottom:1},children:r})})}function S(e){const{children:r,classNames:t,style:i,disabled:o,id:s,label:d,onDropPropertyClick:c,onKeyChange:u,readonly:x,required:h,schema:m,uiSchema:p,registry:y}=e,{templates:g,translateString:b}=y,{RemoveButton:f}=g.ButtonTemplates,j=b(a.g8.KeyLabel,[d]);return a.jk in m?(0,l.jsxs)(n.Box,{sx:{display:"flex",width:"100%",flexFlow:"row wrap"},alignItems:"center",className:t,style:i,children:[(0,l.jsx)(n.Box,{pr:2,sx:{flexBasis:0,flexGrow:1,maxWidth:"100%"},children:(0,l.jsxs)(n.FormControl,{id:`${s}-key`,required:h,children:[(0,l.jsx)(n.FormControl.Label,{children:j}),(0,l.jsx)(n.TextInput,{defaultValue:d,disabled:o||x,name:`${s}-key`,onBlur:x?void 0:({target:e})=>u(e.value),type:"text",block:!0})]})}),(0,l.jsx)(n.Box,{pr:2,sx:{flexBasis:0,flexGrow:1,maxWidth:"100%"},children:r}),(0,l.jsx)(n.Box,{children:(0,l.jsx)(f,{iconType:"default",style:{flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"},disabled:o||x,onClick:c(d),uiSchema:p,registry:y})})]},`${s}-key`):(0,l.jsx)("div",{className:t,style:i,children:r})}function w(){return{ArrayFieldItemTemplate:d,ArrayFieldTemplate:c,BaseInputTemplate:u,ButtonTemplates:{AddButton:s,CopyButton:p,MoveDownButton:y,MoveUpButton:g,RemoveButton:b,SubmitButton:B},DescriptionFieldTemplate:x,ErrorListTemplate:h,FieldErrorTemplate:f,FieldHelpTemplate:j,FieldTemplate:v,ObjectFieldTemplate:C,TitleFieldTemplate:F,WrapIfAdditionalTemplate:S}}const T=w();function k(e){const{schema:r,id:t,value:i,disabled:o,readonly:s,label:d,autofocus:c,onChange:u,onBlur:x,onFocus:h}=e,m=(0,a.iE)(r);return(0,l.jsxs)(n.FormControl,{id:t,children:[(0,l.jsx)(n.Checkbox,{checked:void 0!==i&&Boolean(i),required:m,disabled:o||s,autoFocus:c,onChange:({target:{checked:e}})=>u(e),onBlur:({target:{value:e}})=>x(t,e),onFocus:({target:{value:e}})=>h(t,e),"aria-describedby":(0,a.Jx)(t)}),(0,l.jsx)(n.FormControl.Label,{children:d||""})]})}function A({schema:e,label:r,id:t,disabled:i,options:o,value:s,autofocus:d,readonly:c,required:u,onChange:x,onBlur:h,onFocus:m}){const{enumOptions:p,enumDisabled:y,inline:g,emptyValue:b}=o,f=Array.isArray(s)?s:[s],j=e=>({target:{checked:r}})=>{x(r?(0,a.U3)(e,f,p):(0,a.aI)(e,f,p))},v=({target:{value:e}})=>h(t,(0,a.QP)(e,p,b)),C=({target:{value:e}})=>m(t,(0,a.QP)(e,p,b));return(0,l.jsxs)(n.CheckboxGroup,{required:u,children:[(0,l.jsx)(n.CheckboxGroup.Label,{children:r||e.title}),Array.isArray(p)&&p.map(((e,r)=>{const o=(0,a.TR)(e.value,f),s=Array.isArray(y)&&-1!==y.indexOf(e.value);return(0,l.jsxs)(n.FormControl,{id:(0,a.DK)(t,r),children:[(0,l.jsx)(n.Checkbox,{checked:o,disabled:i||s||c,autoFocus:d&&0===r,onChange:j(r),onBlur:v,onFocus:C,"aria-describedby":(0,a.Jx)(t)}),(0,l.jsx)(n.FormControl.Label,{children:e.label})]},(0,a.DK)(t,r))}))]})}function D(e){const{options:r,registry:t}=e,i=(0,a.t4)("BaseInputTemplate",t,r);return(0,l.jsx)(i,{type:"date",InputLabelProps:{shrink:!0},...e})}function I(e){const{options:r,registry:t}=e,i=(0,a.t4)("BaseInputTemplate",t,r),n=(0,a.Yp)(e.value);return(0,l.jsx)(i,{type:"datetime-local",InputLabelProps:{shrink:!0},...e,value:n,onChange:r=>{e.onChange((0,a._4)(r))}})}function L({id:e,schema:r,options:t,value:i,required:o,disabled:s,readonly:d,label:c,onChange:u,onBlur:x,onFocus:h}){const{enumOptions:m,enumDisabled:p,emptyValue:y}=t,g=({target:{value:e}})=>u((0,a.QP)(e,m,y)),b=({target:{value:r}})=>x(e,(0,a.QP)(r,m,y)),f=({target:{value:r}})=>h(e,(0,a.QP)(r,m,y));return(0,l.jsxs)(n.RadioGroup,{name:e,required:o,children:[(0,l.jsx)(n.RadioGroup.Label,{children:c||r.title}),(0,l.jsx)(l.Fragment,{children:Array.isArray(m)&&m.map(((r,t)=>{const i=Array.isArray(p)&&-1!==p.indexOf(r.value);return(0,l.jsxs)(n.FormControl,{id:(0,a.DK)(e,t),children:[(0,l.jsx)(n.Radio,{value:String(t),onChange:g,onBlur:b,onFocus:f,"aria-describedby":(0,a.Jx)(e),disabled:s||i||d},t),(0,l.jsx)(n.FormControl.Label,{children:r.label})]},(0,a.DK)(e,t))}))})]})}var W=t(68415);function R(e){const{value:r,readonly:t,disabled:i,options:o,schema:s,onChange:d,label:c,id:u}=e,x={value:r,label:c,id:u,name:u,...(0,a.um)(s)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.FormControl.Label,{htmlFor:u,children:c||s.title}),(0,l.jsx)(W.Slider,{disabled:i||t,onChange:e=>{d(e??o.emptyValue)},...x,"aria-describedby":(0,a.Jx)(u)})]})}var q=t(66029);function P({schema:e,id:r,options:t,label:i,required:s,disabled:d,placeholder:c,readonly:u,value:x,multiple:h,autofocus:m,onChange:p,onBlur:y,onFocus:g,rawErrors:b=[],registry:f,uiSchema:j,hideError:v,formContext:C,...B}){const{enumOptions:F,enumDisabled:S,emptyValue:w}=t,[T,k]=(0,q.useState)(!1),A=(h=void 0!==h&&!!h)?[]:"",D=void 0===x||h&&x.length<1||!h&&x===A,I=F?.map((({value:e,label:r},t)=>({text:r,id:t,disabled:Array.isArray(S)&&-1!==S.indexOf(e)}))),L=(0,a.Rt)(x,F,h);return(0,l.jsxs)(n.FormControl,{id:r,required:s,children:[(0,l.jsx)(n.FormControl.Label,{visuallyHidden:!(i||e.title),htmlFor:r,children:i||e.title}),h&&Array.isArray(F)?(0,l.jsx)(n.SelectPanel,{placeholderText:(i||e.title)??"",renderAnchor:({children:r,"aria-labelledby":t,...a})=>(0,l.jsx)(n.Button,{trailingAction:o.TriangleDownIcon,"aria-labelledby":` ${t}`,...a,onClick:e=>{k(!T),e.preventDefault()},children:r||`Select ${i||e.title}`}),open:T,onOpenChange:k,items:I??[],selected:(I??[]).filter(((e,r)=>L?.includes(String(r)))),onSelectedChange:e=>{p((0,a.QP)(e.map((e=>e.id)),F,w))},onFilterChange:()=>null,overlayProps:{width:"small"}}):(0,l.jsx)(n.Select,{name:r,value:D?A:L,disabled:d||u,autoFocus:m,placeholder:i||e.title,validationStatus:b.length>0?"error":void 0,onChange:({target:{value:e}})=>p((0,a.QP)(e,F,w)),onBlur:({target:{value:e}})=>y(r,(0,a.QP)(e,F,w)),onFocus:({target:{value:e}})=>g(r,(0,a.QP)(e,F,w)),defaultValue:void 0,...B,"aria-describedby":(0,a.Jx)(r),children:Array.isArray(F)&&F.map((({value:e,label:r},t)=>{const i=Array.isArray(S)&&-1!==S.indexOf(e);return(0,l.jsx)(n.Select.Option,{value:String(t),disabled:i,children:r},t)}))})]})}function G({id:e,placeholder:r,value:t,label:i,disabled:o,autofocus:s,readonly:d,onBlur:c,onFocus:u,onChange:x,options:h,schema:m,uiSchema:p,required:y,rawErrors:g=[],registry:b}){const{schemaUtils:f}=b,j=f.getDisplayLabel(m,p)&&(!!i||!!m.title);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.FormControl.Label,{visuallyHidden:!j,htmlFor:e,children:i||m.title}),(0,l.jsx)(n.Textarea,{id:e,name:e,value:t??"",placeholder:r,autoFocus:s,required:y,disabled:o||d,validationStatus:g.length>0?"error":void 0,onChange:({target:{value:e}})=>x(""===e?h.emptyValue:e),onBlur:({target:{value:r}})=>c(e,r),onFocus:({target:{value:r}})=>u(e,r),block:!0,"aria-describedby":(0,a.Jx)(e)})]})}function O(){return{CheckboxWidget:k,CheckboxesWidget:A,DateWidget:D,DateTimeWidget:I,RadioWidget:L,RangeWidget:R,SelectWidget:P,TextareaWidget:G}}const E=O();function Q(){return{templates:w(),widgets:O()}}const U=Q();function V(){return(0,i.Zz)(Q())}const J=V(),K=J}}]);