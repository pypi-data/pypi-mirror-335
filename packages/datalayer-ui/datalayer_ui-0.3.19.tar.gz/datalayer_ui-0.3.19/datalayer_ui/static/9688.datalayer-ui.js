"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9688],{7336:(e,t,n)=>{n.r(t),n.d(t,{ExercisePublic:()=>C,default:()=>_});var i=n(16909),r=n(97663),s=n(88625),o=n(15358),a=n(82176),d=n(34166),l=n(23363),u=n(68110),c=n(17154),p=n(43275),m=n(98403),h=n(82628),g=n(52925),f=n(63613),x=n(99486),y=n(45741),b=n(68495),w=n(35928),j=n(19459),v=n(47011);const C=()=>{const{exerciseId:e}=(0,r.UO)();if(!e)return(0,v.jsx)(v.Fragment,{});const t=(0,j.qX)(),n=(0,g.gQ)(),C=t.iam().user,{kernelManager:_,defaultKernel:E}=(0,m.W$)(),{refreshExercise:Z,getExercise:O,cloneExercise:S}=(0,y.Y)(),U=(0,b.s)(),k=(0,s.N)(),{enqueueToast:P}=(0,w.p)(),[z]=(0,i.useState)("exercise-student"),[N,I]=(0,i.useState)(!1),[D,M]=(0,i.useState)(),[B,T]=(0,i.useState)((0,h.ZI)()),[V,$]=(0,i.useState)(!1),W=n.getInput(z),F=(0,i.useMemo)((()=>E),[_]),R=n.getGradeSuccess(z);(0,i.useEffect)((()=>{R&&($(R),setTimeout((()=>{$(!1)}),5e3))}),[R]),(0,i.useEffect)((()=>{Z(e).then((t=>{if(t.success){const t=O(e);t||U("/"),M(t)}}))}),[]);const A=(0,i.useCallback)((async n=>{k({title:"Are you sure?",content:"Please confirm you want to clone this exercise in your private library."}).then((n=>{n&&S(e).then((e=>{e.success&&(P(e.message,{variant:"success"}),t.layout().triggerItemsRefresh(),U(`/${C.handle}/library/exercises`))}))}))}),[k,D]);return D?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o.m,{children:(0,v.jsxs)(a.Z,{display:"flex",children:[(0,v.jsx)(a.Z,{flex:1,children:(0,v.jsx)(d.Z,{sx:{fontSize:3},children:"Exercise"})}),(0,v.jsx)(a.Z,{children:(0,v.jsxs)(l.Z,{children:[C&&D&&(0,v.jsx)(u.r,{variant:"default",size:"small",onClick:()=>U(`/${D.organization?.handle??D.owner?.handle}/${D.space?.handle}/exercises/${D.id}`),children:"Edit"}),C&&D&&(0,v.jsx)(u.r,{variant:"default",size:"small",leadingVisual:p.jcu,onClick:A,children:"Clone"})]})})]})}),(0,v.jsxs)(a.Z,{children:[(0,v.jsx)(c.Z,{children:D.name}),(0,v.jsx)(c.Z,{as:"p",color:"fg.muted",bg:"neutral.muted",p:2,children:D.description})]}),(0,v.jsx)(a.Z,{children:(0,v.jsx)(f.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:F,id:z,codePre:D.codePre,code:D.codeQuestion,receipt:B})}),(0,v.jsxs)(a.Z,{display:"flex",sx:{gap:3},pt:2,pb:2,children:[(0,v.jsx)(a.Z,{children:(0,v.jsx)(u.r,{variant:"danger",leadingVisual:p.UOT,onClick:e=>{e.preventDefault(),I(!N)},children:"Show help"})}),(0,v.jsx)(a.Z,{children:(0,v.jsx)(u.r,{variant:"default",leadingVisual:p.bnu,onClick:e=>{e.preventDefault(),n.setInput(z,D.codeQuestion)},children:"Reset"})})]}),N&&(0,v.jsx)(c.Z,{as:"p",color:"danger.fg",p:2,children:D.help??"No help available."}),(0,v.jsxs)(a.Z,{children:[(0,v.jsx)(u.r,{variant:"default",leadingVisual:p.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),n.setExecuteRequest(z,`\nsetup_state(stu_code = """${D.codePre}\n${W}""", sol_code = """${D.codePre}\n${D.codeSolution}""")\n${D.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${B}</div><h1>ðŸŽ‰ Success!</h1>')\n`)},children:"Validate your solution"}),(0,v.jsx)(c.Z,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"Validate your solution with this button."})]}),V&&(0,v.jsx)(x.x,{})]}):(0,v.jsx)(v.Fragment,{})},_=C},42159:(e,t,n)=>{n.r(t),n.d(t,{OutputModel:()=>p,OutputView:()=>m});var i=n(9494),r=n(97003),s=n(65093),o=n(76640),a=n(96133),d=n.n(a),l=n(47692),u=n.n(l),c=n(96809);u()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;class p extends i.Ms{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new s.n({trusted:!0}),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}get outputs(){return this._outputs}clear_output(e=!1){this._outputs.clear(e)}setOutputs(e,t,n){n&&n.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class m extends i.KK{_createElement(e){return this.luminoWidget=new r.JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=d()(this.luminoWidget.node)}render(){super.render(),this._outputView=new o.FJ({rendermime:this.model.widget_manager.renderMime,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}},9494:(e,t,n)=>{n.d(t,{u:()=>r,Ms:()=>s,KK:()=>o});var i=n(97003);const r="1.0.0";class s extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:r,_view_module_version:r})}}class o extends i.DOMWidgetView{}},23363:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(46830),r=n(51490),s=n(30586);const o=i.ZP.div.withConfig({displayName:"ButtonGroup",componentId:"sc-1gxhls1-0"})(["display:inline-flex;vertical-align:middle;isolation:isolate;&& > *:not([data-loading-wrapper]){margin-inline-end:-1px;position:relative;border-radius:0;:first-child{border-top-left-radius:",";border-bottom-left-radius:",";}:last-child{border-top-right-radius:",";border-bottom-right-radius:",";}:focus,:active,:hover{z-index:1;}}[data-loading-wrapper]{:first-child{button,a{border-top-left-radius:",";border-bottom-left-radius:",";}}:last-child{button,a{border-top-right-radius:",";border-bottom-right-radius:",";}}}[data-loading-wrapper] > *{margin-inline-end:-1px;position:relative;border-radius:0;:focus,:active,:hover{z-index:1;}}",";"],(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),(0,r.U2)("radii.2"),s.Z)},88625:(e,t,n)=>{n.d(t,{N:()=>C,U:()=>j});var i=n(16909),r=n(71025),s=n(46830),o=n(82176),a=n(89439),d=n(60066),l=n(51490),u=n(62171),c=n(62838),p=n(84630);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},m.apply(null,arguments)}const h=s.ZP.div.withConfig({displayName:"ConfirmationDialog__StyledConfirmationHeader",componentId:"sc-11fz0jh-0"})(["padding:",";display:flex;flex-direction:row;"],(0,l.U2)("space.2")),g=(0,s.ZP)(o.Z).attrs({as:"h1"}).withConfig({displayName:"ConfirmationDialog__StyledTitle",componentId:"sc-11fz0jh-1"})(["font-size:",";font-weight:",";padding:6px ",";flex-grow:1;margin:0;"],(0,l.U2)("fontSizes.3"),(0,l.U2)("fontWeights.bold"),(0,l.U2)("space.2")),f=({title:e,onClose:t,dialogLabelId:n})=>{const r=(0,i.useCallback)((()=>{t("close-button")}),[t]);return i.createElement(h,null,i.createElement(g,{id:n},e),i.createElement(u.V.CloseButton,{onClose:r}))};f.displayName="ConfirmationHeader";const x=(0,s.ZP)(o.Z).withConfig({displayName:"ConfirmationDialog__StyledConfirmationBody",componentId:"sc-11fz0jh-2"})(["font-size:",";padding:0 "," "," ",";color:",";flex-grow:1;"],(0,l.U2)("fontSizes.1"),(0,l.U2)("space.3"),(0,l.U2)("space.3"),(0,l.U2)("space.3"),(0,l.U2)("colors.fg.muted")),y=({children:e})=>i.createElement(x,null,e);y.displayName="ConfirmationBody";const b=(0,s.ZP)(o.Z).withConfig({displayName:"ConfirmationDialog__StyledConfirmationFooter",componentId:"sc-11fz0jh-3"})(["display:grid;grid-auto-flow:column;grid-auto-columns:max-content;grid-gap:",";align-items:end;justify-content:end;padding:"," "," ",";"],(0,l.U2)("space.2"),(0,l.U2)("space.1"),(0,l.U2)("space.3"),(0,l.U2)("space.3")),w=({footerButtons:e})=>{const{containerRef:t}=(0,c.v)({bindKeys:d.Qw.ArrowHorizontal|d.Qw.Tab,focusInStrategy:"closest"});return i.createElement(b,{ref:t},i.createElement(u.V.Buttons,{buttons:null!=e?e:[]}))};w.displayName="ConfirmationFooter";const j=e=>{const{onClose:t,title:n,cancelButtonContent:r="Cancel",confirmButtonContent:s="OK",confirmButtonType:o="normal",children:a}=e,d="danger"===o,l=[{content:r,onClick:(0,i.useCallback)((()=>{t("cancel")}),[t]),autoFocus:d},{content:s,buttonType:o,onClick:(0,i.useCallback)((()=>{t("confirm")}),[t]),autoFocus:!d}];return i.createElement(u.V,{onClose:t,title:n,footerButtons:l,role:"alertdialog",width:"medium",renderHeader:f,renderBody:y,renderFooter:w},a)};j.displayName="ConfirmationDialog";let v=null;function C(){const{theme:e,colorMode:t,dayScheme:n,nightScheme:s}=(0,a.Fg)();return(0,i.useCallback)((o=>async function(e,t){const{content:n,...s}=t;return new Promise((t=>{v||=document.createElement("div"),v.isConnected||document.body.append(v);const o=(0,r.s)(v);o.render(i.createElement(a.f6,e,i.createElement(p.Z,null,i.createElement(j,m({},s,{onClose:e=>{o.unmount(),t("confirm"===e)}}),n))))}))}({theme:e,colorMode:t,dayScheme:n,nightScheme:s},o)),[e,t,n,s])}},94910:(e,t,n)=>{n.d(t,{Y:()=>a,Z:()=>d});var i=n(47011),r=n(16909),s=n(46744),o=n(54362);const a=e=>{const t=(0,r.useRef)(null),{children:n,id:a,height:d}=e;return(0,r.useEffect)((()=>{if(t&&t.current){try{o.$L.attach(n,t.current)}catch(e){console.warn("Exception while attaching Lumino widget.",e)}return()=>{try{(0,s.unmountComponentAtNode)(n.node),(n.isAttached||n.node.isConnected)&&(n.dispose(),o.$L.detach(n))}catch(e){}}}}),[t,n]),(0,i.jsx)("div",{id:a,ref:t,style:{height:d,minHeight:d}})};a.defaultProps={id:"lumino-id",height:"100%"};const d=a},69527:(e,t,n)=>{n.d(t,{k:()=>h});var i=n(16909),r=n(46830),s=n(74228),o=n(10866),a=n(17780);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(null,arguments)}const l=(0,r.F4)(["from{mask-position:200%;}to{mask-position:0%;}"]),u=r.ZP.span.withConfig({displayName:"ProgressBar__Item",componentId:"sc-1jz8j7n-0"})(["width:",";background-color:",";@media (prefers-reduced-motion:no-preference){&[data-animated='true']{mask-image:linear-gradient(75deg,#000 30%,rgba(0,0,0,0.65) 80%);mask-size:200%;animation:",";animation-duration:1s;animation-iteration-count:infinite;}}",";"],(e=>e.progress?`${e.progress}%`:0),(0,o.U2)("colors.success.emphasis"),l,a.Z);u.displayName="ProgressBar.Item";const c={small:"5px",large:"10px",default:"8px"},p=r.ZP.span.withConfig({displayName:"ProgressBar__ProgressContainer",componentId:"sc-1jz8j7n-1"})(["display:",";overflow:hidden;background-color:",";border-radius:",";height:",";"," ",";"],(e=>e.inline?"inline-flex":"flex"),(0,o.U2)("colors.border.default"),(0,o.U2)("radii.1"),(e=>c[e.barSize||"default"]),s.width,a.Z),m=(0,i.forwardRef)((({animated:e,progress:t,bg:n="success.emphasis",barSize:r="default",children:s,...o},a)=>{if(s&&t)throw new Error("You should pass `progress` or children, not both.");const l="string"==typeof t?parseInt(t,10):t,c={"aria-valuenow":l?Math.round(l):void 0,"aria-valuemin":0,"aria-valuemax":100,"aria-busy":!!l&&100!==l};return i.createElement(p,d({ref:a,role:"progressbar",barSize:r},c,o),null!=s?s:i.createElement(u,{"data-animated":e,progress:t,sx:{backgroundColor:n}}))}));m.displayName="ProgressBar";const h=Object.assign(m,{Item:u})},96809:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(41145),r=n.n(i),s=n(12410),o=n.n(s)()(r());o.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* <DEPRECATED> */\n.jupyter-widgets.widget-output .jp-OutputArea-prompt, /* <DEPRECATED> */\n.jupyter-widgets.jupyter-widget-output .jp-OutputArea-prompt {\n  display: none;\n}\n",""]);const a=o}}]);