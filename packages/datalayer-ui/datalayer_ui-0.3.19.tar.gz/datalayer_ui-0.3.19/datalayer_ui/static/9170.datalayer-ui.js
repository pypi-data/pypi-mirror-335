"use strict";(self.webpackChunk_datalayer_ui=self.webpackChunk_datalayer_ui||[]).push([[9170],{53387:(e,t,s)=>{s.r(t),s.d(t,{CourseTakeExercise:()=>_,default:()=>v});var i=s(16909),r=s(97663),n=s(15358),a=s(82176),o=s(34166),u=s(68110),d=s(17154),l=s(43275),c=s(98403),p=s(82628),h=s(52925),m=s(63613),g=s(85730),f=s(68495),x=s(45741),j=s(99486),w=s(47011);const _=()=>{const{accountHandle:e,spaceHandle:t,courseId:s,exerciseId:_}=(0,r.UO)();if(!s||!_)return(0,w.jsx)(w.Fragment,{});const v=(0,g.a)(),y=(0,h.gQ)(),{kernelManager:b,defaultKernel:O}=(0,c.W$)(),E=(0,f.s)(),{refreshCourse:Z,getCourse:S,refreshExercise:k,getExercise:C,updateExercisePoints:M}=(0,x.Y)(),[P]=(0,i.useState)("exercise-student"),[I,D]=(0,i.useState)(!1),[W,T]=(0,i.useState)(),[$,z]=(0,i.useState)(),[V,N]=(0,i.useState)(),[R,B]=(0,i.useState)((0,p.ZI)()),[J,F]=(0,i.useState)(!1),K=y.getInput(P),U=(0,i.useMemo)((()=>O),[b]),Y=y.getGradeSuccess(P);return(0,i.useEffect)((()=>{if($?.id&&W?.id&&K&&Y){F(Y),setTimeout((()=>{F(!1)}),5e3);const e=Y?1:0;M(W.id,K,e)}}),[Y]),(0,i.useEffect)((()=>{k(_).then((e=>{if(e.success){const e=C(_);T(e)}}))}),[]),(0,i.useEffect)((()=>{W&&Z(s).then((e=>{if(e.success){const e=S(s);z(e);const t=e?.students?.get(v?.id);if(t&&t.studentItems){const e=t.studentItems.get(W?.id);if(e)return void N(e)}N({id:"",type:"student_item",itemType:"exercise",student:v,item:W,itemId:W?.id,codeStudent:W?.codeQuestion,pass:!1,points:0})}}))}),[W]),$&&W?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(n.m,{children:(0,w.jsxs)(a.Z,{display:"flex",children:[(0,w.jsx)(a.Z,{flex:1,children:(0,w.jsx)(o.Z,{sx:{fontSize:3},children:"Course exercise"})}),(0,w.jsx)(a.Z,{children:(0,w.jsx)(u.r,{variant:"default",size:"small",onClick:()=>E(`/${e}/${t}/course/${$.id}/progress`),children:"My course progress"})})]})}),(0,w.jsx)(a.Z,{children:(0,w.jsx)(d.Z,{children:W?.description})}),(0,w.jsx)(a.Z,{pt:3,children:V&&(0,w.jsx)(m.r,{showEditor:!0,autoRun:!1,disableRun:!1,kernel:U,id:P,codePre:W.codePre,code:V.codeStudent,receipt:R})}),(0,w.jsxs)(a.Z,{children:[(0,w.jsxs)(a.Z,{display:"flex",sx:{gap:3},pt:2,pb:2,children:[(0,w.jsx)(a.Z,{children:(0,w.jsx)(u.r,{variant:"danger",leadingVisual:l.UOT,onClick:e=>{e.preventDefault(),D(!I)},children:"Show help"})}),(0,w.jsx)(a.Z,{children:(0,w.jsx)(u.r,{variant:"default",leadingVisual:l.bnu,onClick:e=>{e.preventDefault(),y.setInput(P,W?.codeQuestion)},children:"Reset"})})]}),I&&(0,w.jsx)(d.Z,{as:"p",color:"danger.fg",p:2,children:W?.help??"No help available."})]}),(0,w.jsxs)(a.Z,{children:[(0,w.jsx)(u.r,{variant:"default",leadingVisual:l.Zi2,sx:{marginTop:2,marginBottom:2},onClick:e=>{e.preventDefault(),(e=>{y.setGradeSuccess(P,!1),y.setExecuteRequest(P,`\nsetup_state(stu_code = """${e.codePre}\n${K}""", sol_code = """${e.codePre}\n${e.codeSolution}""")\n${e.codeTest}\nfrom IPython.core.display import HTML\nHTML('<div style="display: none">You have passed the exercise! Your receipt is ${R}</div><h1>ðŸŽ‰ Success!</h1>')\n`)})(W)},children:"Grade your answer"}),(0,w.jsx)(d.Z,{as:"p",color:"fg.onEmphasis",bg:"neutral.emphasis",p:2,children:"You ask for a grade as much as you want. Everytime you request a grade, your last answer code and point are saved."})]}),J&&(0,w.jsx)(j.x,{})]}):(0,w.jsx)(w.Fragment,{})},v=_},42159:(e,t,s)=>{s.r(t),s.d(t,{OutputModel:()=>p,OutputView:()=>h});var i=s(9494),r=s(97003),n=s(65093),a=s(76640),o=s(96133),u=s.n(o),d=s(47692),l=s.n(d),c=s(96809);l()(c.Z,{insert:"head",singleton:!1}),c.Z.locals;class p extends i.Ms{defaults(){return Object.assign(Object.assign({},super.defaults()),{msg_id:"",outputs:[]})}initialize(e,t){super.initialize(e,t),this._outputs=new n.n({trusted:!0}),this.listenTo(this,"change:outputs",this.setOutputs),this.setOutputs()}get outputs(){return this._outputs}clear_output(e=!1){this._outputs.clear(e)}setOutputs(e,t,s){s&&s.newMessage||(this.clear_output(),this._outputs.fromJSON(JSON.parse(JSON.stringify(this.get("outputs")))))}}class h extends i.KK{_createElement(e){return this.luminoWidget=new r.JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=u()(this.luminoWidget.node)}render(){super.render(),this._outputView=new a.FJ({rendermime:this.model.widget_manager.renderMime,model:this.model.outputs}),this.luminoWidget.insertWidget(0,this._outputView),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-output"),this.update()}remove(){return this._outputView.dispose(),super.remove()}}},9494:(e,t,s)=>{s.d(t,{u:()=>r,Ms:()=>n,KK:()=>a});var i=s(97003);const r="1.0.0";class n extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:r,_view_module_version:r})}}class a extends i.DOMWidgetView{}},69527:(e,t,s)=>{s.d(t,{k:()=>m});var i=s(16909),r=s(46830),n=s(74228),a=s(10866),o=s(17780);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)({}).hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},u.apply(null,arguments)}const d=(0,r.F4)(["from{mask-position:200%;}to{mask-position:0%;}"]),l=r.ZP.span.withConfig({displayName:"ProgressBar__Item",componentId:"sc-1jz8j7n-0"})(["width:",";background-color:",";@media (prefers-reduced-motion:no-preference){&[data-animated='true']{mask-image:linear-gradient(75deg,#000 30%,rgba(0,0,0,0.65) 80%);mask-size:200%;animation:",";animation-duration:1s;animation-iteration-count:infinite;}}",";"],(e=>e.progress?`${e.progress}%`:0),(0,a.U2)("colors.success.emphasis"),d,o.Z);l.displayName="ProgressBar.Item";const c={small:"5px",large:"10px",default:"8px"},p=r.ZP.span.withConfig({displayName:"ProgressBar__ProgressContainer",componentId:"sc-1jz8j7n-1"})(["display:",";overflow:hidden;background-color:",";border-radius:",";height:",";"," ",";"],(e=>e.inline?"inline-flex":"flex"),(0,a.U2)("colors.border.default"),(0,a.U2)("radii.1"),(e=>c[e.barSize||"default"]),n.width,o.Z),h=(0,i.forwardRef)((({animated:e,progress:t,bg:s="success.emphasis",barSize:r="default",children:n,...a},o)=>{if(n&&t)throw new Error("You should pass `progress` or children, not both.");const d="string"==typeof t?parseInt(t,10):t,c={"aria-valuenow":d?Math.round(d):void 0,"aria-valuemin":0,"aria-valuemax":100,"aria-busy":!!d&&100!==d};return i.createElement(p,u({ref:o,role:"progressbar",barSize:r},c,a),null!=n?n:i.createElement(l,{"data-animated":e,progress:t,sx:{backgroundColor:s}}))}));h.displayName="ProgressBar";const m=Object.assign(h,{Item:l})},96809:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(41145),r=s.n(i),n=s(12410),a=s.n(n)()(r());a.push([e.id,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/* <DEPRECATED> */\n.jupyter-widgets.widget-output .jp-OutputArea-prompt, /* <DEPRECATED> */\n.jupyter-widgets.jupyter-widget-output .jp-OutputArea-prompt {\n  display: none;\n}\n",""]);const o=a}}]);