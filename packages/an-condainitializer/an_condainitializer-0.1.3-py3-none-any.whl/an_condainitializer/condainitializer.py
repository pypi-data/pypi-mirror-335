# -*- coding: utf-8 -*-
"""CINR_20250321_00

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1k7GDIB8g7sSJWL3ojbiW5UIn7PnDMCq8

# CondaInitializer
Condaの初期設定を行います。

```
2025/03/21 0.1.0 完成
2025/03/21 0.1.1 ミス
2025/03/21 0.1.2 ミス
2025/03/21 0.1.3 バグ修正
```

# CondaInitializer

## 1. モジュール定義
"""

# @title a. Google Drive接続と condacolabのインストール

class CondaInitializer:
    def __init__( self ):
        # GDrive接続
        from google.colab import drive
        drive.mount('/content/drive')

        # condacolab 起動
        get_ipython().system( "pip install -q condacolab" )
        import condacolab
        # Colabでは "source" を使えないため、bash -c で conda 初期化スクリプトを経由する
        get_ipython().system( "bash -c 'source /usr/local/etc/profile.d/conda.sh'" )

        condacolab.install()
        get_ipython().system( "conda install mamba -n base -c conda-forge" )
        get_ipython().system( "conda install -y -c conda-forge conda-pack" )

"""## 2. テスト"""

# @title a. CondaInitializer 実行
if __name__ == "__main__":
    condaini = CondaInitializer()